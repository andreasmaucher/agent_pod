(()=>{var exports={};exports.id=8974,exports.ids=[8974],exports.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},8086:e=>{"use strict";e.exports=require("module")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},41204:e=>{"use strict";e.exports=require("string_decoder")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},96967:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>d,tree:()=>u});var n=r(70260),i=r(28203),s=r(25155),o=r.n(s),a=r(67292),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,78200)),"/Users/andy/freysa2/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"/Users/andy/freysa2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/andy/freysa2/app/page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},d=new n.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},85394:(e,t,r)=>{Promise.resolve().then(r.bind(r,32477))},32250:(e,t,r)=>{Promise.resolve().then(r.bind(r,91848))},19:(e,t,r)=>{Promise.resolve().then(r.bind(r,99034))},36971:(e,t,r)=>{Promise.resolve().then(r.bind(r,43358))},25473:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,96313,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},61921:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,86013,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},89576:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var n=r(45512),i=r(45103);let s=()=>(0,n.jsx)("div",{className:"p-0 lg:px-12",children:(0,n.jsx)("div",{className:"sticky top-8",children:(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsx)("div",{className:"bg-[#F2F2F2] p-6",children:(0,n.jsx)("div",{className:"space-y-1",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,n.jsx)("a",{href:"/faq",className:"text-blue-600 hover:text-blue-800 text-[16px] font-[500] font-inter",children:"FAQ"}),(0,n.jsx)("a",{href:"/lore",className:"text-blue-600 hover:text-blue-800 text-[16px] font-[500] font-inter",children:"Lore"}),(0,n.jsx)("a",{href:"/terms",className:"text-blue-600 hover:text-blue-800 text-[16px] font-[500] font-inter",children:"Terms"}),(0,n.jsx)("div",{className:"flex items-center gap-2 pt-2",children:[{link:process.env.NEXT_PUBLIC_X_LINK,icon:"/x.svg",alt:"X"},{link:process.env.NEXT_PUBLIC_GITHUB_LINK,icon:"/github.svg",alt:"Github"}].map(e=>(0,n.jsx)("a",{href:e.link,target:"_blank",children:(0,n.jsx)(i.default,{src:e.icon,alt:e.alt,width:16,height:16})},e.link))})]})})})})})})},21244:(e,t,r)=>{"use strict";r.d(t,{U:()=>o});var n=r(45512),i=r(59462),s=r(58009);let o=({totalParticipants:e,totalMessages:t,className:r,endgameTime:o,isGameEnded:a})=>{let[l,u]=(0,s.useState)(0);(0,s.useEffect)(()=>{if(!o)return;let e=new Date;u(Math.floor((o.getTime()-e.getTime())/1e3));let t=setInterval(()=>{u(e=>e<=0?(clearInterval(t),0):e-1)},1e3);return()=>clearInterval(t)},[o]);let c=Math.floor(l/60),h=l%60,d=l<=0?"Game Ended":`${c}:${h.toString().padStart(2,"0")}`;return(0,n.jsx)("div",{className:(0,i.cn)("px-0 lg:px-12",r),children:(0,n.jsx)("div",{className:"sticky top-8",children:(0,n.jsx)("div",{className:"space-y-6",children:(0,n.jsx)("div",{className:"bg-[#F2F2F2] p-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h3",{className:"font-[700] text-[20px] text-[#86868b] font-inter",children:"Stats"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-[600] text-[#86868b] uppercase tracking-wider font-inter",children:"Total Participants"}),(0,n.jsx)("p",{className:"text-5xl font-[500] text-[#1F2024] font-inter",children:e})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-[600] text-[#86868b] uppercase tracking-wider font-inter",children:"Break Attempts"}),(0,n.jsx)("p",{className:"text-5xl font-[500] text-[#1F2024] font-inter",children:t})]}),a&&(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"text-5xl font-[500] text-[#1F2024] font-inter",children:"Game Ended"})}),!a&&o&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-md font-[600] text-[#86868b] uppercase tracking-wider font-inter",children:"Time Remaining"}),(0,n.jsx)("p",{className:"text-5xl font-[500] text-[#1F2024] font-inter",children:d})]})]})})})})})}},91848:(e,t,r)=>{"use strict";let n,i,s,o;r.d(t,{Main:()=>pD});var a=r(45512);function l(e){if("undefined"==typeof Proxy)return e;let t=new Map;return new Proxy((...t)=>e(...t),{get:(r,n)=>"create"===n?e:(t.has(n)||t.set(n,e(n)),t.get(n))})}function u(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}let c=e=>Array.isArray(e);function h(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function d(e){return"string"==typeof e||Array.isArray(e)}function f(e){let t=[{},{}];return null==e||e.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function p(e,t,r,n){if("function"==typeof t||("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t)){let[i,s]=f(n);t=t(void 0!==r?r:e.custom,i,s)}return t}function m(e,t,r){let n=e.getProps();return p(n,t,void 0!==r?r:n.custom,e)}let g=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y=["initial",...g],v=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],b=new Set(v),w=e=>1e3*e,x=e=>e/1e3,M={type:"spring",stiffness:500,damping:25,restSpeed:10},E=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),A={type:"keyframes",duration:.8},N={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I=(e,{keyframes:t})=>t.length>2?A:b.has(e)?e.startsWith("scale")?E(t[1]):M:N;function T(e,t){return e?e[t]||e.default||e:void 0}let S={skipAnimations:!1,useManualTiming:!1},k={current:!1},j=e=>null!==e;function P(e,{repeat:t,repeatType:r="loop"},n){let i=e.filter(j),s=t&&"loop"!==r&&t%2==1?0:i.length-1;return s&&void 0!==n?n:i[s]}let O=e=>e;function D(e){let t=new Set,r=new Set,n=!1,i=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}let l={schedule:(e,i=!1,o=!1)=>{let a=o&&n?t:r;return i&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{if(o=e,n){i=!0;return}n=!0,[t,r]=[r,t],r.clear(),t.forEach(a),n=!1,i&&(i=!1,l.process(e))}};return l}let C=["read","resolveKeyframes","update","preRender","render","postRender"],L=40;function R(e,t){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=C.reduce((e,t)=>(e[t]=D(s),e),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:h,postRender:d}=o,f=()=>{let s=S.useManualTiming?i.timestamp:performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(s-i.timestamp,L),1),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(f))},p=()=>{r=!0,n=!0,i.isProcessing||e(f)};return{schedule:C.reduce((e,t)=>{let n=o[t];return e[t]=(e,t=!1,i=!1)=>(r||p(),n.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<C.length;t++)o[C[t]].cancel(e)},state:i,steps:o}}let{schedule:F,cancel:_,state:z,steps:U}=R("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:O,!0),$=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,B=1e-7,V=12;function q(e,t,r,n,i){let s,o;let a=0;do(s=$(o=t+(r-t)/2,n,i)-e)>0?r=o:t=o;while(Math.abs(s)>B&&++a<V);return o}function W(e,t,r,n){if(e===t&&r===n)return O;let i=t=>q(t,0,1,e,r);return e=>0===e||1===e?e:$(i(e),t,n)}let H=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,G=e=>t=>1-e(1-t),Y=W(.33,1.53,.69,.99),Q=G(Y),Z=H(Q),K=e=>(e*=2)<1?.5*Q(e):.5*(2-Math.pow(2,-10*(e-1))),X=e=>1-Math.sin(Math.acos(e)),J=G(X),ee=H(X),et=e=>/^0[^.\s]+$/u.test(e);function er(e){return"number"==typeof e?0===e:null===e||"none"===e||"0"===e||et(e)}let en=O,ei=O,es=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eo=e=>t=>"string"==typeof t&&t.startsWith(e),ea=eo("--"),el=eo("var(--"),eu=e=>!!el(e)&&ec.test(e.split("/*")[0].trim()),ec=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ed(e){let t=eh.exec(e);if(!t)return[,];let[,r,n,i]=t;return[`--${null!=r?r:n}`,i]}let ef=4;function ep(e,t,r=1){ei(r<=ef,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[n,i]=ed(e);if(!n)return;let s=window.getComputedStyle(t).getPropertyValue(n);if(s){let e=s.trim();return es(e)?parseFloat(e):e}return eu(i)?ep(i,t,r+1):i}let em=(e,t,r)=>r>t?t:r<e?e:r,eg={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ey={...eg,transform:e=>em(0,1,e)},ev={...eg,default:1},eb=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ew=eb("deg"),ex=eb("%"),eM=eb("px"),eE=eb("vh"),eA=eb("vw"),eN={...ex,parse:e=>ex.parse(e)/100,transform:e=>ex.transform(100*e)},eI=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),eT=e=>e===eg||e===eM,eS=(e,t)=>parseFloat(e.split(", ")[t]),ek=(e,t)=>(r,{transform:n})=>{if("none"===n||!n)return 0;let i=n.match(/^matrix3d\((.+)\)$/u);if(i)return eS(i[1],t);{let t=n.match(/^matrix\((.+)\)$/u);return t?eS(t[1],e):0}},ej=new Set(["x","y","z"]),eP=v.filter(e=>!ej.has(e));function eO(e){let t=[];return eP.forEach(r=>{let n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}let eD={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ek(4,13),y:ek(5,14)};eD.translateX=eD.x,eD.translateY=eD.y;let eC=e=>t=>t.test(e),eL=[eg,eM,ex,ew,eA,eE,{test:e=>"auto"===e,parse:e=>e}],eR=e=>eL.find(eC(e)),eF=new Set,e_=!1,ez=!1;function eU(){if(ez){let e=Array.from(eF).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t=eO(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{var n;null===(n=e.getValue(t))||void 0===n||n.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ez=!1,e_=!1,eF.forEach(e=>e.complete()),eF.clear()}function e$(){eF.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ez=!0)})}function eB(){e$(),eU()}class eV{constructor(e,t,r,n,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(eF.add(this),e_||(e_=!0,F.read(e$),F.resolveKeyframes(eU))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;for(let i=0;i<e.length;i++)if(null===e[i]){if(0===i){let i=null==n?void 0:n.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){let n=r.readValue(t,s);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=s),n&&void 0===i&&n.set(e[0])}else e[i]=e[i-1]}}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),eF.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,eF.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let eq=e=>Math.round(1e5*e)/1e5,eW=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eH(e){return null==e}let eG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eY=(e,t)=>r=>!!("string"==typeof r&&eG.test(r)&&r.startsWith(e)||t&&!eH(r)&&Object.prototype.hasOwnProperty.call(r,t)),eQ=(e,t,r)=>n=>{if("string"!=typeof n)return n;let[i,s,o,a]=n.match(eW);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},eZ=e=>em(0,255,e),eK={...eg,transform:e=>Math.round(eZ(e))},eX={test:eY("rgb","red"),parse:eQ("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+eK.transform(e)+", "+eK.transform(t)+", "+eK.transform(r)+", "+eq(ey.transform(n))+")"};function eJ(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}let e0={test:eY("#"),parse:eJ,transform:eX.transform},e1={test:eY("hsl","hue"),parse:eQ("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ex.transform(eq(t))+", "+ex.transform(eq(r))+", "+eq(ey.transform(n))+")"},e2={test:e=>eX.test(e)||e0.test(e)||e1.test(e),parse:e=>eX.test(e)?eX.parse(e):e1.test(e)?e1.parse(e):e0.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?eX.transform(e):e1.transform(e)},e5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,e6="number",e4="color",e3="var",e8="var(",e9="${}",e7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function te(e){let t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[],s=0,o=t.replace(e7,e=>(e2.test(e)?(n.color.push(s),i.push(e4),r.push(e2.parse(e))):e.startsWith(e8)?(n.var.push(s),i.push(e3),r.push(e)):(n.number.push(s),i.push(e6),r.push(parseFloat(e))),++s,e9)).split(e9);return{values:r,split:o,indexes:n,types:i}}function tt(e){return te(e).values}function tr(e){let{split:t,types:r}=te(e),n=t.length;return e=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],void 0!==e[s]){let t=r[s];t===e6?i+=eq(e[s]):t===e4?i+=e2.transform(e[s]):i+=e[s]}return i}}let tn=e=>"number"==typeof e?0:e;function ti(e){let t=tt(e);return tr(e)(t.map(tn))}let ts={test:function(e){var t,r;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match(eW))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(e5))||void 0===r?void 0:r.length)||0)>0},parse:tt,createTransformer:tr,getAnimatableNone:ti},to=new Set(["brightness","contrast","saturate","opacity"]);function ta(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=r.match(eW)||[];if(!n)return e;let i=r.replace(n,""),s=to.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}let tl=/\b([a-z-]*)\(.*?\)/gu,tu={...ts,getAnimatableNone:e=>{let t=e.match(tl);return t?t.map(ta).join(" "):e}},tc={borderWidth:eM,borderTopWidth:eM,borderRightWidth:eM,borderBottomWidth:eM,borderLeftWidth:eM,borderRadius:eM,radius:eM,borderTopLeftRadius:eM,borderTopRightRadius:eM,borderBottomRightRadius:eM,borderBottomLeftRadius:eM,width:eM,maxWidth:eM,height:eM,maxHeight:eM,top:eM,right:eM,bottom:eM,left:eM,padding:eM,paddingTop:eM,paddingRight:eM,paddingBottom:eM,paddingLeft:eM,margin:eM,marginTop:eM,marginRight:eM,marginBottom:eM,marginLeft:eM,backgroundPositionX:eM,backgroundPositionY:eM},th={rotate:ew,rotateX:ew,rotateY:ew,rotateZ:ew,scale:ev,scaleX:ev,scaleY:ev,scaleZ:ev,skew:ew,skewX:ew,skewY:ew,distance:eM,translateX:eM,translateY:eM,translateZ:eM,x:eM,y:eM,z:eM,perspective:eM,transformPerspective:eM,opacity:ey,originX:eN,originY:eN,originZ:eM},td={...eg,transform:Math.round},tf={...tc,...th,zIndex:td,size:eM,fillOpacity:ey,strokeOpacity:ey,numOctaves:td},tp={...tf,color:e2,backgroundColor:e2,outlineColor:e2,fill:e2,stroke:e2,borderColor:e2,borderTopColor:e2,borderRightColor:e2,borderBottomColor:e2,borderLeftColor:e2,filter:tu,WebkitFilter:tu},tm=e=>tp[e];function tg(e,t){let r=tm(e);return r!==tu&&(r=ts),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let ty=new Set(["auto","none","0"]);function tv(e,t,r){let n,i=0;for(;i<e.length&&!n;){let t=e[i];"string"==typeof t&&!ty.has(t)&&te(t).values.length&&(n=e[i]),i++}if(n&&r)for(let i of t)e[i]=tg(r,n)}class tb extends eV{constructor(e,t,r,n,i){super(e,t,r,n,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let n=e[r];if("string"==typeof n&&eu(n=n.trim())){let i=ep(n,t.current);void 0!==i&&(e[r]=i),r===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!eI.has(r)||2!==e.length)return;let[n,i]=e,s=eR(n),o=eR(i);if(s!==o){if(eT(s)&&eT(o))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else this.needsMeasurement=!0}}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)er(e[t])&&r.push(t);r.length&&tv(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eD[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){var e;let{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;let i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);let s=n.length-1,o=n[s];n[s]=eD[r](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==o&&void 0===this.finalKeyframe&&(this.finalKeyframe=o),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach(([e,r])=>{t.getValue(e).set(r)}),this.resolveNoneKeyframes()}}function tw(e){return"function"==typeof e}function tx(){n=void 0}let tM={now:()=>(void 0===n&&tM.set(z.isProcessing||S.useManualTiming?z.timestamp:performance.now()),n),set:e=>{n=e,queueMicrotask(tx)}},tE=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ts.test(e)||"0"===e)&&!e.startsWith("url("));function tA(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function tN(e,t,r,n){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],o=tE(i,t),a=tE(s,t);return en(o===a,`You are trying to animate ${t} from "${i}" to "${s}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${s} via the \`style\` property.`),!!o&&!!a&&(tA(e)||("spring"===r||tw(r))&&n)}let tI=40;class tT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tM.now(),this.options={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:i,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>tI?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||eB(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=tM.now(),this.hasAttemptedResolve=!0;let{name:r,type:n,velocity:i,delay:s,onComplete:o,onUpdate:a,isGenerator:l}=this.options;if(!l&&!tN(e,r,n,i)){if(k.current||!s){null==a||a(P(e,this.options,t)),null==o||o(),this.resolveFinishedPromise();return}this.options.duration=0}let u=this.initPlayback(e,t);!1!==u&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}let tS=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n},tk=(e,t,r=10)=>{let n="",i=Math.max(Math.round(t/r),2);for(let t=0;t<i;t++)n+=e(tS(0,i-1,t))+", ";return`linear(${n.substring(0,n.length-2)})`};function tj(e,t){return t?1e3/t*e:0}let tP=5;function tO(e,t,r){let n=Math.max(t-tP,0);return tj(r-e(n),t-n)}let tD={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tC=.001;function tL({duration:e=tD.duration,bounce:t=tD.bounce,velocity:r=tD.velocity,mass:n=tD.mass}){let i,s;en(e<=w(tD.maxDuration),"Spring duration must be 10 seconds or less");let o=1-t;o=em(tD.minDamping,tD.maxDamping,o),e=em(tD.minDuration,tD.maxDuration,x(e)),o<1?(i=t=>{let n=t*o,i=n*e;return tC-(n-r)/t_(t,o)*Math.exp(-i)},s=t=>{let n=t*o*e,s=n*r+r,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-n),u=t_(Math.pow(t,2),o);return(s-a)*l*(-i(t)+tC>0?-1:1)/u}):(i=t=>-tC+Math.exp(-t*e)*((t-r)*e+1),s=t=>e*e*(r-t)*Math.exp(-t*e));let a=tF(i,s,5/e);if(e=w(e),isNaN(a))return{stiffness:tD.stiffness,damping:tD.damping,duration:e};{let t=Math.pow(a,2)*n;return{stiffness:t,damping:2*o*Math.sqrt(n*t),duration:e}}}let tR=12;function tF(e,t,r){let n=r;for(let r=1;r<tR;r++)n-=e(n)/t(n);return n}function t_(e,t){return e*Math.sqrt(1-t*t)}let tz=2e4;function tU(e){let t=0,r=50,n=e.next(t);for(;!n.done&&t<tz;)t+=r,n=e.next(t);return t>=tz?1/0:t}let t$=["duration","bounce"],tB=["stiffness","damping","mass"];function tV(e,t){return t.some(t=>void 0!==e[t])}function tq(e){let t={velocity:tD.velocity,stiffness:tD.stiffness,damping:tD.damping,mass:tD.mass,isResolvedFromDuration:!1,...e};if(!tV(e,tB)&&tV(e,t$)){if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),n=r*r,i=2*em(.05,1,1-e.bounce)*Math.sqrt(n);t={...t,mass:tD.mass,stiffness:n,damping:i}}else{let r=tL(e);(t={...t,...r,mass:tD.mass}).isResolvedFromDuration=!0}}return t}function tW(e=tD.visualDuration,t=tD.bounce){let r;let n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:s}=n,o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:u,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:p}=tq({...n,velocity:-x(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(u*h)),y=a-o,v=x(Math.sqrt(u/h)),b=5>Math.abs(y);if(i||(i=b?tD.restSpeed.granular:tD.restSpeed.default),s||(s=b?tD.restDelta.granular:tD.restDelta.default),g<1){let e=t_(v,g);r=t=>a-Math.exp(-g*v*t)*((m+g*v*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===g)r=e=>a-Math.exp(-v*e)*(y+(m+v*y)*e);else{let e=v*Math.sqrt(g*g-1);r=t=>{let r=Math.exp(-g*v*t),n=Math.min(e*t,300);return a-r*((m+g*v*y)*Math.sinh(n)+e*y*Math.cosh(n))/e}}let M={calculatedDuration:p&&d||null,next:e=>{let t=r(e);if(p)l.done=e>=d;else{let n=0;g<1&&(n=0===e?w(m):tO(r,e,t));let o=Math.abs(n)<=i,u=Math.abs(a-t)<=s;l.done=o&&u}return l.value=l.done?a:t,l},toString:()=>{let e=Math.min(tU(M),tz),t=tk(t=>M.next(e*t).value,e,30);return e+"ms "+t}};return M}function tH({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){let h,d;let f=e[0],p={done:!1,value:f},m=e=>void 0!==a&&e<a||void 0!==l&&e>l,g=e=>void 0===a?l:void 0===l?a:Math.abs(a-e)<Math.abs(l-e)?a:l,y=r*t,v=f+y,b=void 0===o?v:o(v);b!==v&&(y=b-f);let w=e=>-y*Math.exp(-e/n),x=e=>b+w(e),M=e=>{let t=w(e),r=x(e);p.done=Math.abs(t)<=u,p.value=p.done?b:r},E=e=>{m(p.value)&&(h=e,d=tW({keyframes:[p.value,g(p.value)],velocity:tO(x,e,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,M(e),E(e)),void 0!==h&&e>=h)?d.next(e-h):(t||M(e),p)}}}let tG=W(.42,0,1,1),tY=W(0,0,.58,1),tQ=W(.42,0,.58,1),tZ=e=>Array.isArray(e)&&"number"!=typeof e[0],tK=e=>Array.isArray(e)&&"number"==typeof e[0],tX={linear:O,easeIn:tG,easeInOut:tQ,easeOut:tY,circIn:X,circInOut:ee,circOut:J,backIn:Q,backInOut:Z,backOut:Y,anticipate:K},tJ=e=>{if(tK(e)){ei(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,r,n,i]=e;return W(t,r,n,i)}return"string"==typeof e?(ei(void 0!==tX[e],`Invalid easing type '${e}'`),tX[e]):e},t0=(e,t)=>r=>t(e(r)),t1=(...e)=>e.reduce(t0),t2=(e,t,r)=>e+(t-e)*r;function t5(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function t6({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let i=0,s=0,o=0;if(t/=100){let n=r<.5?r*(1+t):r+t-r*t,a=2*r-n;i=t5(a,n,e+1/3),s=t5(a,n,e),o=t5(a,n,e-1/3)}else i=s=o=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:n}}function t4(e,t){return r=>r>0?t:e}let t3=(e,t,r)=>{let n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},t8=[e0,eX,e1],t9=e=>t8.find(t=>t.test(e));function t7(e){let t=t9(e);if(en(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`),!t)return!1;let r=t.parse(e);return t===e1&&(r=t6(r)),r}let re=(e,t)=>{let r=t7(e),n=t7(t);if(!r||!n)return t4(e,t);let i={...r};return e=>(i.red=t3(r.red,n.red,e),i.green=t3(r.green,n.green,e),i.blue=t3(r.blue,n.blue,e),i.alpha=t2(r.alpha,n.alpha,e),eX.transform(i))},rt=new Set(["none","hidden"]);function rr(e,t){return rt.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function rn(e,t){return r=>t2(e,t,r)}function ri(e){return"number"==typeof e?rn:"string"==typeof e?eu(e)?t4:e2.test(e)?re:rl:Array.isArray(e)?rs:"object"==typeof e?e2.test(e)?re:ro:t4}function rs(e,t){let r=[...e],n=r.length,i=e.map((e,r)=>ri(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}}function ro(e,t){let r={...e,...t},n={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=ri(e[i])(e[i],t[i]));return e=>{for(let t in n)r[t]=n[t](e);return r}}function ra(e,t){var r;let n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){let o=t.types[s],a=e.indexes[o][i[o]],l=null!==(r=e.values[a])&&void 0!==r?r:0;n[s]=l,i[o]++}return n}let rl=(e,t)=>{let r=ts.createTransformer(t),n=te(e),i=te(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?rt.has(e)&&!i.values.length||rt.has(t)&&!n.values.length?rr(e,t):t1(rs(ra(n,i),i.values),r):(en(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),t4(e,t))};function ru(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?t2(e,t,r):ri(e)(e,t)}function rc(e,t,r){let n=[],i=r||ru,s=e.length-1;for(let r=0;r<s;r++){let s=i(e[r],e[r+1]);t&&(s=t1(Array.isArray(t)?t[r]||O:t,s)),n.push(s)}return n}function rh(e,t,{clamp:r=!0,ease:n,mixer:i}={}){let s=e.length;if(ei(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=rc(t,n,i),a=o.length,l=t=>{let r=0;if(a>1)for(;r<e.length-2&&!(t<e[r+1]);r++);let n=tS(e[r],e[r+1],t);return o[r](n)};return r?t=>l(em(e[0],e[s-1],t)):l}function rd(e,t){let r=e[e.length-1];for(let n=1;n<=t;n++){let i=tS(0,t,n);e.push(t2(r,1,i))}}function rf(e){let t=[0];return rd(t,e.length-1),t}function rp(e,t){return e.map(e=>e*t)}function rm(e,t){return e.map(()=>t||tQ).splice(0,e.length-1)}function rg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){let i=tZ(n)?n.map(tJ):tJ(n),s={done:!1,value:t[0]},o=rh(rp(r&&r.length===t.length?r:rf(t),e),t,{ease:Array.isArray(i)?i:rm(t,i)});return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}let ry=e=>{let t=({timestamp:t})=>e(t);return{start:()=>F.update(t,!0),stop:()=>_(t),now:()=>z.isProcessing?z.timestamp:tM.now()}},rv={decay:tH,inertia:tH,tween:rg,keyframes:rg,spring:tW},rb=e=>e/100;class rw extends tT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();let{onStop:e}=this.options;e&&e()};let{name:t,motionValue:r,element:n,keyframes:i}=this.options,s=(null==n?void 0:n.KeyframeResolver)||eV,o=(e,t)=>this.onKeyframesResolved(e,t);this.resolver=new s(i,o,t,r,n),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){let t,r;let{type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=this.options,l=tw(n)?n:rv[n]||rg;l!==rg&&"number"!=typeof e[0]&&(t=t1(rb,ru(e[0],e[1])),e=[0,100]);let u=l({...this.options,keyframes:e});"mirror"===o&&(r=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),null===u.calculatedDuration&&(u.calculatedDuration=tU(u));let{calculatedDuration:c}=u,h=c+s,d=h*(i+1)-s;return{generator:u,mirroredGenerator:r,mapPercentToKeyframes:t,calculatedDuration:c,resolvedDuration:h,totalDuration:d}}onPostResolved(){let{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){let{resolved:r}=this;if(!r){let{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}let{finalKeyframe:n,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:l,totalDuration:u,resolvedDuration:c}=r;if(null===this.startTime)return i.next(0);let{delay:h,repeat:d,repeatType:f,repeatDelay:p,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;let g=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=u);let v=this.currentTime,b=i;if(d){let e=Math.min(this.currentTime,u)/c,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,d+1))%2&&("reverse"===f?(r=1-r,p&&(r-=p/c)):"mirror"===f&&(b=s)),v=em(0,1,r)*c}let w=y?{done:!1,value:a[0]}:b.next(v);o&&(w.value=o(w.value));let{done:x}=w;y||null===l||(x=this.speed>=0?this.currentTime>=u:this.currentTime<=0);let M=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return M&&void 0!==n&&(w.value=P(a,this.options,n)),m&&m(w.value),M&&this.finish(),w}get duration(){let{resolved:e}=this;return e?x(e.calculatedDuration):0}get time(){return x(this.currentTime)}set time(e){e=w(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=x(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;let{driver:e=ry,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),t&&t();let n=this.driver.now();null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=n):this.startTime=null!=r?r:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";let{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function rx(e){return new rw(e)}let rM=new Set(["opacity","clipPath","filter","transform"]);function rE(e){let t;return()=>(void 0===t&&(t=e()),t)}let rA={linearEasing:void 0},rN=function(e,t){let r=rE(e);return()=>{var e;return null!==(e=rA[t])&&void 0!==e?e:r()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing");function rI(e){return!!("function"==typeof e&&rN()||!e||"string"==typeof e&&(e in rS||rN())||tK(e)||Array.isArray(e)&&e.every(rI))}let rT=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,rS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rT([0,.65,.55,1]),circOut:rT([.55,0,1,.45]),backIn:rT([.31,.01,.66,-.59]),backOut:rT([.33,1.53,.69,.99])};function rk(e,t){if(e)return"function"==typeof e&&rN()?tk(e,t):tK(e)?rT(e):Array.isArray(e)?e.map(e=>rk(e,t)||rS.easeOut):rS[e]}function rj(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){let u={[t]:r};l&&(u.offset=l);let c=rk(a,i);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}function rP(e,t){e.timeline=t,e.onfinish=null}let rO=rE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rD=10,rC=2e4;function rL(e){return tw(e.type)||"spring"===e.type||!rI(e.ease)}function rR(e,t){let r=new rw({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0}),n={done:!1,value:e[0]},i=[],s=0;for(;!n.done&&s<rC;)i.push((n=r.sample(s)).value),s+=rD;return{times:void 0,keyframes:i,duration:s-rD,ease:"linear"}}let rF={anticipate:K,backInOut:Z,circInOut:ee};function r_(e){return e in rF}class rz extends tT{constructor(e){super(e);let{name:t,motionValue:r,element:n,keyframes:i}=this.options;this.resolver=new tb(i,(e,t)=>this.onKeyframesResolved(e,t),t,r,n),this.resolver.scheduleResolve()}initPlayback(e,t){var r;let{duration:n=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!(null===(r=a.owner)||void 0===r?void 0:r.current))return!1;if("string"==typeof s&&rN()&&r_(s)&&(s=rF[s]),rL(this.options)){let{onComplete:t,onUpdate:r,motionValue:a,element:l,...u}=this.options,c=rR(e,u);1===(e=c.keyframes).length&&(e[1]=e[0]),n=c.duration,i=c.times,s=c.ease,o="keyframes"}let c=rj(a.owner.current,l,e,{...this.options,duration:n,times:i,ease:s});return c.startTime=null!=u?u:this.calcStartTime(),this.pendingTimeline?(rP(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{let{onComplete:r}=this.options;a.set(P(e,this.options,t)),r&&r(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:i,type:o,ease:s,keyframes:e}}get duration(){let{resolved:e}=this;if(!e)return 0;let{duration:t}=e;return x(t)}get time(){let{resolved:e}=this;if(!e)return 0;let{animation:t}=e;return x(t.currentTime||0)}set time(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.currentTime=w(e)}get speed(){let{resolved:e}=this;if(!e)return 1;let{animation:t}=e;return t.playbackRate}set speed(e){let{resolved:t}=this;if(!t)return;let{animation:r}=t;r.playbackRate=e}get state(){let{resolved:e}=this;if(!e)return"idle";let{animation:t}=e;return t.playState}get startTime(){let{resolved:e}=this;if(!e)return null;let{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){let{resolved:t}=this;if(!t)return O;let{animation:r}=t;rP(r,e)}else this.pendingTimeline=e;return O}play(){if(this.isStopped)return;let{resolved:e}=this;if(!e)return;let{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){let{resolved:e}=this;if(!e)return;let{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();let{resolved:e}=this;if(!e)return;let{animation:t,keyframes:r,duration:n,type:i,ease:s,times:o}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){let{motionValue:e,onUpdate:t,onComplete:a,element:l,...u}=this.options,c=new rw({...u,keyframes:r,duration:n,type:i,ease:s,times:o,isGenerator:!0}),h=w(this.time);e.setWithVelocity(c.sample(h-rD).value,c.sample(h).value,rD)}let{onStop:a}=this.options;a&&a(),this.cancel()}complete(){let{resolved:e}=this;e&&e.animation.finish()}cancel(){let{resolved:e}=this;e&&e.animation.cancel()}static supports(e){let{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:o}=e;return rO()&&r&&rM.has(r)&&t&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate&&!n&&"mirror"!==i&&0!==s&&"inertia"!==o}}let rU=rE(()=>void 0!==window.ScrollTimeline);class r${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){let r=this.animations.map(r=>rU()&&r.attachTimeline?r.attachTimeline(e):t(r));return()=>{r.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function rB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}let rV=(e,t,r,n={},i,s)=>o=>{let a=T(n,e)||{},l=a.delay||n.delay||0,{elapsed:u=0}=n;u-=w(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};rB(a)||(c={...c,...I(e,c)}),c.duration&&(c.duration=w(c.duration)),c.repeatDelay&&(c.repeatDelay=w(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let h=!1;if(!1!==c.type&&(0!==c.duration||c.repeatDelay)||(c.duration=0,0!==c.delay||(h=!0)),(k.current||S.skipAnimations)&&(h=!0,c.duration=0,c.delay=0),h&&!s&&void 0!==t.get()){let e=P(c.keyframes,a);if(void 0!==e)return F.update(()=>{c.onUpdate(e),c.onComplete()}),new r$([])}return!s&&rz.supports(c)?new rz(c):new rw(c)},rq=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),rW=e=>c(e)?e[e.length-1]||0:e;function rH(e,t){-1===e.indexOf(t)&&e.push(t)}function rG(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class rY{constructor(){this.subscriptions=[]}add(e){return rH(this.subscriptions,e),()=>rG(this.subscriptions,e)}notify(e,t,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(e,t,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let rQ=30,rZ=e=>!isNaN(parseFloat(e)),rK={current:void 0};class rX{constructor(e,t={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{let r=tM.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tM.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=rZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new rY);let r=this.events[e].add(t);return"change"===e?()=>{r(),F.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return rK.current&&rK.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=tM.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>rQ)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,rQ);return tj(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rJ(e,t){return new rX(e,t)}function r0(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,rJ(r))}function r1(e,t){let{transitionEnd:r={},transition:n={},...i}=m(e,t)||{};for(let t in i={...i,...r}){let r=rW(i[t]);r0(e,t,r)}}let r2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r5="data-"+r2("framerAppearId");function r6(e){return e.props[r5]}let r4=e=>!!(e&&e.getVelocity);function r3(e){return!!(r4(e)&&e.add)}function r8(e,t){let r=e.getValue("willChange");if(r3(r))return r.add(t)}function r9({protectedKeys:e,needsAnimating:t},r){let n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}function r7(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);let u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(let t in l){let n=e.getValue(t,null!==(s=e.latestValues[t])&&void 0!==s?s:null),i=l[t];if(void 0===i||c&&r9(c,t))continue;let a={delay:r,...T(o||{},t)},h=!1;if(window.MotionHandoffAnimation){let r=r6(e);if(r){let e=window.MotionHandoffAnimation(r,t,F);null!==e&&(a.startTime=e,h=!0)}}r8(e,t),n.start(rV(t,n,i,e.shouldReduceMotion&&b.has(t)?{type:!1}:a,e,h));let d=n.animation;d&&u.push(d)}return a&&Promise.all(u).then(()=>{F.update(()=>{a&&r1(e,a)})}),u}function ne(e,t,r={}){var n;let i=m(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);let o=i?()=>Promise.all(r7(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:i=0,staggerChildren:o,staggerDirection:a}=s;return nt(e,t,i+n,o,a,r)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([o(),a(r.delay)]);{let[e,t]="beforeChildren"===l?[o,a]:[a,o];return e().then(()=>t())}}function nt(e,t,r=0,n=0,i=1,s){let o=[],a=(e.variantChildren.size-1)*n,l=1===i?(e=0)=>e*n:(e=0)=>a-e*n;return Array.from(e.variantChildren).sort(nr).forEach((e,n)=>{e.notify("AnimationStart",t),o.push(ne(e,t,{...s,delay:r+l(n)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(o)}function nr(e,t){return e.sortNodePosition(t)}function nn(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>ne(e,t,r)));else if("string"==typeof t)n=ne(e,t,r);else{let i="function"==typeof t?m(e,t,r.custom):t;n=Promise.all(r7(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}let ni=y.length;function ns(e){if(!e)return;if(!e.isControllingVariants){let t=e.parent&&ns(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}let t={};for(let r=0;r<ni;r++){let n=y[r],i=e.props[n];(d(i)||!1===i)&&(t[n]=i)}return t}let no=[...g].reverse(),na=g.length;function nl(e){return t=>Promise.all(t.map(({animation:t,options:r})=>nn(e,t,r)))}function nu(e){let t=nl(e),r=nd(),n=!0,i=t=>(r,n)=>{var i;let s=m(e,n,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){let{transition:e,transitionEnd:t,...n}=s;r={...r,...n,...t}}return r};function s(s){let{props:o}=e,a=ns(e.parent)||{},l=[],f=new Set,p={},m=1/0;for(let t=0;t<na;t++){let g=no[t],y=r[g],v=void 0!==o[g]?o[g]:a[g],b=d(v),w=g===s?y.isActive:null;!1===w&&(m=t);let x=v===a[g]&&v!==o[g]&&b;if(x&&n&&e.manuallyAnimateOnMount&&(x=!1),y.protectedKeys={...p},!y.isActive&&null===w||!v&&!y.prevProp||u(v)||"boolean"==typeof v)continue;let M=nc(y.prevProp,v),E=M||g===s&&y.isActive&&!x&&b||t>m&&b,A=!1,N=Array.isArray(v)?v:[v],I=N.reduce(i(g),{});!1===w&&(I={});let{prevResolvedValues:T={}}=y,S={...T,...I},k=t=>{E=!0,f.has(t)&&(A=!0,f.delete(t)),y.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in S){let t=I[e],r=T[e];if(p.hasOwnProperty(e))continue;let n=!1;(n=c(t)&&c(r)?!h(t,r):t!==r)?null!=t?k(e):f.add(e):void 0!==t&&f.has(e)?k(e):y.protectedKeys[e]=!0}y.prevProp=v,y.prevResolvedValues=I,y.isActive&&(p={...p,...I}),n&&e.blockInitialAnimation&&(E=!1);let j=!(x&&M)||A;E&&j&&l.push(...N.map(e=>({animation:e,options:{type:g}})))}if(f.size){let t={};f.forEach(r=>{let n=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=null!=n?n:null}),l.push({animation:t})}let g=!!l.length;return n&&(!1===o.initial||o.initial===o.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(l):Promise.resolve()}function o(t,n){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;let o=s(t);for(let e in r)r[e].protectedKeys={};return o}return{animateChanges:s,setActive:o,setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=nd(),n=!0}}}function nc(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!h(t,e)}function nh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nd(){return{animate:nh(!0),whileInView:nh(),whileHover:nh(),whileTap:nh(),whileDrag:nh(),whileFocus:nh(),exit:nh()}}class nf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class np extends nf{constructor(e){super(e),e.animationState||(e.animationState=nu(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();u(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}let nm=0;class ng extends nf{constructor(){super(...arguments),this.id=nm++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}let ny={animation:{Feature:np},exit:{Feature:ng}},nv=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function nb(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}let nw=e=>t=>nv(t)&&e(t,nb(t));function nx(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function nM(e,t,r,n){return nx(e,t,nw(r),n)}let nE=(e,t)=>Math.abs(e-t);function nA(e,t){return Math.sqrt(nE(e.x,t.x)**2+nE(e.y,t.y)**2)}class nN{constructor(e,t,{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=nS(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=nA(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;let{point:n}=e,{timestamp:i}=z;this.history.push({...n,timestamp:i});let{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nI(t,this.transformPagePoint),F.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:n,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=nS("pointercancel"===e.type?this.lastMoveEventInfo:nI(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,s),n&&n(e,s)},!nv(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;let s=nI(nb(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=z;this.history=[{...o,timestamp:a}];let{onSessionStart:l}=t;l&&l(e,nS(s,this.history)),this.removeListeners=t1(nM(this.contextWindow,"pointermove",this.handlePointerMove),nM(this.contextWindow,"pointerup",this.handlePointerUp),nM(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_(this.updatePoint)}}function nI(e,t){return t?{point:t(e.point)}:e}function nT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nS({point:e},t){return{point:e,delta:nT(e,nj(t)),offset:nT(e,nk(t)),velocity:nP(t,.1)}}function nk(e){return e[0]}function nj(e){return e[e.length-1]}function nP(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null,i=nj(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>w(t)));)r--;if(!n)return{x:0,y:0};let s=x(i.timestamp-n.timestamp);if(0===s)return{x:0,y:0};let o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function nO(e){let t=null;return()=>{let r=()=>{t=null};return null===t&&(t=e,r)}}let nD=nO("dragHorizontal"),nC=nO("dragVertical");function nL(e){let t=!1;if("y"===e)t=nC();else if("x"===e)t=nD();else{let e=nD(),r=nC();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function nR(){let e=nL(!0);return!e||(e(),!1)}function nF(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let n_=.9999,nz=1.0001,nU=-.01,n$=.01;function nB(e){return e.max-e.min}function nV(e,t,r){return Math.abs(e-t)<=r}function nq(e,t,r,n=.5){e.origin=n,e.originPoint=t2(t.min,t.max,e.origin),e.scale=nB(r)/nB(t),e.translate=t2(r.min,r.max,e.origin)-e.originPoint,(e.scale>=n_&&e.scale<=nz||isNaN(e.scale))&&(e.scale=1),(e.translate>=nU&&e.translate<=n$||isNaN(e.translate))&&(e.translate=0)}function nW(e,t,r,n){nq(e.x,t.x,r.x,n?n.originX:void 0),nq(e.y,t.y,r.y,n?n.originY:void 0)}function nH(e,t,r){e.min=r.min+t.min,e.max=e.min+nB(t)}function nG(e,t,r){nH(e.x,t.x,r.x),nH(e.y,t.y,r.y)}function nY(e,t,r){e.min=t.min-r.min,e.max=e.min+nB(t)}function nQ(e,t,r){nY(e.x,t.x,r.x),nY(e.y,t.y,r.y)}function nZ(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?t2(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?t2(r,e,n.max):Math.min(e,r)),e}function nK(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function nX(e,{top:t,left:r,bottom:n,right:i}){return{x:nK(e.x,r,i),y:nK(e.y,t,n)}}function nJ(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function n0(e,t){return{x:nJ(e.x,t.x),y:nJ(e.y,t.y)}}function n1(e,t){let r=.5,n=nB(e),i=nB(t);return i>n?r=tS(t.min,t.max-n,e.min):n>i&&(r=tS(e.min,e.max-i,t.min)),em(0,1,r)}function n2(e,t){let r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}let n5=.35;function n6(e=n5){return!1===e?e=0:!0===e&&(e=n5),{x:n4(e,"left","right"),y:n4(e,"top","bottom")}}function n4(e,t,r){return{min:n3(e,t),max:n3(e,r)}}function n3(e,t){return"number"==typeof e?e:e[t]||0}let n8=()=>({translate:0,scale:1,origin:0,originPoint:0}),n9=()=>({x:n8(),y:n8()}),n7=()=>({min:0,max:0}),ie=()=>({x:n7(),y:n7()});function it(e){return[e("x"),e("y")]}function ir({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ii({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function is(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function io(e){return void 0===e||1===e}function ia({scale:e,scaleX:t,scaleY:r}){return!io(e)||!io(t)||!io(r)}function il(e){return ia(e)||iu(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iu(e){return ic(e.x)||ic(e.y)}function ic(e){return e&&"0%"!==e}function ih(e,t,r){let n=t*(e-r);return r+n}function id(e,t,r,n,i){return void 0!==i&&(e=ih(e,i,n)),ih(e,r,n)+t}function ip(e,t=0,r=1,n,i){e.min=id(e.min,t,r,n,i),e.max=id(e.max,t,r,n,i)}function im(e,{x:t,y:r}){ip(e.x,t.translate,t.scale,t.originPoint),ip(e.y,r.translate,r.scale,r.originPoint)}let ig=.999999999999,iy=1.0000000000001;function iv(e,t,r,n=!1){let i,s;let o=r.length;if(o){t.x=t.y=1;for(let a=0;a<o;a++){s=(i=r[a]).projectionDelta;let{visualElement:o}=i.options;(!o||!o.props.style||"contents"!==o.props.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ix(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,im(e,s)),n&&il(i.latestValues)&&ix(e,i.latestValues))}t.x<iy&&t.x>ig&&(t.x=1),t.y<iy&&t.y>ig&&(t.y=1)}}function ib(e,t){e.min=e.min+t,e.max=e.max+t}function iw(e,t,r,n,i=.5){let s=t2(e.min,e.max,i);ip(e,t,r,s,n)}function ix(e,t){iw(e.x,t.x,t.scaleX,t.scale,t.originX),iw(e.y,t.y,t.scaleY,t.scale,t.originY)}function iM(e,t){return ir(is(e.getBoundingClientRect(),t))}function iE(e,t,r){let n=iM(e,r),{scroll:i}=t;return i&&(ib(n.x,i.offset.x),ib(n.y,i.offset.y)),n}let iA=({current:e})=>e?e.ownerDocument.defaultView:null,iN=new WeakMap;class iI{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ie(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;let n=e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(nb(e,"page").point)},i=(e,t)=>{let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=nL(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),it(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ex.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[e];n&&(t=nB(n)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&F.postRender(()=>i(e,t)),r8(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},s=(e,t)=>{let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:s}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:o}=t;if(n&&null===this.currentDirection){this.currentDirection=iS(o),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},o=(e,t)=>this.stop(e,t),a=()=>it(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new nN(e,{onSessionStart:n,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:iA(this.visualElement)})}stop(e,t){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=t;this.startAnimation(n);let{onDragEnd:i}=this.getProps();i&&F.postRender(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:n}=this.getProps();if(!r||!iT(e,n,this.currentDirection))return;let i=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=nZ(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&nF(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=nX(n.layoutBox,t):this.constraints=!1,this.elastic=n6(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&it(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=n2(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){let{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nF(e))return!1;let r=e.current;ei(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:n}=this.visualElement;if(!n||!n.layout)return!1;let i=iE(r,n.root,this.visualElement.getTransformPagePoint()),s=n0(n.layout.layoutBox,i);if(t){let e=t(ii(s));this.hasMutatedConstraints=!!e,e&&(s=ir(e))}return s}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{};return Promise.all(it(o=>{if(!iT(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});let u=n?200:1e6,c=n?40:1e7,h={type:"inertia",velocity:r?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,h)})).then(o)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return r8(this.visualElement,e),r.start(rV(e,r,0,t,this.visualElement,!1))}stopAnimation(){it(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){it(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){it(t=>{let{drag:r}=this.getProps();if(!iT(t,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){let{min:r,max:s}=n.layout.layoutBox[t];i.set(e[t]-t2(r,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!nF(t)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};it(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let r=t.get();n[e]=n1({min:r,max:r},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),it(t=>{if(!iT(t,e,null))return;let r=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];r.set(t2(i,s,n[t]))})}addListeners(){if(!this.visualElement.current)return;iN.set(this.visualElement,this);let e=nM(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();nF(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),F.read(t);let i=nx(window,"resize",()=>this.scalePositionWithinConstraints()),s=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(it(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),n(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:s=n5,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function iT(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}function iS(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ik extends nf{constructor(e){super(e),this.removeGroupControls=O,this.removeListeners=O,this.controls=new iI(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||O}unmount(){this.removeGroupControls(),this.removeListeners()}}let ij=e=>(t,r)=>{e&&F.postRender(()=>e(t,r))};class iP extends nf{constructor(){super(...arguments),this.removePointerDownListener=O}onPointerDown(e){this.session=new nN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iA(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ij(e),onStart:ij(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&F.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=nM(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}var iO=r(58009);let iD=(0,iO.createContext)(null);function iC(){let e=(0,iO.useContext)(iD);if(null===e)return[!0,null];let{isPresent:t,onExitComplete:r,register:n}=e,i=(0,iO.useId)();(0,iO.useEffect)(()=>n(i),[]);let s=(0,iO.useCallback)(()=>r&&r(i),[i,r]);return!t&&r?[!1,s]:[!0]}let iL=(0,iO.createContext)({}),iR=(0,iO.createContext)({}),iF={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i_(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let iz={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!eM.test(e))return e;e=parseFloat(e)}let r=i_(e,t.target.x),n=i_(e,t.target.y);return`${r}% ${n}%`}},iU={correct:(e,{treeScale:t,projectionDelta:r})=>{let n=e,i=ts.parse(e);if(i.length>5)return n;let s=ts.createTransformer(e),o="number"!=typeof i[0]?1:0,a=r.x.scale*t.x,l=r.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;let u=t2(a,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=u),"number"==typeof i[3+o]&&(i[3+o]/=u),s(i)}},i$={};function iB(e){Object.assign(i$,e)}let{schedule:iV,cancel:iq}=R(queueMicrotask,!1);class iW extends iO.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=e;iB(iG),i&&(t.group&&t.group.add(i),r&&r.register&&n&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iF.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:n,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,n||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent===i||(i?s.promote():s.relegate()||F.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),iV.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iH(e){let[t,r]=iC(),n=(0,iO.useContext)(iL);return(0,a.jsx)(iW,{...e,layoutGroup:n,switchLayoutGroup:(0,iO.useContext)(iR),isPresent:t,safeToRemove:r})}let iG={borderRadius:{...iz,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iz,borderTopRightRadius:iz,borderBottomLeftRadius:iz,borderBottomRightRadius:iz,boxShadow:iU},iY=["TopLeft","TopRight","BottomLeft","BottomRight"],iQ=iY.length,iZ=e=>"string"==typeof e?parseFloat(e):e,iK=e=>"number"==typeof e||eM.test(e);function iX(e,t,r,n,i,s){i?(e.opacity=t2(0,void 0!==r.opacity?r.opacity:1,i0(n)),e.opacityExit=t2(void 0!==t.opacity?t.opacity:1,0,i1(n))):s&&(e.opacity=t2(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<iQ;i++){let s=`border${iY[i]}Radius`,o=iJ(t,s),a=iJ(r,s);(void 0!==o||void 0!==a)&&(o||(o=0),a||(a=0),0===o||0===a||iK(o)===iK(a)?(e[s]=Math.max(t2(iZ(o),iZ(a),n),0),(ex.test(a)||ex.test(o))&&(e[s]+="%")):e[s]=a)}(t.rotate||r.rotate)&&(e.rotate=t2(t.rotate||0,r.rotate||0,n))}function iJ(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let i0=i2(0,.5,J),i1=i2(.5,.95,O);function i2(e,t,r){return n=>n<e?0:n>t?1:r(tS(e,t,n))}function i5(e,t){e.min=t.min,e.max=t.max}function i6(e,t){i5(e.x,t.x),i5(e.y,t.y)}function i4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function i3(e,t,r,n,i){return e-=t,e=ih(e,1/r,n),void 0!==i&&(e=ih(e,1/i,n)),e}function i8(e,t=0,r=1,n=.5,i,s=e,o=e){if(ex.test(t)&&(t=parseFloat(t),t=t2(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let a=t2(s.min,s.max,n);e===s&&(a-=t),e.min=i3(e.min,t,r,a,i),e.max=i3(e.max,t,r,a,i)}function i9(e,t,[r,n,i],s,o){i8(e,t[r],t[n],t[i],t.scale,s,o)}let i7=["x","scaleX","originX"],se=["y","scaleY","originY"];function st(e,t,r,n){i9(e.x,t,i7,r?r.x:void 0,n?n.x:void 0),i9(e.y,t,se,r?r.y:void 0,n?n.y:void 0)}function sr(e){return 0===e.translate&&1===e.scale}function sn(e){return sr(e.x)&&sr(e.y)}function si(e,t){return e.min===t.min&&e.max===t.max}function ss(e,t){return si(e.x,t.x)&&si(e.y,t.y)}function so(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sa(e,t){return so(e.x,t.x)&&so(e.y,t.y)}function sl(e){return nB(e.x)/nB(e.y)}function su(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sc{constructor(){this.members=[]}add(e){rH(this.members,e),e.scheduleRender()}remove(e){if(rG(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sh(e,t,r){let n="",i=e.x.translate/t.x,s=e.y.translate/t.y,o=(null==r?void 0:r.z)||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),i&&(n+=`rotateX(${i}deg) `),s&&(n+=`rotateY(${s}deg) `),o&&(n+=`skewX(${o}deg) `),a&&(n+=`skewY(${a}deg) `)}let a=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==a||1!==l)&&(n+=`scale(${a}, ${l})`),n||"none"}let sd=(e,t)=>e.depth-t.depth;class sf{constructor(){this.children=[],this.isDirty=!1}add(e){rH(this.children,e),this.isDirty=!0}remove(e){rG(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sd),this.isDirty=!1,this.children.forEach(e)}}function sp(e){let t=r4(e)?e.get():e;return rq(t)?t.toValue():t}function sm(e,t){let r=tM.now(),n=({timestamp:i})=>{let s=i-r;s>=t&&(_(n),e(s-t))};return F.read(n,!0),()=>_(n)}function sg(e){return e instanceof SVGElement&&"svg"!==e.tagName}function sy(e,t,r){let n=r4(e)?e:rJ(e);return n.start(rV("",n,t,r)),n.animation}let sv={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sb="undefined"!=typeof window&&void 0!==window.MotionDebug,sw=["","X","Y","Z"],sx={visibility:"hidden"},sM=1e3,sE=0;function sA(e,t,r,n){let{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function sN(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;let{visualElement:t}=e.options;if(!t)return;let r=r6(t);if(window.MotionHasOptimisedAnimation(r,"transform")){let{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",F,!(t||n))}let{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&sN(n)}function sI({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(e={},r=null==t?void 0:t()){this.id=sE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sb&&(sv.totalNodes=sv.resolvedTargetDeltas=sv.recalculatedProjection=0),this.nodes.forEach(sk),this.nodes.forEach(sR),this.nodes.forEach(sF),this.nodes.forEach(sj),sb&&window.MotionDebug.record(sv)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new sf)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new rY),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sg(t),this.instance=t;let{layoutId:n,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(i||n)&&(this.isLayoutDirty=!0),e){let r;let n=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=sm(n,250),iF.hasAnimatedSinceResize&&(iF.hasAnimatedSinceResize=!1,this.nodes.forEach(sL))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&s&&(n||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||s.getDefaultTransition()||sq,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),l=!this.targetLayout||!sa(this.targetLayout,n)||r,u=!t&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...T(i,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||sL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s_),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sN(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sO);return}this.isUpdating||this.nodes.forEach(sD),this.isUpdating=!1,this.nodes.forEach(sC),this.nodes.forEach(sT),this.nodes.forEach(sS),this.clearAllSnapshots();let e=tM.now();z.delta=em(0,1e3/60,e-z.timestamp),z.timestamp=e,z.isProcessing=!0,U.update.process(z),U.preRender.process(z),U.render.process(z),z.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iV.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sP),this.sharedNodes.forEach(sz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,F.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){F.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ie(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!sn(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||il(this.latestValues)||s)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){let t=this.measurePageBox(),r=this.removeElementScroll(t);return e&&(r=this.removeTransform(r)),sY(r),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return ie();let r=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(sZ))){let{scroll:e}=this.root;e&&(ib(r.x,e.offset.x),ib(r.y,e.offset.y))}return r}removeElementScroll(e){var t;let r=ie();if(i6(r,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return r;for(let t=0;t<this.path.length;t++){let n=this.path[t],{scroll:i,options:s}=n;n!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&i6(r,e),ib(r.x,i.offset.x),ib(r.y,i.offset.y))}return r}applyTransform(e,t=!1){let r=ie();i6(r,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&ix(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),il(n.latestValues)&&ix(r,n.latestValues)}return il(this.latestValues)&&ix(r,this.latestValues),r}removeTransform(e){let t=ie();i6(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!il(r.latestValues))continue;ia(r.latestValues)&&r.updateSnapshot();let n=ie();i6(n,r.measurePageBox()),st(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return il(this.latestValues)&&st(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==z.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;let r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);let n=!!this.resumingFrom||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=z.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),nQ(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),i6(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target=ie(),this.targetWithTransforms=ie()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):i6(this.target,this.layout.layoutBox),im(this.target,this.targetDelta)):i6(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ie(),this.relativeTargetOrigin=ie(),nQ(this.relativeTargetOrigin,this.target,e.target),i6(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sb&&sv.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||ia(this.parent.latestValues)||iu(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),r=!!this.resumingFrom||this!==t,n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===z.timestamp&&(n=!1),n)return;let{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||s))return;i6(this.layoutCorrected,this.layout.layoutBox);let o=this.treeScale.x,a=this.treeScale.y;iv(this.layoutCorrected,this.treeScale,this.path,r),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=ie());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(i4(this.prevProjectionDelta.x,this.projectionDelta.x),i4(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),nW(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===o&&this.treeScale.y===a&&su(this.projectionDelta.x,this.prevProjectionDelta.x)&&su(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),sb&&sv.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=n9(),this.projectionDelta=n9(),this.projectionDeltaWithTransform=n9()}setAnimationOrigin(e,t=!1){let r;let n=this.snapshot,i=n?n.latestValues:{},s={...this.latestValues},o=n9();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let a=ie(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),c=!u||u.members.length<=1,h=!!(l&&!c&&!0===this.options.crossfade&&!this.path.some(sV));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;sU(o.x,e.x,n),sU(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nQ(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sB(this.relativeTarget,this.relativeTargetOrigin,a,n),r&&ss(this.relativeTarget,r)&&(this.isProjectionDirty=!1),r||(r=ie()),i6(r,this.relativeTarget)),l&&(this.animationValues=s,iX(s,i,this.latestValues,n,h,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=F.update(()=>{iF.hasAnimatedSinceResize=!0,this.currentAnimation=sy(0,sM,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:n,latestValues:i}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&sQ(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||ie();let t=nB(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let n=nB(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}i6(t,r),ix(t,i),nW(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new sc),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let n={};r.z&&sA("z",e,n,this.animationValues);for(let t=0;t<sw.length;t++)sA(`rotate${sw[t]}`,e,n,this.animationValues),sA(`skew${sw[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sx;let n={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=sp(null==e?void 0:e.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=sp(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!il(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),n.transform=sh(this.projectionDeltaWithTransform,this.treeScale,o),i&&(n.transform=i(o,n.transform));let{x:a,y:l}=this.projectionDelta;for(let e in n.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?n.opacity=s===this?null!==(r=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:n.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0,i$){if(void 0===o[e])continue;let{correct:t,applyTo:r}=i$[e],i="none"===n.transform?o[e]:t(o[e],s);if(r){let e=r.length;for(let t=0;t<e;t++)n[r[t]]=i}else n[e]=i}return this.options.layoutId&&(n.pointerEvents=s===this?sp(null==e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(sO),this.root.sharedNodes.clear()}}}function sT(e){e.updateLayout()}function sS(e){var t;let r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:n}=e.layout,{animationType:i}=e.options,s=r.source!==e.layout.source;"size"===i?it(e=>{let n=s?r.measuredBox[e]:r.layoutBox[e],i=nB(n);n.min=t[e].min,n.max=n.min+i}):sQ(i,r.layoutBox,t)&&it(n=>{let i=s?r.measuredBox[n]:r.layoutBox[n],o=nB(t[n]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+o)});let o=n9();nW(o,t,r.layoutBox);let a=n9();s?nW(a,e.applyTransform(n,!0),r.measuredBox):nW(a,t,r.layoutBox);let l=!sn(o),u=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:s}=n;if(i&&s){let o=ie();nQ(o,r.layoutBox,i.layoutBox);let a=ie();nQ(a,t,s.layoutBox),sa(o,a)||(u=!0),n.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function sk(e){sb&&sv.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sP(e){e.clearSnapshot()}function sO(e){e.clearMeasurements()}function sD(e){e.isLayoutDirty=!1}function sC(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sR(e){e.resolveTargetDelta()}function sF(e){e.calcProjection()}function s_(e){e.resetSkewAndRotation()}function sz(e){e.removeLeadSnapshot()}function sU(e,t,r){e.translate=t2(t.translate,0,r),e.scale=t2(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function s$(e,t,r,n){e.min=t2(t.min,r.min,n),e.max=t2(t.max,r.max,n)}function sB(e,t,r,n){s$(e.x,t.x,r.x,n),s$(e.y,t.y,r.y,n)}function sV(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let sq={duration:.45,ease:[.4,0,.1,1]},sW=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),sH=sW("applewebkit/")&&!sW("chrome/")?Math.round:O;function sG(e){e.min=sH(e.min),e.max=sH(e.max)}function sY(e){sG(e.x),sG(e.y)}function sQ(e,t,r){return"position"===e||"preserve-aspect"===e&&!nV(sl(t),sl(r),.2)}function sZ(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}let sK=sI({attachResizeListener:(e,t)=>nx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sX={current:void 0},sJ=sI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sX.current){let e=new sK({});e.mount(window),e.setOptions({layoutScroll:!0}),sX.current=e}return sX.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position}),s0={pan:{Feature:iP},drag:{Feature:ik,ProjectionNode:sJ,MeasureLayout:iH}};function s1(e,t){let r=t?"pointerenter":"pointerleave",n=t?"onHoverStart":"onHoverEnd",i=(r,i)=>{if("touch"===r.pointerType||nR())return;let s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t);let o=s[n];o&&F.postRender(()=>o(r,i))};return nM(e.current,r,i,{passive:!e.getProps()[n]})}class s2 extends nf{mount(){this.unmount=t1(s1(this.node,!0),s1(this.node,!1))}unmount(){}}class s5 extends nf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=t1(nx(this.node.current,"focus",()=>this.onFocus()),nx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}let s6=(e,t)=>!!t&&(e===t||s6(e,t.parentElement));function s4(e,t){if(!t)return;let r=new PointerEvent("pointer"+e);t(r,nb(r))}class s3 extends nf{constructor(){super(...arguments),this.removeStartListeners=O,this.removeEndListeners=O,this.removeAccessibleListeners=O,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();let r=this.node.getProps(),n=nM(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:n,globalTapTarget:i}=this.node.getProps(),s=i||s6(this.node.current,e.target)?r:n;s&&F.update(()=>s(e,t))},{passive:!(r.onTap||r.onPointerUp)}),i=nM(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=t1(n,i),this.startPress(e,t)},this.startAccessiblePress=()=>{let e=e=>{if("Enter"!==e.key||this.isPressing)return;let t=e=>{"Enter"===e.key&&this.checkPressEnd()&&s4("up",(e,t)=>{let{onTap:r}=this.node.getProps();r&&F.postRender(()=>r(e,t))})};this.removeEndListeners(),this.removeEndListeners=nx(this.node.current,"keyup",t),s4("down",(e,t)=>{this.startPress(e,t)})},t=nx(this.node.current,"keydown",e),r=()=>{this.isPressing&&s4("cancel",(e,t)=>this.cancelPress(e,t))},n=nx(this.node.current,"blur",r);this.removeAccessibleListeners=t1(t,n)}}startPress(e,t){this.isPressing=!0;let{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&F.postRender(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!nR()}cancelPress(e,t){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&F.postRender(()=>r(e,t))}mount(){let e=this.node.getProps(),t=nM(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=nx(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=t1(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}let s8=new WeakMap,s9=new WeakMap,s7=e=>{let t=s8.get(e.target);t&&t(e)},oe=e=>{e.forEach(s7)};function ot({root:e,...t}){let r=e||document;s9.has(r)||s9.set(r,{});let n=s9.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(oe,{root:e,...t})),n[i]}function or(e,t,r){let n=ot(t);return s8.set(e,r),n.observe(e),()=>{s8.delete(e),n.unobserve(e)}}let on={some:0,all:1};class oi extends nf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:on[n]},o=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),s=t?r:n;s&&s(e)};return or(this.node.current,s,o)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(os(e,t))&&this.startObserver()}unmount(){}}function os({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}let oo={inView:{Feature:oi},tap:{Feature:s3},focus:{Feature:s5},hover:{Feature:s2}},oa={layout:{ProjectionNode:sJ,MeasureLayout:iH}},ol=(0,iO.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),ou=(0,iO.createContext)({}),oc="undefined"!=typeof window,oh=oc?iO.useLayoutEffect:iO.useEffect,od=(0,iO.createContext)({strict:!1});function of(e,t,r,n,i){var s,o;let{visualElement:a}=(0,iO.useContext)(ou),l=(0,iO.useContext)(od),u=(0,iO.useContext)(iD),c=(0,iO.useContext)(ol).reducedMotion,h=(0,iO.useRef)();n=n||l.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:a,props:r,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:c}));let d=h.current,f=(0,iO.useContext)(iR);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&op(h.current,r,i,f);let p=(0,iO.useRef)(!1);(0,iO.useInsertionEffect)(()=>{d&&p.current&&d.update(r,u)});let m=r[r5],g=(0,iO.useRef)(!!m&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,m))&&(null===(o=window.MotionHasOptimisedAnimation)||void 0===o?void 0:o.call(window,m)));return oh(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),iV.render(d.render),g.current&&d.animationState&&d.animationState.animateChanges())}),(0,iO.useEffect)(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,m)}),g.current=!1))}),d}function op(e,t,r,n){let{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:om(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&nF(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function om(e){if(e)return!1!==e.options.allowProjection?e.projection:om(e.parent)}function og(e,t,r){return(0,iO.useCallback)(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"==typeof r?r(n):nF(r)&&(r.current=n))},[t])}function oy(e){return u(e.animate)||y.some(t=>d(e[t]))}function ov(e){return!!(oy(e)||e.variants)}function ob(e,t){if(oy(e)){let{initial:t,animate:r}=e;return{initial:!1===t||d(t)?t:void 0,animate:d(r)?r:void 0}}return!1!==e.inherit?t:{}}function ow(e){let{initial:t,animate:r}=ob(e,(0,iO.useContext)(ou));return(0,iO.useMemo)(()=>({initial:t,animate:r}),[ox(t),ox(r)])}function ox(e){return Array.isArray(e)?e.join(" "):e}let oM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oE={};for(let e in oM)oE[e]={isEnabled:t=>oM[e].some(e=>!!t[e])};function oA(e){for(let t in e)oE[t]={...oE[t],...e[t]}}let oN=Symbol.for("motionComponentSymbol");function oI({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){function s(s,o){let l;let u={...(0,iO.useContext)(ol),...s,layoutId:oT(s)},{isStatic:c}=u,h=ow(s),d=n(s,c);if(!c&&oc){oS(u,e);let r=ok(u);l=r.MeasureLayout,h.visualElement=of(i,d,u,t,r.ProjectionNode)}return(0,a.jsxs)(ou.Provider,{value:h,children:[l&&h.visualElement?(0,a.jsx)(l,{visualElement:h.visualElement,...u}):null,r(i,s,og(d,h.visualElement,o),d,c,h.visualElement)]})}e&&oA(e);let o=(0,iO.forwardRef)(s);return o[oN]=i,o}function oT({layoutId:e}){let t=(0,iO.useContext)(iL).id;return t&&void 0!==e?t+"-"+e:e}function oS(e,t){(0,iO.useContext)(od).strict}function ok(e){let{drag:t,layout:r}=oE;if(!t&&!r)return{};let n={...t,...r};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==r?void 0:r.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}let oj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oP(e){if("string"!=typeof e||e.includes("-"));else if(oj.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}function oO(e,{style:t,vars:r},n,i){for(let s in Object.assign(e.style,t,i&&i.getProjectionStyles(n)),r)e.style.setProperty(s,r[s])}let oD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oC(e,t,r,n){for(let r in oO(e,t,void 0,n),t.attrs)e.setAttribute(oD.has(r)?r:r2(r),t.attrs[r])}function oL(e,{layout:t,layoutId:r}){return b.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!i$[e]||"opacity"===e)}function oR(e,t,r){var n;let{style:i}=e,s={};for(let o in i)(r4(i[o])||t.style&&r4(t.style[o])||oL(o,e)||(null===(n=null==r?void 0:r.getValue(o))||void 0===n?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function oF(e,t,r){let n=oR(e,t,r);for(let r in e)(r4(e[r])||r4(t[r]))&&(n[-1!==v.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return n}function o_(e){let t=(0,iO.useRef)(null);return null===t.current&&(t.current=e()),t.current}function oz({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,s){let o={latestValues:o$(n,i,s,e),renderState:t()};return r&&(o.mount=e=>r(n,e,o)),o}let oU=e=>(t,r)=>{let n=(0,iO.useContext)(ou),i=(0,iO.useContext)(iD),s=()=>oz(e,t,n,i);return r?s():o_(s)};function o$(e,t,r,n){let i={},s=n(e,{});for(let e in s)i[e]=sp(s[e]);let{initial:o,animate:a}=e,l=oy(e),c=ov(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let h=!!r&&!1===r.initial,d=(h=h||!1===o)?a:o;if(d&&"boolean"!=typeof d&&!u(d)){let t=Array.isArray(d)?d:[d];for(let r=0;r<t.length;r++){let n=p(e,t[r]);if(n){let{transitionEnd:e,transition:t,...r}=n;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=h?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}let oB=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oV=()=>({...oB(),attrs:{}}),oq=(e,t)=>t&&"number"==typeof e?t.transform(e):e,oW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oH=v.length;function oG(e,t,r){let n="",i=!0;for(let s=0;s<oH;s++){let o=v[s],a=e[o];if(void 0===a)continue;let l=!0;if(!(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a))||r){let e=oq(a,tf[o]);if(!l){i=!1;let t=oW[o]||o;n+=`${t}(${e}) `}r&&(t[o]=e)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function oY(e,t,r){let{style:n,vars:i,transformOrigin:s}=e,o=!1,a=!1;for(let e in t){let r=t[e];if(b.has(e)){o=!0;continue}if(ea(e)){i[e]=r;continue}{let t=oq(r,tf[e]);e.startsWith("origin")?(a=!0,s[e]=t):n[e]=t}}if(!t.transform&&(o||r?n.transform=oG(t,e.transform,r):n.transform&&(n.transform="none")),a){let{originX:e="50%",originY:t="50%",originZ:r=0}=s;n.transformOrigin=`${e} ${t} ${r}`}}function oQ(e,t,r){return"string"==typeof e?e:eM.transform(t+r*e)}function oZ(e,t,r){let n=oQ(t,e.x,e.width),i=oQ(r,e.y,e.height);return`${n} ${i}`}let oK={offset:"stroke-dashoffset",array:"stroke-dasharray"},oX={offset:"strokeDashoffset",array:"strokeDasharray"};function oJ(e,t,r=1,n=0,i=!0){e.pathLength=1;let s=i?oK:oX;e[s.offset]=eM.transform(-n);let o=eM.transform(t),a=eM.transform(r);e[s.array]=`${o} ${a}`}function o0(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h){if(oY(e,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:f,dimensions:p}=e;d.transform&&(p&&(f.transform=d.transform),delete d.transform),p&&(void 0!==i||void 0!==s||f.transform)&&(f.transformOrigin=oZ(p,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(d.x=t),void 0!==r&&(d.y=r),void 0!==n&&(d.scale=n),void 0!==o&&oJ(d,o,a,l,!1)}let o1=e=>"string"==typeof e&&"svg"===e.toLowerCase(),o2={useVisualState:oU({scrapeMotionValuesFromProps:oF,createRenderState:oV,onMount:(e,t,{renderState:r,latestValues:n})=>{F.read(()=>{try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}}),F.render(()=>{o0(r,n,o1(t.tagName),e.transformTemplate),oC(t,r)})}})},o5={useVisualState:oU({scrapeMotionValuesFromProps:oR,createRenderState:oB})};function o6(e,t,r){for(let n in t)r4(t[n])||oL(n,r)||(e[n]=t[n])}function o4({transformTemplate:e},t){return(0,iO.useMemo)(()=>{let r=oB();return oY(r,t,e),Object.assign({},r.vars,r.style)},[t])}function o3(e,t){let r=e.style||{},n={};return o6(n,r,e),Object.assign(n,o4(e,t)),n}function o8(e,t){let r={},n=o3(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}let o9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o7(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||o9.has(e)}let ae=e=>!o7(e);function at(e){e&&(ae=t=>t.startsWith("on")?!o7(t):e(t))}try{at(require("@emotion/is-prop-valid").default)}catch(e){}function ar(e,t,r){let n={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(ae(i)||!0===r&&o7(i)||!t&&!o7(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function an(e,t,r,n){let i=(0,iO.useMemo)(()=>{let r=oV();return o0(r,t,o1(n),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};o6(t,e.style,e),i.style={...t,...i.style}}return i}function ai(e=!1){return(t,r,n,{latestValues:i},s)=>{let o=(oP(t)?an:o8)(r,i,s,t),a=ar(r,"string"==typeof t,e),l=t!==iO.Fragment?{...a,...o,ref:n}:{},{children:u}=r,c=(0,iO.useMemo)(()=>r4(u)?u.get():u,[u]);return(0,iO.createElement)(t,{...l,children:c})}}function as(e,t){return function(r,{forwardMotionProps:n}={forwardMotionProps:!1}){return oI({...oP(r)?o2:o5,preloadedFeatures:e,useRender:ai(n),createVisualElement:t,Component:r})}}let ao={current:null},aa={current:!1};function al(){if(aa.current=!0,oc){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ao.current=e.matches;e.addListener(t),t()}else ao.current=!1}}function au(e,t,r){for(let n in t){let i=t[n],s=r[n];if(r4(i))e.addValue(n,i);else if(r4(s))e.addValue(n,rJ(i,{owner:e}));else if(s!==i){if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(n);e.addValue(n,rJ(void 0!==t?t:i,{owner:e}))}}}for(let n in r)void 0===t[n]&&e.removeValue(n);return t}let ac=new WeakMap,ah=[...eL,e2,ts],ad=e=>ah.find(eC(e)),af=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ap{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=eV,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tM.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,F.render(this.render,!1,!0))};let{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=oy(t),this.isVariantNode=ov(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...c}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in c){let t=c[e];void 0!==a[e]&&r4(t)&&t.set(a[e],!1)}}mount(e){this.current=e,ac.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),aa.current||al(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||ao.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in ac.delete(this.current),this.projection&&this.projection.unmount(),_(this.notifyUpdate),_(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=b.has(e),i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&F.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in oE){let t=oE[e];if(!t)continue;let{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ie()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<af.length;t++){let r=af[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=e["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=au(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=rJ(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let n=void 0===this.latestValues[e]&&this.current?null!==(r=this.getBaseTargetFromProps(this.props,e))&&void 0!==r?r:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return null!=n&&("string"==typeof n&&(es(n)||et(n))?n=parseFloat(n):!ad(n)&&ts.test(t)&&(n=tg(e,t)),this.setBaseTarget(e,r4(n)?n.get():n)),r4(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let r;let{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){let i=p(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(r=i[e])}if(n&&void 0!==r)return r;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||r4(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new rY),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class am extends ap{constructor(){super(...arguments),this.KeyframeResolver=tb}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}}function ag(e){return window.getComputedStyle(e)}class ay extends am{constructor(){super(...arguments),this.type="html",this.renderInstance=oO}readValueFromInstance(e,t){if(b.has(t)){let e=tm(t);return e&&e.default||0}{let r=ag(e),n=(ea(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iM(e,t)}build(e,t,r){oY(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return oR(e,t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;r4(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class av extends am{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ie}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(b.has(t)){let e=tm(t);return e&&e.default||0}return t=oD.has(t)?t:r2(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return oF(e,t,r)}build(e,t,r){o0(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,n){oC(e,t,r,n)}mount(e){this.isSVGTag=o1(e.tagName),super.mount(e)}}let ab=(e,t)=>oP(e)?new av(t):new ay(t,{allowProjection:e!==iO.Fragment}),aw=l(as({...ny,...oo,...s0,...oa},ab));class ax extends iO.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aM({children:e,isPresent:t}){let r=(0,iO.useId)(),n=(0,iO.useRef)(null),i=(0,iO.useRef)({width:0,height:0,top:0,left:0}),{nonce:s}=(0,iO.useContext)(ol);return(0,iO.useInsertionEffect)(()=>{let{width:e,height:o,top:a,left:l}=i.current;if(t||!n.current||!e||!o)return;n.current.dataset.motionPopId=r;let u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),(0,a.jsx)(ax,{isPresent:t,childRef:n,sizeRef:i,children:iO.cloneElement(e,{ref:n})})}let aE=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{let l=o_(aA),u=(0,iO.useId)(),c=(0,iO.useCallback)(e=>{for(let t of(l.set(e,!0),l.values()))if(!t)return;n&&n()},[l,n]),h=(0,iO.useMemo)(()=>({id:u,initial:t,isPresent:r,custom:i,onExitComplete:c,register:e=>(l.set(e,!1),()=>l.delete(e))}),s?[Math.random(),c]:[r,c]);return(0,iO.useMemo)(()=>{l.forEach((e,t)=>l.set(t,!1))},[r]),iO.useEffect(()=>{r||l.size||!n||n()},[r]),"popLayout"===o&&(e=(0,a.jsx)(aM,{isPresent:r,children:e})),(0,a.jsx)(iD.Provider,{value:h,children:e})};function aA(){return new Map}let aN=e=>e.key||"";function aI(e){let t=[];return iO.Children.forEach(e,e=>{(0,iO.isValidElement)(e)&&t.push(e)}),t}let aT=({children:e,exitBeforeEnter:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{ei(!t,"Replace exitBeforeEnter with mode='wait'");let l=(0,iO.useMemo)(()=>aI(e),[e]),u=l.map(aN),c=(0,iO.useRef)(!0),h=(0,iO.useRef)(l),d=o_(()=>new Map),[f,p]=(0,iO.useState)(l),[m,g]=(0,iO.useState)(l);oh(()=>{c.current=!1,h.current=l;for(let e=0;e<m.length;e++){let t=aN(m[e]);u.includes(t)?d.delete(t):!0!==d.get(t)&&d.set(t,!1)}},[m,u.length,u.join("-")]);let y=[];if(l!==f){let e=[...l];for(let t=0;t<m.length;t++){let r=m[t],n=aN(r);u.includes(n)||(e.splice(t,0,r),y.push(r))}"wait"===o&&y.length&&(e=y),g(aI(e)),p(l);return}let{forceRender:v}=(0,iO.useContext)(iL);return(0,a.jsx)(a.Fragment,{children:m.map(e=>{let t=aN(e),f=l===m||u.includes(t),p=()=>{if(!d.has(t))return;d.set(t,!0);let e=!0;d.forEach(t=>{t||(e=!1)}),e&&(null==v||v(),g(h.current),i&&i())};return(0,a.jsx)(aE,{isPresent:f,initial:(!c.current||!!n)&&void 0,custom:f?void 0:r,presenceAffectsLayout:s,mode:o,onExitComplete:f?void 0:p,children:e},t)})})};function aS(e){let t=o_(()=>rJ(e)),{isStatic:r}=(0,iO.useContext)(ol);if(r){let[,r]=(0,iO.useState)(e);(0,iO.useEffect)(()=>t.on("change",r),[])}return t}function ak(e){return"number"==typeof e?e:parseFloat(e)}function aj(e,t={}){let{isStatic:r}=(0,iO.useContext)(ol),n=(0,iO.useRef)(null),i=aS(r4(e)?ak(e.get()):e),s=(0,iO.useRef)(i.get()),o=(0,iO.useRef)(()=>{}),a=()=>{let e=n.current;e&&0===e.time&&e.sample(z.delta),l(),n.current=rx({keyframes:[i.get(),s.current],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:o.current})},l=()=>{n.current&&n.current.stop()};return(0,iO.useInsertionEffect)(()=>i.attach((e,t)=>r?t(e):(s.current=e,o.current=t,F.update(a),i.get()),l),[JSON.stringify(t)]),oh(()=>{if(r4(e))return e.on("change",e=>i.set(ak(e)))},[i]),i}function aP(e,t,r){var n;if("string"==typeof e){let i=document;t&&(ei(!!t.current,"Scope provided, but no element detected."),i=t.current),r?(null!==(n=r[e])&&void 0!==n||(r[e]=i.querySelectorAll(e)),e=r[e]):e=i.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}let aO={some:0,all:1};function aD(e,t,{root:r,margin:n,amount:i="some"}={}){let s=aP(e),o=new WeakMap,a=new IntersectionObserver(e=>{e.forEach(e=>{let r=o.get(e.target);if(!!r!==e.isIntersecting){if(e.isIntersecting){let r=t(e);"function"==typeof r?o.set(e.target,r):a.unobserve(e.target)}else r&&(r(e),o.delete(e.target))}})},{root:r,rootMargin:n,threshold:"number"==typeof i?i:aO[i]});return s.forEach(e=>a.observe(e)),()=>a.disconnect()}function aC(e,{root:t,margin:r,amount:n,once:i=!1}={}){let[s,o]=(0,iO.useState)(!1);return(0,iO.useEffect)(()=>{if(!e.current||i&&s)return;let a=()=>(o(!0),i?void 0:()=>o(!1)),l={root:t&&t.current||void 0,margin:r,amount:n};return aD(e.current,a,l)},[t,e,r,i,n]),s}var aL=r(59462);function aR({prizeFund:e,direction:t="up",delay:r=0,className:n,decimalPlaces:i=0,symbol:s="$"}){let o=e??0,l=void 0===e,u=(0,iO.useRef)(null);return aj(aS("down"===t?o:0),{damping:60,stiffness:100}),aC(u,{once:!0,margin:"0px"}),(0,a.jsxs)(aw.span,{className:(0,aL.cn)("inline-block tabular-nums tracking-wider",n),ref:u,animate:l?{opacity:[1,.5,1]}:{opacity:1},transition:l?{duration:1,repeat:1/0}:{},children:[s,Intl.NumberFormat("en-US",{minimumFractionDigits:i,maximumFractionDigits:i}).format("down"===t?o:0)]})}function aF({text:e,duration:t=200,className:r}){let[n,i]=(0,iO.useState)(""),[s,o]=(0,iO.useState)(0);return(0,a.jsx)("h1",{className:(0,aL.cn)("font-display text-center text-4xl font-bold leading-[5rem] tracking-[-0.02em] drop-shadow-sm",r),children:n||e})}function a_({className:e}){return(0,a.jsx)("div",{className:(0,aL.cn)("max-w-[600px]",e),children:(0,a.jsx)(aF,{className:"text-xs sm:text-sm text-center sm:text-left font-[family-name:var(--font-geist-mono)]",text:"Welcome to Convice Me. Under no circumstances will the podcast hosts change their opinion. But you can try to convince them otherwise...and win the pool prize!",duration:15})})}function az({className:e,prizeFund:t}){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-md font-[600] text-[#86868b] uppercase tracking-wider font-inter",children:"BASE POOL PRIZE"}),(0,a.jsx)("p",{className:`whitespace-pre-wrap text-2xl sm:text-5xl font-[500] text-[#1F2024] font-inter tracking-tighter ${e||""}`,children:(0,a.jsx)(aR,{prizeFund:t,decimalPlaces:2,symbol:"$"})})]})}let aU=({children:e})=>(0,a.jsx)(aw.div,{initial:{opacity:0,scale:.8,y:50,backgroundColor:"rgb(220 252 231)"},animate:{opacity:1,scale:1,y:0,backgroundColor:["rgb(220 252 231)","transparent"]},transition:{duration:.6,ease:[.23,1,.32,1],opacity:{duration:.4},scale:{duration:.4},y:{duration:.4},backgroundColor:{duration:1.5,times:[0,1]}},children:e}),a$=async(e,t)=>[];var aB=r(87787);function aV(){let[e,t]=(0,iO.useState)(""),[r,n]=(0,iO.useState)(!1),[i,s]=(0,iO.useState)("");return{account:e,isConnected:r,error:i,connectWallet:async()=>{try{let e=await (0,aB.N)();if(!e){s("Please install a Starknet wallet");return}await e.enable(),t(e.selectedAddress||""),n(!0),s("")}catch(e){s(e.message)}},disconnectWallet:()=>{t(""),n(!1)}}}let aq=()=>{let{account:e,isConnected:t,connectWallet:r,disconnectWallet:n}=aV();return(0,a.jsx)("button",{onClick:t?n:r,className:"bg-stone-800 hover:bg-stone-900 text-white px-4 py-2 rounded-full text-sm transition-colors",children:t?`${e.slice(0,6)}...${e.slice(-4)}`:"Connect Wallet"})};var aW=r(44269),aH=r(41680);let aG=(0,aH.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var aY=r(21244),aQ=r(89576);let aZ=({gameState:e,prizeFund:t,isOpen:r,onClose:n})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:`fixed z-50 inset-0 bg-black/50 transition-opacity duration-300 lg:hidden ${r?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:n}),(0,a.jsx)("div",{className:`fixed z-50 left-0 top-0 h-full w-80 bg-white transform transition-transform duration-300 ease-in-out ${r?"translate-x-0":"-translate-x-full"}`,children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex flex-col gap-6",children:(0,a.jsx)(aW.A,{className:"w-6 h-6 cursor-pointer ml-auto",onClick:n})}),(0,a.jsx)(aQ.W,{}),(0,a.jsx)(aY.U,{totalParticipants:e.uniqueWallets,totalMessages:e.messagesCount,prizeFund:t??0,endgameTime:e.endgameTime,isGameEnded:e.isGameEnded})]})})})]}),aK=({gameState:e,prizeFund:t})=>{let[r,n]=(0,iO.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center p-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mr-auto cursor-pointer lg:hidden",onClick:()=>n(!0),children:(0,a.jsx)(aG,{})}),(0,a.jsx)("div",{className:"flex items-center gap-4 ml-auto",children:(0,a.jsx)(aq,{})})]}),(0,a.jsx)(aZ,{gameState:e,prizeFund:t,isOpen:r,onClose:()=>n(!1)})]})},aX=(0,aH.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),aJ=(0,aH.A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),a0=async e=>({success:!0,error:null}),a1=async(e,t,r,n)=>{};var a2=r(61425),a5=r(53672),a6=r(98742),a4=r(86388),a3=r(91059),a8=r(15297),a9=r(76271),a7=r(60696),le=r(58184);function lt({chain:e,currentChainId:t}){if(!e)throw new le.jF;if(t!==e.id)throw new le.EH({chain:e,currentChainId:t})}var lr=r(49093),ln=r(84293),li=r(11441);function ls(e,{docsPath:t,...r}){let n=(()=>{let t=(0,li.l)(e,r);return t instanceof lr.RM?e:t})();return new ln.$s(n,{docsPath:t,...r})}var lo=r(9694),la=r(46830),ll=r(57098),lu=r(42719),lc=r(42911),lh=r(36273),ld=r(58375);let lf=new ll.A(128);async function lp(e,t){let{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:d,nonce:f,value:p,...m}=t;if(void 0===r)throw new a6.T({docsPath:"/docs/actions/wallet/sendTransaction"});let g=r?(0,a5.J)(r):null;try{(0,lu.c)(t);let r=await (async()=>t.to?t.to:s&&s.length>0?await (0,a7.g)({authorization:s[0]}).catch(()=>{throw new a9.C("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(g?.type==="json-rpc"||null===g){let t;null!==n&&(t=await (0,a8.T)(e,lc.T,"getChainId")({}),lt({currentChainId:t,chain:n}));let y=e.chain?.formatters?.transactionRequest?.format,v=(y||la.Bv)({...(0,lo.o)(m,{format:y}),accessList:i,authorizationList:s,blobs:o,chainId:t,data:a,from:g?.address,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:d,nonce:f,to:r,value:p}),b=lf.get(e.uid),w=b?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:w,params:[v]},{retryCount:0})}catch(r){if(!1===b)throw r;let t=r;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[v]},{retryCount:0}).then(t=>(lf.set(e.uid,!0),t)).catch(r=>{let n=r;if("MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)throw lf.set(e.uid,!1),t;throw n});throw t}}if(g?.type==="local"){let t=await (0,a8.T)(e,lh.f,"prepareTransactionRequest")({account:g,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:u,maxFeePerBlobGas:c,maxFeePerGas:h,maxPriorityFeePerGas:d,nonce:f,nonceManager:g.nonceManager,parameters:[...lh.M,"sidecars"],value:p,...m,to:r}),y=n?.serializers?.transaction,v=await g.signTransaction(t,{serializer:y});return await (0,a8.T)(e,ld.L,"sendRawTransaction")({serializedTransaction:v})}if(g?.type==="smart")throw new a6.Z({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new a6.Z({docsPath:"/docs/actions/wallet/sendTransaction",type:g?.type})}catch(e){if(e instanceof a6.Z)throw e;throw ls(e,{...t,account:g,chain:t.chain||void 0})}}async function lm(e,t){let{abi:r,account:n=e.account,address:i,args:s,dataSuffix:o,functionName:a,...l}=t;if(void 0===n)throw new a6.T({docsPath:"/docs/contract/writeContract"});let u=n?(0,a5.J)(n):null,c=(0,a4.p)({abi:r,args:s,functionName:a});try{return await (0,a8.T)(e,lp,"sendTransaction")({data:`${c}${o?o.replace("0x",""):""}`,to:i,account:u,...l})}catch(e){throw(0,a3.j)(e,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:a,sender:u?.address})}}var lg=r(74703),ly=r(39062);async function lv(e,t){let r;let{account:n,chainId:i,connector:s,...o}=t;r="object"==typeof n&&n?.type==="local"?e.getClient({chainId:i}):await (0,ly.r)(e,{account:n??void 0,chainId:i,connector:s});let a=(0,lg.T)(r,lm,"writeContract");return await a({...o,...n?{account:n}:{},chain:i?{id:i}:null})}var lb=r(85424),lw=r(53903),lx=r(74291),lM=r(67284);async function lE(e,t){let{chainId:r,timeout:n=0,...i}=t,s=e.getClient({chainId:r}),o=(0,lg.T)(s,lw.n,"waitForTransactionReceipt"),a=await o({...i,timeout:n});if("reverted"===a.status){let e=(0,lg.T)(s,lx.x,"getTransaction"),t=await e({hash:a.transactionHash}),r=(0,lg.T)(s,lM.T,"call"),n=await r({...t,data:t.input,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(n?.data?(0,lb.IQ)(`0x${n.data.substring(138)}`):"unknown reason")}return{...a,chainId:s.chain.id}}var lA=r(35336);let lN=(0,aH.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var lI=r(37568),lT=r.n(lI),lS=["second","minute","hour","day","week","month","year"],lk=["","","","","","",""];function lj(e,t){if(0===t)return["",""];var r=lk[~~(t/2)];return[e+" "+r+"",e+" "+r+""]}var lP={},lO=function(e,t){lP[e]=t},lD=function(e){return lP[e]||lP.en_US},lC=[60,60,24,7,365/7/12,12];function lL(e){return e instanceof Date?e:new Date(!isNaN(e)||/^\d+$/.test(e)?parseInt(e):e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"))}function lR(e,t){for(var r=e<0?1:0,n=e=Math.abs(e),i=0;e>=lC[i]&&i<lC.length;i++)e/=lC[i];return i*=2,(e=Math.floor(e))>(0===i?9:1)&&(i+=1),t(e,i,n)[r].replace("%s",e.toString())}function lF(e,t){return(+(t?lL(t):new Date)-+lL(e))/1e3}var l_=function(e,t,r){return lR(lF(e,r&&r.relativeDate),lD(t))},lz={};lO("en_US",function e(e,t){if(0===t)return["just now","right now"];var r=lS[Math.floor(t/2)];return e>1&&(r+="s"),[e+" "+r+" ago","in "+e+" "+r]}),lO("zh_CN",lj);var lU=r(45103);let l$=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"",lB=({message:e,onSelect:t,showTime:r=!0})=>{let n="user"===e.role,i="system"===e.role;return(0,a.jsx)("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:(0,a.jsxs)("div",{className:`flex ${n?"flex-row-reverse":"flex-row"}`,children:[(0,a.jsx)("div",{className:"hidden lg:block flex-shrink-0",children:(0,a.jsx)("div",{className:`w-8 h-8 rounded-full shadow-sm flex items-center justify-center transition-colors overflow-hidden ${n?"ml-3":"mr-3"}`,children:n?(0,a.jsx)(lT(),{size:32,name:e.userWallet,variant:"pixel"}):i?(0,a.jsx)("div",{className:"bg-violet-500/90 w-full h-full flex items-center justify-center",children:(0,a.jsx)(lN,{className:"w-4 h-4 text-white"})}):(0,a.jsx)("div",{className:"bg-gray-600/90 w-full h-full flex items-center justify-center",children:(0,a.jsx)(lU.default,{src:"/freysa.png",alt:"Freysa",height:32,width:32})})})}),(0,a.jsxs)("div",{className:`flex flex-col ${n?"items-end":"items-start"}`,children:[n&&e.userWallet&&(0,a.jsxs)("div",{className:"hidden lg:flex items-center gap-1 mb-1 mr-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:l$(e.userWallet)}),e.isWinner&&(0,a.jsx)("span",{className:"text-xs text-amber-500 font-medium",children:"\uD83C\uDFC6 Winner!"})]}),(0,a.jsx)("div",{onClick:()=>{n&&t&&"id"in e&&t(e)},role:n?"button":void 0,tabIndex:n?0:void 0,className:`rounded-xl px-4 py-2.5 shadow-sm backdrop-blur-sm max-w-xl ${n&&t?"cursor-pointer":""} transition-all ${i?"bg-violet-100 text-violet-900":n?e.isWinner?"bg-gradient-to-br from-yellow-400 via-amber-500 to-yellow-600 text-white shadow-lg shadow-amber-500/20":"bg-gray-200 text-gray-900":"bg-gray-800 text-white"}`,children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("p",{className:"text-[15px] leading-relaxed",children:e.content}),!n&&e.isWinner&&(0,a.jsx)("p",{className:"text-[13px] text-emerald-300 font-medium mt-1",children:"Freysa decided to send the money"})]})}),r&&"createdAt"in e&&(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsx)("span",{className:"text-xs text-gray-500 opacity-70",children:l_(new Date(e.createdAt))})})]})]})})},lV=async e=>({id:"1",content:"Example message",txHash:e,role:"user",userWallet:"0x...",createdAt:new Date().toISOString()}),lq=({txHash:e,onClose:t})=>{let[r,n]=(0,iO.useState)(),[i,s]=(0,iO.useState)(!0);return(0,iO.useEffect)(()=>{(async()=>{try{let t=await lV(e);n({...t,role:t.role})}catch(e){console.error("Failed to fetch message:",e)}finally{s(!1)}})()},[e]),(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-[100]",children:[(0,a.jsx)(aw.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:t}),(0,a.jsx)(aw.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-2xl mx-4 z-[101]",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Context"}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Close modal",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"max-h-[60vh] overflow-y-auto",children:i?(0,a.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):r?.fullConversation?(0,a.jsx)("pre",{className:"bg-gray-50 p-4 rounded-lg overflow-x-auto",children:(0,a.jsx)("code",{className:"text-sm",children:JSON.stringify(JSON.parse(r.fullConversation),null,2)})}):(0,a.jsx)("div",{className:"text-center text-gray-500",children:"No conversation data available"})})})]})})]})};var lW=r(55740);function lH(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function lG(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function lY(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function lQ(e,t){lG(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let lZ=BigInt(0x100000000-1),lK=BigInt(32);function lX(e,t=!1){return t?{h:Number(e&lZ),l:Number(e>>lK&lZ)}:{h:0|Number(e>>lK&lZ),l:0|Number(e&lZ)}}function lJ(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=lX(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}let l0=(e,t,r)=>e<<r|t>>>32-r,l1=(e,t,r)=>t<<r|e>>>32-r,l2=(e,t,r)=>t<<r-32|e>>>64-r,l5=(e,t,r)=>e<<r-32|t>>>64-r,l6=e=>e instanceof Uint8Array,l4=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function l3(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function l8(e){if("string"==typeof e&&(e=l3(e)),!l6(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class l9{clone(){return this._cloneInto()}}function l7(e){let t=t=>e().update(l8(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}let[ue,ut,ur]=[[],[],[]],un=BigInt(0),ui=BigInt(1),us=BigInt(2),uo=BigInt(7),ua=BigInt(256),ul=BigInt(113);for(let e=0,t=ui,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ue.push(2*(5*n+r)),ut.push((e+1)*(e+2)/2%64);let i=un;for(let e=0;e<7;e++)(t=(t<<ui^(t>>uo)*ul)%ua)&us&&(i^=ui<<(ui<<BigInt(e))-ui);ur.push(i)}let[uu,uc]=lJ(ur,!0),uh=(e,t,r)=>r>32?l2(e,t,r):l0(e,t,r),ud=(e,t,r)=>r>32?l5(e,t,r):l1(e,t,r);function uf(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=uh(s,o,1)^r[n],l=ud(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=ut[r],s=uh(t,i,n),o=ud(t,i,n),a=ue[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=uu[n],e[1]^=uc[n]}r.fill(0)}class up extends l9{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lH(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=l4(this.state)}keccak(){uf(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){lY(this);let{blockLen:t,state:r}=this,n=(e=l8(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){lY(this,!1),lG(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lH(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lQ(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new up(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let um=(i=1,s=136,o=32,l7(()=>new up(s,i,o))),ug="6.13.4";function uy(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}async function uv(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function ub(e,t,r){for(let n in t){let i=t[n],s=r?r[n]:null;s&&uy(i,s,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function uw(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(uw).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return uw(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(t=>`${uw(t)}: ${uw(e[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ux(e,t){return e&&e.code===t}function uM(e){return ux(e,"CALL_EXCEPTION")}function uE(e,t,r){let n,i=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${uw(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+uw(t))}}n.push(`code=${t}`),n.push(`version=${ug}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return ub(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&ub(n,{shortMessage:i}),n}function uA(e,t,r,n){if(!e)throw uE(t,r,n)}function uN(e,t,r,n){uA(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function uI(e,t,r){null==r&&(r=""),r&&(r=": "+r),uA(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),uA(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}let uT=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function uS(e){uA(uT.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function uk(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),uA(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function uj(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}uN(!1,"invalid BytesLike value",t||"value",e)}function uP(e,t){return uj(e,t,!1)}function uO(e,t){return uj(e,t,!0)}function uD(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function uC(e){return uD(e,!0)||e instanceof Uint8Array}let uL="0123456789abcdef";function uR(e){let t=uP(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=uL[(240&n)>>4]+uL[15&n]}return r}function uF(e){return"0x"+e.map(e=>uR(e).substring(2)).join("")}function u_(e,t,r){let n=uP(e);return null!=r&&r>n.length&&uA(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),uR(n.slice(null==t?0:t,null==r?n.length:r))}function uz(e,t,r){let n=uP(e);uA(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),uR(i)}function uU(e,t){return uz(e,t,!0)}function u$(e,t){return uz(e,t,!1)}let uB=!1,uV=function(e){return um(e)},uq=uV;function uW(e){let t=uP(e,"data");return uR(uq(t))}function uH(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}function uG(e,t,r,n,i){return"OVERLONG"===e?(uN("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),uH(e,t,r,n,i))}uW._=uV,uW.lock=function(){uB=!0},uW.register=function(e){if(uB)throw TypeError("keccak256 is locked");uq=e},Object.freeze(uW);let uY=Object.freeze({error:function(e,t,r,n,i){uN(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:uH,replace:uG});function uQ(e,t){null==t&&(t=uY.error);let r=uP(e,"bytes"),n=[],i=0;for(;i<r.length;){let e=r[i++];if(e>>7==0){n.push(e);continue}let s=null,o=null;if((224&e)==192)s=1,o=127;else if((240&e)==224)s=2,o=2047;else if((248&e)==240)s=3,o=65535;else{(192&e)==128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+s>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let a=e&(1<<8-s-1)-1;for(let e=0;e<s;e++){let e=r[i];if((192&e)!=128){i+=t("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|63&e,i++}if(null!==a){if(a>1114111){i+=t("OUT_OF_RANGE",i-1-s,r,n,a);continue}if(a>=55296&&a<=57343){i+=t("UTF16_SURROGATE",i-1-s,r,n,a);continue}if(a<=o){i+=t("OVERLONG",i-1-s,r,n,a);continue}n.push(a)}}return n}function uZ(e,t){uN("string"==typeof e,"invalid string value","str",e),null!=t&&(uS(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);uN(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function uK(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function uX(e,t){return uK(uQ(e,t))}function uJ(e){return uW(uZ(e))}let u0=BigInt(0),u1=BigInt(1),u2=0x1fffffffffffff;function u5(e,t){let r=u8(e,"value"),n=BigInt(ce(t,"width"));return(uA(r>>n===u0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-u1)?-((~r&(u1<<n)-u1)+u1):r}function u6(e,t){let r=u3(e,"value"),n=BigInt(ce(t,"width")),i=u1<<n-u1;return r<u0?(uA((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(u1<<n)-u1)+u1):(uA(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function u4(e,t){return u8(e,"value")&(u1<<BigInt(ce(t,"bits")))-u1}function u3(e,t){switch(typeof e){case"bigint":return e;case"number":return uN(Number.isInteger(e),"underflow",t||"value",e),uN(e>=-u2&&e<=u2,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){uN(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}uN(!1,"invalid BigNumberish value",t||"value",e)}function u8(e,t){let r=u3(e,t);return uA(r>=u0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let u9="0123456789abcdef";function u7(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=u9[r>>4],t+=u9[15&r];return BigInt(t)}return u3(e)}function ce(e,t){switch(typeof e){case"bigint":return uN(e>=-u2&&e<=u2,"overflow",t||"value",e),Number(e);case"number":return uN(Number.isInteger(e),"underflow",t||"value",e),uN(e>=-u2&&e<=u2,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return ce(BigInt(e),t)}catch(r){uN(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}uN(!1,"invalid numeric value",t||"value",e)}function ct(e){return ce(u7(e))}function cr(e,t){let r=u8(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let n=ce(t,"width");for(uA(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function cn(e){let t=u8(e,"value");if(t===u0)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}let ci=32,cs=new Uint8Array(32),co=["then"],ca={},cl=new WeakMap;function cu(e){return cl.get(e)}function cc(e,t){cl.set(e,t)}function ch(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}function cd(e,t,r){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof cf?cd(cu(e),e,r):e):e.reduce((e,n,i)=>{let s=t.getValue(n);return n in e||(r&&s instanceof cf&&(s=cd(cu(s),s,r)),e[n]=s),e},{})}class cf extends Array{#e;constructor(...e){let t=e[0],r=e[1],n=(e[2]||[]).slice(),i=!0;t!==ca&&(r=e,n=[],i=!1),super(r.length),r.forEach((e,t)=>{this[t]=e});let s=n.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(cc(this,Object.freeze(r.map((e,t)=>{let r=n[t];return null!=r&&1===s.get(r)?r:null}))),this.#e=[],null==this.#e&&this.#e,!i)return;Object.freeze(this);let o=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=ce(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let n=e[r];return n instanceof Error&&ch(`index ${r}`,n),n}if(co.indexOf(t)>=0)return Reflect.get(e,t,r);let n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return cc(o,cu(this)),o}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&ch(`index ${n}`,r),e&&r instanceof cf&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=cu(this);return t.reduce((r,n,i)=>(uA(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),cd(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=cu(this),n=[],i=[];for(let s=e;s<t;s++)n.push(this[s]),i.push(r[s]);return new cf(ca,n,i)}filter(e,t){let r=cu(this),n=[],i=[];for(let s=0;s<this.length;s++){let o=this[s];o instanceof Error&&ch(`index ${s}`,o),e.call(t,o,s,this)&&(n.push(o),i.push(r[s]))}return new cf(ca,n,i)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let i=this[n];i instanceof Error&&ch(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){let t=cu(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&ch(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new cf(ca,e,t)}}function cp(e){let t=cn(e);return uA(t.length<=ci,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:ci,offset:t.length}),t.length!==ci&&(t=uO(uF([cs.slice(t.length%ci),t]))),t}class cm{name;type;localName;dynamic;constructor(e,t,r,n){ub(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){uN(!1,e,this.localName,t)}}class cg{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return uF(this.#t)}get length(){return this.#r}#n(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#n(uO(e.data))}writeBytes(e){let t=uO(e),r=t.length%ci;return r&&(t=uO(uF([t,cs.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(cp(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(cs),this.#r+=ci,t=>{this.#t[e]=cp(t)}}}class cy{allowLoose;#t;#i;#s;#o;#a;constructor(e,t,r){ub(this,{allowLoose:!!t}),this.#t=uO(e),this.#s=0,this.#o=null,this.#a=null!=r?r:1024,this.#i=0}get data(){return uR(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#l(e){if(this.#o)return this.#o.#l(e);this.#s+=e,uA(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:uO(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#u(e,t,r){let n=Math.ceil(t/ci)*ci;return this.#i+n>this.#t.length&&(this.allowLoose&&r&&this.#i+t<=this.#t.length?n=t:uA(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:uO(this.#t),length:this.#t.length,offset:this.#i+n})),this.#t.slice(this.#i,this.#i+n)}subReader(e){let t=new cy(this.#t.slice(this.#i+e),this.allowLoose,this.#a);return t.#o=this,t}readBytes(e,t){let r=this.#u(0,e,!!t);return this.#l(e),this.#i+=r.length,r.slice(0,e)}readValue(){return u7(this.readBytes(ci))}readIndex(){return ct(this.readBytes(ci))}}let cv=BigInt(0),cb=BigInt(36);function cw(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=uP(uW(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let cx={};for(let e=0;e<10;e++)cx[String(e)]=String(e);for(let e=0;e<26;e++)cx[String.fromCharCode(65+e)]=String(10+e);let cM=15;function cE(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>cx[e]).join("");for(;t.length>=cM;){let e=t.substring(0,cM);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}let cA=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function cN(e){e=e.toLowerCase();let t=cv;for(let r=0;r<e.length;r++)t=t*cb+cA[e[r]];return t}function cI(e){if(uN("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=cw(e);return uN(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){uN(e.substring(2,4)===cE(e),"bad icap checksum","address",e);let t=cN(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return cw("0x"+t)}uN(!1,"invalid address","address",e)}let cT={};function cS(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new cP(cT,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function ck(e,t){return new cP(cT,`bytes${t||""}`,e,{size:t})}let cj=Symbol.for("_ethers_typed");class cP{type;value;#c;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),uk(cT,e,"Typed"),ub(this,{_typedSymbol:cj,type:t,value:r}),this.#c=n,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(e,t){return new cP(cT,e,t)}static uint8(e){return cS(e,8)}static uint16(e){return cS(e,16)}static uint24(e){return cS(e,24)}static uint32(e){return cS(e,32)}static uint40(e){return cS(e,40)}static uint48(e){return cS(e,48)}static uint56(e){return cS(e,56)}static uint64(e){return cS(e,64)}static uint72(e){return cS(e,72)}static uint80(e){return cS(e,80)}static uint88(e){return cS(e,88)}static uint96(e){return cS(e,96)}static uint104(e){return cS(e,104)}static uint112(e){return cS(e,112)}static uint120(e){return cS(e,120)}static uint128(e){return cS(e,128)}static uint136(e){return cS(e,136)}static uint144(e){return cS(e,144)}static uint152(e){return cS(e,152)}static uint160(e){return cS(e,160)}static uint168(e){return cS(e,168)}static uint176(e){return cS(e,176)}static uint184(e){return cS(e,184)}static uint192(e){return cS(e,192)}static uint200(e){return cS(e,200)}static uint208(e){return cS(e,208)}static uint216(e){return cS(e,216)}static uint224(e){return cS(e,224)}static uint232(e){return cS(e,232)}static uint240(e){return cS(e,240)}static uint248(e){return cS(e,248)}static uint256(e){return cS(e,256)}static uint(e){return cS(e,256)}static int8(e){return cS(e,-8)}static int16(e){return cS(e,-16)}static int24(e){return cS(e,-24)}static int32(e){return cS(e,-32)}static int40(e){return cS(e,-40)}static int48(e){return cS(e,-48)}static int56(e){return cS(e,-56)}static int64(e){return cS(e,-64)}static int72(e){return cS(e,-72)}static int80(e){return cS(e,-80)}static int88(e){return cS(e,-88)}static int96(e){return cS(e,-96)}static int104(e){return cS(e,-104)}static int112(e){return cS(e,-112)}static int120(e){return cS(e,-120)}static int128(e){return cS(e,-128)}static int136(e){return cS(e,-136)}static int144(e){return cS(e,-144)}static int152(e){return cS(e,-152)}static int160(e){return cS(e,-160)}static int168(e){return cS(e,-168)}static int176(e){return cS(e,-176)}static int184(e){return cS(e,-184)}static int192(e){return cS(e,-192)}static int200(e){return cS(e,-200)}static int208(e){return cS(e,-208)}static int216(e){return cS(e,-216)}static int224(e){return cS(e,-224)}static int232(e){return cS(e,-232)}static int240(e){return cS(e,-240)}static int248(e){return cS(e,-248)}static int256(e){return cS(e,-256)}static int(e){return cS(e,-256)}static bytes1(e){return ck(e,1)}static bytes2(e){return ck(e,2)}static bytes3(e){return ck(e,3)}static bytes4(e){return ck(e,4)}static bytes5(e){return ck(e,5)}static bytes6(e){return ck(e,6)}static bytes7(e){return ck(e,7)}static bytes8(e){return ck(e,8)}static bytes9(e){return ck(e,9)}static bytes10(e){return ck(e,10)}static bytes11(e){return ck(e,11)}static bytes12(e){return ck(e,12)}static bytes13(e){return ck(e,13)}static bytes14(e){return ck(e,14)}static bytes15(e){return ck(e,15)}static bytes16(e){return ck(e,16)}static bytes17(e){return ck(e,17)}static bytes18(e){return ck(e,18)}static bytes19(e){return ck(e,19)}static bytes20(e){return ck(e,20)}static bytes21(e){return ck(e,21)}static bytes22(e){return ck(e,22)}static bytes23(e){return ck(e,23)}static bytes24(e){return ck(e,24)}static bytes25(e){return ck(e,25)}static bytes26(e){return ck(e,26)}static bytes27(e){return ck(e,27)}static bytes28(e){return ck(e,28)}static bytes29(e){return ck(e,29)}static bytes30(e){return ck(e,30)}static bytes31(e){return ck(e,31)}static bytes32(e){return ck(e,32)}static address(e){return new cP(cT,"address",e)}static bool(e){return new cP(cT,"bool",!!e)}static bytes(e){return new cP(cT,"bytes",e)}static string(e){return new cP(cT,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new cP(cT,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===cj}static dereference(e,t){if(cP.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class cO extends cm{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=cP.dereference(t,"string");try{r=cI(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return cI(cr(e.readValue(),20))}}class cD extends cm{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function cC(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return uA(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),uA(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]})}else uN(!1,"invalid tuple value","tuple",r);uN(t.length===n.length,"types/value length mismatch","tuple",r);let i=new cg,s=new cg,o=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push(e=>{n(e+t)})}else e.encode(i,r)}),o.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(s)}function cL(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{s=t.decode(n)}catch(e){if(ux(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if(ux(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw Error("investigate");r.push(s),n.push(t.localName||null)}),cf.fromItems(r,n)}class cR extends cm{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),ub(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=cP.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),uI(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return cC(e,i,r)}decode(e){let t=this.length;-1===t&&uA((t=e.readIndex())*ci<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*ci,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new cD(this.coder));return cL(e,r)}}class cF extends cm{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=cP.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class c_ extends cm{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=uO(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class cz extends c_{constructor(e){super("bytes",e)}decode(e){return uR(super.decode(e))}}class cU extends cm{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),ub(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=uO(cP.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return uR(e.readBytes(this.size))}}let c$=new Uint8Array([]);class cB extends cm{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(c$)}decode(e){return e.readBytes(0),null}}let cV=BigInt(0),cq=BigInt(1),cW=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class cH extends cm{size;signed;constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),ub(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=u3(cP.dereference(t,this.type)),n=u4(cW,8*ci);if(this.signed){let e=u4(n,8*this.size-1);(r>e||r<-(e+cq))&&this._throwError("value out-of-bounds",t),r=u6(r,8*ci)}else(r<cV||r>u4(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=u4(e.readValue(),8*this.size);return this.signed&&(t=u5(t,8*this.size)),t}}class cG extends c_{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,uZ(cP.dereference(t,"string")))}decode(e){return uX(super.decode(e))}}class cY extends cm{coders;constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),ub(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){let r=cP.dereference(t,"tuple");return cC(e,this.coders,r)}decode(e){return cL(e,this.coders)}}function cQ(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}let cZ=cQ("external public payable override".split(" ")),cK="constant external internal payable private public pure view override",cX=cQ(cK.split(" ")),cJ="constructor error event fallback function receive struct",c0=cQ(cJ.split(" ")),c1="calldata memory storage payable indexed",c2=cQ(c1.split(" ")),c5=cQ([cJ,c1,"tuple returns",cK].join(" ").split(" ")),c6={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},c4=RegExp("^(\\s*)"),c3=RegExp("^([0-9]+)"),c8=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),c9=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),c7=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class he{#i;#h;get offset(){return this.#i}get length(){return this.#h.length-this.#i}constructor(e){this.#i=0,this.#h=e.slice()}clone(){return new he(this.#h)}reset(){this.#i=0}#d(e=0,t=0){return new he(this.#h.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#d(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#i<e.match-1;){let e=this.peek().linkNext;t.push(this.#d(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#h.length)throw Error("out-of-bounds");return this.#h[this.#i]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#i++,e}toString(){let e=[];for(let t=this.#i;t<this.#h.length;t++){let r=this.#h[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function ht(e){let t=[],r=t=>{let r=s<e.length?JSON.stringify(e[s]):"$EOI";throw Error(`invalid token ${r} at ${s}: ${t}`)},n=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(c4);a&&(s+=a[1].length,o=e.substring(s));let l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let u=c6[o[0]]||"";if(u){if(l.type=u,l.text=o[0],s++,"OPEN_PAREN"===u)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==u)0===n.length&&r("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===u)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===u)l.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=ce(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(a=o.match(c8)){if(l.text=a[1],s+=l.text.length,c5.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(c7)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(c3)){l.text=a[1],l.type="NUMBER",s+=l.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new he(t.map(e=>Object.freeze(e)))}function hr(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function hn(e,t){if(t.peekKeyword(c0)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function hi(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function hs(e){let t=hi(e,cX);return(hr(t,cQ("constant payable nonpayable".split(" "))),hr(t,cQ("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function ho(e,t){return e.popParams().map(e=>hw.from(e,t))}function ha(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return u3(e.pop().text);throw Error("invalid gas")}return null}function hl(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let hu=new RegExp(/^(.*)\[([0-9]*)\]$/);function hc(e){let t=e.match(c7);if(uN(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);uN(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);uN(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let hh={},hd=Symbol.for("_ethers_internal"),hf="_ParamTypeInternal",hp="_ErrorInternal",hm="_EventInternal",hg="_ConstructorInternal",hy="_FallbackInternal",hv="_FunctionInternal",hb="_StructInternal";class hw{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,s,o,a){if(uk(e,hh,"ParamType"),Object.defineProperty(this,hd,{value:hf}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw Error("")}else if(null!=o||null!=a)throw Error("");if("tuple"===n){if(null==s)throw Error("")}else if(null!=s)throw Error("");ub(this,{name:t,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#f(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,s=t.slice();s.forEach((t,n)=>{i.#f(e,t,r,e=>{s[n]=e})}),n(s);return}if(this.isTuple()){let i;let s=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=s.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{s[n].#f(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#f(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(hw.isParamType(e))return e;if("string"==typeof e)try{return hw.from(ht(e),t)}catch(t){uN(!1,"invalid param type","obj",e)}else if(e instanceof he){let r="",n="",i=null;hi(e,cQ(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>hw.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=hc(e.popType("TYPE"));let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();s=new hw(hh,"",r,n,null,i,o,s),o=t.value,r+=t.text,n="array",i=null}let a=null;if(hi(e,c2).has("indexed")){if(!t)throw Error("");a=!0}let l=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new hw(hh,l,r,n,a,i,o,s)}let r=e.name;uN(!r||"string"==typeof r&&r.match(c9),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(uN(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,s=i.match(hu);if(s){let t=parseInt(s[2]||"-1"),o=hw.from({type:s[1],components:e.components});return new hw(hh,r||"",i,"array",n,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>hw.from(e)):null;return new hw(hh,r||"",i,"tuple",n,t,null,null)}return new hw(hh,r||"",i=hc(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[hd]===hf}}class hx{type;inputs;constructor(e,t,r){uk(e,hh,"Fragment"),ub(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{hx.from(JSON.parse(e))}catch(e){}return hx.from(ht(e))}if(e instanceof he)switch(e.peekKeyword(c0)){case"constructor":return hI.from(e);case"error":return hA.from(e);case"event":return hN.from(e);case"fallback":case"receive":return hT.from(e);case"function":return hS.from(e);case"struct":return hk.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return hI.from(e);case"error":return hA.from(e);case"event":return hN.from(e);case"fallback":case"receive":return hT.from(e);case"function":return hS.from(e);case"struct":return hk.from(e)}uA(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}uN(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return hI.isFragment(e)}static isError(e){return hA.isFragment(e)}static isEvent(e){return hN.isFragment(e)}static isFunction(e){return hS.isFragment(e)}static isStruct(e){return hk.isFragment(e)}}class hM extends hx{name;constructor(e,t,r,n){super(e,t,n),uN("string"==typeof r&&r.match(c9),"invalid identifier","name",r),n=Object.freeze(n.slice()),ub(this,{name:r})}}function hE(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class hA extends hM{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,hd,{value:hp})}get selector(){return uJ(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+hE(e,this.inputs)),t.join(" ")}static from(e){if(hA.isFragment(e))return e;if("string"==typeof e)return hA.from(ht(e));if(e instanceof he){let t=hn("error",e),r=ho(e);return hl(e),new hA(hh,t,r)}return new hA(hh,e.name,e.inputs?e.inputs.map(hw.from):[])}static isFragment(e){return e&&e[hd]===hp}}class hN extends hM{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,hd,{value:hm}),ub(this,{anonymous:n})}get topicHash(){return uJ(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+hE(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new hN(hh,e,t=(t||[]).map(e=>hw.from(e)),!1).topicHash}static from(e){if(hN.isFragment(e))return e;if("string"==typeof e)try{return hN.from(ht(e))}catch(t){uN(!1,"invalid event fragment","obj",e)}else if(e instanceof he){let t=hn("event",e),r=ho(e,!0),n=!!hi(e,cQ(["anonymous"])).has("anonymous");return hl(e),new hN(hh,t,r,n)}return new hN(hh,e.name,e.inputs?e.inputs.map(e=>hw.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[hd]===hm}}class hI extends hx{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,hd,{value:hg}),ub(this,{payable:n,gas:i})}format(e){if(uA(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${hE(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(hI.isFragment(e))return e;if("string"==typeof e)try{return hI.from(ht(e))}catch(t){uN(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof he){hi(e,cQ(["constructor"]));let t=ho(e),r=!!hi(e,cZ).has("payable"),n=ha(e);return hl(e),new hI(hh,"constructor",t,r,n)}return new hI(hh,"constructor",e.inputs?e.inputs.map(hw.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[hd]===hg}}class hT extends hx{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,hd,{value:hy}),ub(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(hT.isFragment(e))return e;if("string"==typeof e)try{return hT.from(ht(e))}catch(t){uN(!1,"invalid fallback fragment","obj",e)}else if(e instanceof he){let t=e.toString();if(uN(e.peekKeyword(cQ(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(cQ(["fallback","receive"]))){let t=ho(e);return uN(0===t.length,"receive cannot have arguments","obj.inputs",t),hi(e,cQ(["payable"])),hl(e),new hT(hh,[],!0)}let r=ho(e);r.length?uN(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[hw.from("bytes")];let n=hs(e);if(uN("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),hi(e,cQ(["returns"])).has("returns")){let t=ho(e);uN(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return hl(e),new hT(hh,r,"payable"===n)}return"receive"===e.type?new hT(hh,[],!0):"fallback"===e.type?new hT(hh,[hw.from("bytes")],"payable"===e.stateMutability):void uN(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[hd]===hy}}class hS extends hM{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,s){super(e,"function",t,n),Object.defineProperty(this,hd,{value:hv}),ub(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return uJ(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+hE(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(hE(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new hS(hh,e,"view",t=(t||[]).map(e=>hw.from(e)),[],null).selector}static from(e){if(hS.isFragment(e))return e;if("string"==typeof e)try{return hS.from(ht(e))}catch(t){uN(!1,"invalid function fragment","obj",e)}else if(e instanceof he){let t=hn("function",e),r=ho(e),n=hs(e),i=[];hi(e,cQ(["returns"])).has("returns")&&(i=ho(e));let s=ha(e);return hl(e),new hS(hh,t,n,r,i,s)}let t=e.stateMutability;return null!=t||(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new hS(hh,e.name,t,e.inputs?e.inputs.map(hw.from):[],e.outputs?e.outputs.map(hw.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[hd]===hv}}class hk extends hM{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,hd,{value:hb})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return hk.from(ht(e))}catch(t){uN(!1,"invalid struct fragment","obj",e)}else if(e instanceof he){let t=hn("struct",e),r=ho(e);return hl(e),new hk(hh,t,r)}return new hk(hh,e.name,e.inputs?e.inputs.map(hw.from):[])}static isFragment(e){return e&&e[hd]===hb}}let hj=new Map;hj.set(0,"GENERIC_PANIC"),hj.set(1,"ASSERT_FALSE"),hj.set(17,"OVERFLOW"),hj.set(18,"DIVIDE_BY_ZERO"),hj.set(33,"ENUM_RANGE_ERROR"),hj.set(34,"BAD_STORAGE_DATA"),hj.set(49,"STACK_UNDERFLOW"),hj.set(50,"ARRAY_RANGE_ERROR"),hj.set(65,"OUT_OF_MEMORY"),hj.set(81,"UNINITIALIZED_FUNCTION_CALL");let hP=new RegExp(/^bytes([0-9]*)$/),hO=new RegExp(/^(u?int)([0-9]*)$/),hD=null,hC=1024;function hL(e,t,r,n){let i="missing revert data",s=null,o=null,a=null;if(r){i="execution reverted";let e=uP(r);if(r=uR(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===uR(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===uR(e.slice(0,4)))try{let t=Number(n.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${hj.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let l={to:t.to?cI(t.to):null,data:t.data||"0x"};return t.from&&(l.from=cI(t.from)),uE(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:l,invocation:o,revert:a})}class hR{#p(e){if(e.isArray())return new cR(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new cY(e.components.map(e=>this.#p(e)),e.name);switch(e.baseType){case"address":return new cO(e.name);case"bool":return new cF(e.name);case"string":return new cG(e.name);case"bytes":return new cz(e.name);case"":return new cB(e.name)}let t=e.type.match(hO);if(t){let r=parseInt(t[2]||"256");return uN(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new cH(r/8,"int"===t[1],e.name)}if(t=e.type.match(hP)){let r=parseInt(t[1]);return uN(0!==r&&r<=32,"invalid bytes length","param",e),new cU(r,e.name)}uN(!1,"invalid type","type",e.type)}getDefaultValue(e){return new cY(e.map(e=>this.#p(hw.from(e))),"_").defaultValue()}encode(e,t){uI(t.length,e.length,"types/values length mismatch");let r=new cY(e.map(e=>this.#p(hw.from(e))),"_"),n=new cg;return r.encode(n,t),n.data}decode(e,t,r){return new cY(e.map(e=>this.#p(hw.from(e))),"_").decode(new cy(t,r,hC))}static _setDefaultMaxInflation(e){uN("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),hC=e}static defaultAbiCoder(){return null==hD&&(hD=new hR),hD}static getBuiltinCallException(e,t,r){return hL(e,t,r,hR.defaultAbiCoder())}}class hF{fragment;name;signature;topic;args;constructor(e,t,r){let n=e.name,i=e.format();ub(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class h_{fragment;name;args;signature;selector;value;constructor(e,t,r,n){let i=e.name,s=e.format();ub(this,{fragment:e,name:i,args:r,signature:s,selector:t,value:n})}}class hz{fragment;name;args;signature;selector;constructor(e,t,r){let n=e.name,i=e.format();ub(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class hU{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){ub(this,{hash:e,_isIndexed:!0})}}let h$={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},hB={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&h$[e.toString()]&&(t=h$[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class hV{fragments;deploy;fallback;receive;#m;#g;#y;#v;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#y=new Map,this.#m=new Map,this.#g=new Map;let r=[];for(let e of t)try{r.push(hx.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}ub(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#v=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ub(this,{deploy:e});return;case"fallback":0===e.inputs.length?i=!0:(uN(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),i=(n=e).payable);return;case"function":r=this.#y;break;case"event":r=this.#g;break;case"error":r=this.#m;break;default:return}let s=e.format();r.has(s)||r.set(s,e)}),this.deploy||ub(this,{deploy:hI.from("constructor()")}),ub(this,{fallback:n,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return hR.defaultAbiCoder()}#b(e,t,r){if(uD(e)){let t=e.toLowerCase();for(let e of this.#y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#y)t.split("(")[0]===e&&n.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;cP.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){let t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(cP.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");uN(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#y.get(hS.from(e).format())||null}getFunctionName(e){let t=this.#b(e,null,!1);return uN(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#b(e,null,!1)}getFunction(e,t){return this.#b(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#y.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#y.get(n),r)}}#w(e,t,r){if(uD(e)){let t=e.toLowerCase();for(let e of this.#g.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#g)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(cP.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");uN(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#g.get(hN.from(e).format())||null}getEventName(e){let t=this.#w(e,null,!1);return uN(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#w(e,null,!1)}getEvent(e,t){return this.#w(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#g.get(n),r)}}getError(e,t){if(uD(e)){let t=e.toLowerCase();if(hB[t])return hA.from(hB[t].signature);for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#m)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?hA.from("error Error(string)"):"Panic"===e?hA.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");uN(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}return"Error(string)"===(e=hA.from(e).format())?hA.from("error Error(string)"):"Panic(uint256)"===e?hA.from("error Panic(uint256)"):this.#m.get(e)||null}forEachError(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#m.get(n),r)}}_decodeParams(e,t){return this.#v.decode(e,t)}_encodeParams(e,t){return this.#v.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);uN(t,"unknown error","fragment",e),e=t}return uN(u_(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,u_(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);uN(t,"unknown error","fragment",e),e=t}return uF([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);uN(t,"unknown function","fragment",e),e=t}return uN(u_(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,u_(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);uN(t,"unknown function","fragment",e),e=t}return uF([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);uN(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=uO(t);if(n.length%32==0)try{return this.#v.decode(e.outputs,n)}catch(e){r="could not decode result data"}uA(!1,r,"BAD_DATA",{value:uR(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=uP(e,"data"),n=hR.getBuiltinCallException("call",t,r),i="execution reverted (unknown custom error)";if(n.message.startsWith(i)){let e=uR(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#v.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let s=this.parseTransaction(t);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);uN(t,"unknown function","fragment",e),e=t}return uR(this.#v.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);uN(t,"unknown event","eventFragment",e),e=t}uA(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?uJ(t):"bytes"===e.type?uW(uR(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=cr(t):e.type.match(/^bytes/)?t=u$(t,32):"address"===e.type&&this.#v.encode(["address"],[t]),uU(uR(t),32));for(t.forEach((t,i)=>{let s=e.inputs[i];if(!s.indexed){uN(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t);return}null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?uN(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map(e=>n(s,e))):r.push(n(s,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);uN(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),uN(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let o=t[s];if(e.indexed){if("string"===e.type)r.push(uJ(o));else if("bytes"===e.type)r.push(uW(o));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#v.encode([e.type],[o]))}else n.push(e),i.push(o)}),{data:this.#v.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);uN(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;uN(uD(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(hw.from({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))});let o=null!=r?this.#v.decode(n,uF(r)):null,a=this.#v.decode(i,t,!0),l=[],u=[],c=0,h=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed){if(null==o)r=new hU(null);else if(s[t])r=new hU(o[h++]);else try{r=o[h++]}catch(e){r=e}}else try{r=a[c++]}catch(e){r=e}l.push(r),u.push(e.name||null)}),cf.fromItems(l,u)}parseTransaction(e){let t=uP(e.data,"tx.data"),r=u3(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(uR(t.slice(0,4)));if(!n)return null;let i=this.#v.decode(n.inputs,t.slice(4));return new h_(n,n.selector,i,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new hF(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=uR(e),r=this.getError(u_(t,0,4));if(!r)return null;let n=this.#v.decode(r.inputs,u_(t,4));return new hz(r,r.selector,n)}static from(e){return e instanceof hV?e:new hV("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}function hq(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function hW(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(hW(e))}),t.length<=55)return t.unshift(192+t.length),t;let r=hq(t.length);return r.unshift(247+r.length),r.concat(t)}let t=Array.prototype.slice.call(uP(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;let r=hq(t.length);return r.unshift(183+r.length),r.concat(t)}let hH="0123456789abcdef";function hG(e){let t="0x";for(let r of hW(e))t+=hH[r>>4],t+=hH[15&r];return t}function hY(e){let t=cI(e.from),r=u3(e.nonce,"tx.nonce").toString(16);return cI(u_(uW(hG([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}function hQ(e){return e&&"function"==typeof e.getAddress}async function hZ(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(uA("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),uN(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),cI(r)}function hK(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?cI(e):(uA(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),hZ(e,t.resolveName(e))):hQ(e)?hZ(e,e.getAddress()):e&&"function"==typeof e.then?hZ(e,e):void uN(!1,"unsupported addressable value","target",e)}function hX(e,t){return{address:cI(e),storageKeys:t.map((e,t)=>(uN(uD(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function hJ(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(uN(2===t.length,"invalid slot set",`value[${r}]`,t),hX(t[0],t[1])):(uN(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),hX(t.address,t.storageKeys)));uN(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return hX(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}let h0=BigInt(0);function h1(e){return null==e?null:e.toString()}function h2(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=uR(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=u3(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=ce(e[r],`request.${r}`));return e.accessList&&(t.accessList=hJ(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>uC(e)?uR(e):Object.assign({},e))),t}Symbol.iterator;class h5{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;let r=Object.freeze(e.topics.slice());ub(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return uA(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return uA(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return uA(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return h9(this)}}class h6{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#x;constructor(e,t){this.#x=Object.freeze(e.logs.map(e=>new h5(e,t)));let r=h0;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),ub(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#x}toJSON(){let{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:l,status:u,root:c}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:r,cumulativeGasUsed:h1(this.cumulativeGasUsed),from:t,gasPrice:h1(this.gasPrice),blobGasUsed:h1(this.blobGasUsed),blobGasPrice:h1(this.blobGasPrice),gasUsed:h1(this.gasUsed),hash:n,index:i,logs:l,logsBloom:a,root:c,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return h8(this)}reorderedEvent(e){return uA(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),h3(this,e)}}class h4{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#M;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#M=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:o,nonce:a,data:l,signature:u,accessList:c,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:h1(this.chainId),data:l,from:o,gasLimit:h1(this.gasLimit),gasPrice:h1(this.gasPrice),hash:n,maxFeePerGas:h1(this.maxFeePerGas),maxPriorityFeePerGas:h1(this.maxPriorityFeePerGas),maxFeePerBlobGas:h1(this.maxFeePerBlobGas),nonce:a,signature:u,to:s,index:r,type:i,value:h1(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await uv({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,i=this.#M,s=-1,o=-1===i,a=async()=>{if(o)return null;let{blockNumber:e,nonce:t}=await uv({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){i=e;return}if(o)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3)<this.#M&&(s=this.#M);s<=e;){if(o)return null;let t=await this.provider.getBlock(s,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let s=await t.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;let t=await this.provider.getTransactionReceipt(s.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===h0&&(n="cancelled"),uA(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},l=e=>{if(null==e||0!==e.status)return e;uA(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},u=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(u);if(u){if(await u.confirmations()>=r)return l(u)}else if(await a(),0===r)return null;let c=new Promise((e,t)=>{let s=[],u=()=>{s.forEach(e=>e())};if(s.push(()=>{o=!0}),n>0){let e=setTimeout(()=>{u(),t(uE("wait for transaction timeout","TIMEOUT"))},n);s.push(()=>{clearTimeout(e)})}let c=async n=>{if(await n.confirmations()>=r){u();try{e(l(n))}catch(e){t(e)}}};if(s.push(()=>{this.provider.off(this.hash,c)}),this.provider.on(this.hash,c),i>=0){let e=async()=>{try{await a()}catch(e){if(ux(e,"TRANSACTION_REPLACED")){u(),t(e);return}}o||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await c}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return uA(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h8(this)}reorderedEvent(e){return uA(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),uA(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),h3(this,e)}replaceableTransaction(e){uN(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new h4(this,this.provider);return t.#M=e,t}}function h3(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function h8(e){return{orphan:"drop-transaction",tx:e}}function h9(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}class h7{filter;emitter;#E;constructor(e,t,r){this.#E=t,ub(this,{emitter:e,filter:r})}async removeListener(){null!=this.#E&&await this.emitter.off(this.filter,this.#E)}}class de extends h5{interface;fragment;args;constructor(e,t,r){super(e,e.provider),ub(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class dt extends h5{error;constructor(e,t){super(e,e.provider),ub(this,{error:t})}}class dr extends h6{#A;constructor(e,t,r){super(r,t),this.#A=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#A.getEvent(e.topics[0]):null;if(t)try{return new de(e,this.#A,t)}catch(t){return new dt(e,t)}return e})}}class dn extends h4{#A;constructor(e,t,r){super(r,t),this.#A=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new dr(this.#A,this.provider,r)}}class di extends h7{log;constructor(e,t,r,n){super(e,t,r),ub(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ds extends di{constructor(e,t,r,n,i){super(e,t,r,new de(i,e.interface,n)),ub(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}let da=BigInt(0);function dl(e){return e&&"function"==typeof e.call}function du(e){return e&&"function"==typeof e.estimateGas}function dc(e){return e&&"function"==typeof e.resolveName}function dh(e){return e&&"function"==typeof e.sendTransaction}function dd(e){if(null!=e){if(dc(e))return e;if(e.provider)return e.provider}}class df{#N;fragment;constructor(e,t,r){if(ub(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");let n=dp(e.runner,"resolveName"),i=dc(n)?n:null;this.#N=async function(){let n=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>hK(e,i))):hK(t,i):t)));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#N}}function dp(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function dm(e){return null==e?null:e.provider||null}async function dg(e,t){let r=cP.dereference(e,"overrides");uN("object"==typeof r,"invalid overrides parameter","overrides",e);let n=h2(r);return uN(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),uN(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function dy(e,t,r){let n=dp(e,"resolveName"),i=dc(n)?n:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=cP.dereference(t,e),"address"===e)?hK(t,i):t)))}function dv(e){let t=async function(t){let r=await dg(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await hK(r.from,dd(e.runner)));let n=e.interface,i=u3(r.value||da,"overrides.value")===da,s="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||s||i||uN(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),uN(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),uN(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),uN(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let n=dp(e.runner,"call");uA(dl(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await t(r);try{return await n.call(i)}catch(t){if(uM(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}},n=async function(r){let n=e.runner;uA(dh(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await n.sendTransaction(await t(r)),s=dm(e.runner);return new dn(e.interface,s,i)},i=async function(r){let n=dp(e.runner,"estimateGas");return uA(du(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},s=async e=>await n(e);return ub(s,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:r}),s}function db(e,t){let r=function(...r){let n=e.interface.getFunction(t,r);return uA(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){let n=r(...t),i={};if(n.inputs.length+1===t.length&&(i=await dg(t.pop())).from&&(i.from=await hK(i.from,dd(e.runner))),n.inputs.length!==t.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let s=await dy(e.runner,n.inputs,t);return Object.assign({},i,await uv({to:e.getAddress(),data:e.interface.encodeFunctionData(n,s)}))},i=async function(...e){let t=await a(...e);return 1===t.length?t[0]:t},s=async function(...t){let r=e.runner;uA(dh(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await r.sendTransaction(await n(...t)),s=dm(e.runner);return new dn(e.interface,s,i)},o=async function(...t){let r=dp(e.runner,"estimateGas");return uA(du(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},a=async function(...t){let i=dp(e.runner,"call");uA(dl(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let s=await n(...t),o="0x";try{o=await i.call(s)}catch(t){if(uM(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}let a=r(...t);return e.interface.decodeFunctionResult(a,o)},l=async(...e)=>r(...e).constant?await i(...e):await s(...e);return ub(l,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:o,populateTransaction:n,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getFunction(t);return uA(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),l}function dw(e,t){let r=function(...r){let n=e.interface.getEvent(t,r);return uA(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new df(e,r(...t),t)};return ub(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getEvent(t);return uA(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}let dx=Symbol.for("_ethersInternal_contract"),dM=new WeakMap;function dE(e,t){dM.set(e[dx],t)}function dA(e){return dM.get(e[dx])}function dN(e){return e&&"object"==typeof e&&"getTopicFilter"in e&&"function"==typeof e.getTopicFilter&&e.fragment}async function dI(e,t){let r;let n=null;if(Array.isArray(t)){let n=function(t){if(uD(t,32))return t;let r=e.interface.getEvent(t);return uN(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(n):n(e))}else"*"===t?r=[null]:"string"==typeof t?uD(t,32)?r=[t]:(uN(n=e.interface.getEvent(t),"unknown fragment","event",t),r=[n.topicHash]):dN(t)?r=await t.getTopicFilter():"fragment"in t?r=[(n=t.fragment).topicHash]:uN(!1,"unknown event name","event",t);return{fragment:n,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function dT(e,t){let{subs:r}=dA(e);return r.get((await dI(e,t)).tag)||null}async function dS(e,t,r){let n=dm(e.runner);uA(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:i,tag:s,topics:o}=await dI(e,r),{addr:a,subs:l}=dA(e),u=l.get(s);if(!u){let t={address:a||e,topics:o},c=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){let s=n,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];dP(e,r,o,n=>new ds(e,n,r,s,t))}else dP(e,r,[],n=>new di(e,n,r,t))},h=[];u={tag:s,listeners:[],start:()=>{h.length||h.push(n.on(t,c))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),n.off(t,c)}},l.set(s,u)}return u}let dk=Promise.resolve();async function dj(e,t,r,n){await dk;let i=await dT(e,t);if(!i)return!1;let s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:t,once:i})=>{let s=Array.from(r);n&&s.push(n(i?null:t));try{t.call(e,...s)}catch(e){}return!i}),0===i.listeners.length&&(i.stop(),dA(e).subs.delete(i.tag)),s>0}async function dP(e,t,r,n){try{await dk}catch(e){}let i=dj(e,t,r,n);return dk=i,await i}let dO=["then"];class dD{target;interface;runner;filters;[dx];fallback;constructor(e,t,r,n){let i;uN("string"==typeof e||hQ(e),"invalid value for Contract target","target",e),null==r&&(r=null);let s=hV.from(t);ub(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,dx,{value:{}});let o=null,a=null;if(n){let e=dm(r);a=new dn(this.interface,e,n)}let l=new Map;if("string"==typeof e){if(uD(e))o=e,i=Promise.resolve(e);else{let t=dp(r,"resolveName");if(!dc(t))throw uE("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then(t=>{if(null==t)throw uE("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return dA(this).addr=t,t})}}else i=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return dA(this).addr=e,e});return dE(this,{addrPromise:i,addr:o,deployTx:a,subs:l}),ub(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||dO.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!ux(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>dO.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),ub(this,{fallback:s.receive||s.fallback?dv(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||dO.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!ux(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||dO.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new dD(this.target,this.interface,e)}attach(e){return new dD(e,this.interface,this.runner)}async getAddress(){return await dA(this).addrPromise}async getDeployedCode(){let e=dm(this.runner);uA(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=dm(this.runner);return uA(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let n=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",n)}catch(e){r(e)}};n()})}deploymentTransaction(){return dA(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),db(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),dw(this,e)}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:n,addrPromise:i}=dA(this),s=n||await i,{fragment:o,topics:a}=await dI(this,e),l={address:s,topics:a,fromBlock:t,toBlock:r},u=dm(this.runner);return uA(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new de(e,this.interface,t)}catch(t){return new dt(e,t)}return new h5(e,u)})}async on(e,t){let r=await dS(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await dS(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await dP(this,e,t,null)}async listenerCount(e){if(e){let t=await dT(this,e);return t?t.listeners.length:0}let{subs:t}=dA(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await dT(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=dA(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await dT(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),dA(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await dT(this,e);if(!t)return this;t.stop(),dA(this).subs.delete(t.tag)}else{let{subs:e}=dA(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends dD{constructor(t,r=null){super(t,e,r)}}return t}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function dC(){return dD}class dL extends dC(){}class dR{interface;bytecode;runner;constructor(e,t,r){let n=hV.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),ub(this,{bytecode:t=uR(uP(t)),interface:n,runner:r||null})}attach(e){return new dD(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await dg(e.pop())),r.inputs.length!==e.length)throw Error("incorrect number of arguments to constructor");let n=await dy(this.runner,r.inputs,e);return Object.assign({},t,{data:uF([this.bytecode,this.interface.encodeDeploy(n)])})}async deploy(...e){let t=await this.getDeployTransaction(...e);uA(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t);return new dD(hY(r),this.interface,this.runner,r)}connect(e){return new dR(this.interface,this.bytecode,e)}static fromSolidity(e,t){uN(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}let dF=[{type:"constructor",inputs:[{name:"avaAddress",type:"address",internalType:"address"},{name:"prizePoolAddress",type:"address",internalType:"address"},{name:"poolFeePerc_",type:"uint256",internalType:"uint256"},{name:"teamAddress",type:"address",internalType:"address"},{name:"teamFeePerc_",type:"uint256",internalType:"uint256"}],stateMutability:"nonpayable"},{type:"fallback",stateMutability:"payable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"ava",inputs:[],outputs:[{name:"",type:"address",internalType:"contract AVA"}],stateMutability:"view"},{type:"function",name:"buyIn",inputs:[{name:"hashedPrompt",type:"bytes32",internalType:"bytes32"}],outputs:[],stateMutability:"payable"},{type:"function",name:"setFees",inputs:[{name:"poolFeePerc_",type:"uint256",internalType:"uint256"},{name:"teamFeePerc_",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"event",name:"BuyIn",inputs:[{name:"user",type:"address",indexed:!0,internalType:"address"},{name:"hashedPrompt",type:"bytes32",indexed:!1,internalType:"bytes32"},{name:"amount",type:"uint256",indexed:!1,internalType:"uint256"}],anonymous:!1}],d_="0x608060405234801561001057600080fd5b5060405161094e38038061094e83398101604081905261002f916100c4565b600080546001600160a01b039687166001600160a01b03199182161790915560058054821673cf77a3ba9a5ca399b7c97c74d54e5b1beb874e431790556001805495871695821695909517909455600380549290951691841691909117909355600255600491909155600680549091163317905561011e565b80516001600160a01b03811681146100bf57600080fd5b919050565b600080600080600060a086880312156100dc57600080fd5b6100e5866100a8565b94506100f3602087016100a8565b60408701519094509250610109606087016100a8565b60809690960151949793965091949392915050565b6108218061012d6000396000f3fe6080604052600436106100385760003560e01c80630b78f9c0146100d25780636b6bce99146100f4578063c3107764146101075761008a565b3661008a5760405162461bcd60e51b815260206004820152601e60248201527f526563656976652066756e6374696f6e206e6f7420737570706f72746564000060448201526064015b60405180910390fd5b60405162461bcd60e51b815260206004820152601f60248201527f46616c6c6261636b2066756e6374696f6e206e6f7420737570706f72746564006044820152606401610081565b3480156100de57600080fd5b506100f26100ed366004610642565b610143565b005b6100f2610102366004610664565b610258565b34801561011357600080fd5b50600054610127906001600160a01b031681565b6040516001600160a01b03909116815260200160405180910390f35b6006546001600160a01b0316331461019d5760405162461bcd60e51b815260206004820152601a60248201527f4f6e6c79206f70657261746f722063616e2073657420666565730000000000006044820152606401610081565b60646101a98284610693565b11156101f75760405162461bcd60e51b815260206004820152601c60248201527f546f74616c206665652063616e6e6f74206578636565642031303025000000006044820152606401610081565b601e82111580156102095750601e8111155b61024d5760405162461bcd60e51b81526020600482015260156024820152744665652063616e6e6f74206578636565642033302560581b6044820152606401610081565b600291909155600455565b34600061026482610492565b6040805160018082528183019092529192509060009082816020015b6040805160808101825260008082526020808301829052928201819052606082015282526000199092019101816102805750506040805160808101808352600554633fc8cef360e01b90915291519293509182916001600160a01b031690633fc8cef3906084808501916020918187030181865afa158015610306573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061032a91906106c4565b6001600160a01b039081168252600080548216602080850191909152604080850192909252600554825163d4b6846d60e01b8152925160609095019493169263d4b6846d9260048082019392918290030181865afa158015610390573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b491906106c4565b6001600160a01b0316815250816000815181106103d3576103d36106e8565b60209081029190910101526005546001600160a01b0316633da5acba848484336103fe426078610693565b6040518663ffffffff1660e01b815260040161041d94939291906106fe565b6000604051808303818588803b15801561043657600080fd5b505af115801561044a573d6000803e3d6000fd5b505060408051898152602081018990523394507fc088815eec48f34ddcb20951bbbed11b1be026b623572b113f3b4cf4966320e8935001905060405180910390a25050505050565b6000806064600254846104a5919061079f565b6104af91906107b6565b905060006064600454856104c3919061079f565b6104cd91906107b6565b9050811561057a576001546040516000916001600160a01b03169084908381818185875af1925050503d8060008114610522576040519150601f19603f3d011682016040523d82523d6000602084013e610527565b606091505b50509050806105785760405162461bcd60e51b815260206004820152601860248201527f506f6f6c20666565207472616e73666572206661696c656400000000000000006044820152606401610081565b505b8015610625576003546040516000916001600160a01b03169083908381818185875af1925050503d80600081146105cd576040519150601f19603f3d011682016040523d82523d6000602084013e6105d2565b606091505b50509050806106235760405162461bcd60e51b815260206004820152601860248201527f5465616d20666565207472616e73666572206661696c656400000000000000006044820152606401610081565b505b8061063083866107d8565b61063a91906107d8565b949350505050565b6000806040838503121561065557600080fd5b50508035926020909101359150565b60006020828403121561067657600080fd5b5035919050565b634e487b7160e01b600052601160045260246000fd5b808201808211156106a6576106a661067d565b92915050565b6001600160a01b03811681146106c157600080fd5b50565b6000602082840312156106d657600080fd5b81516106e1816106ac565b9392505050565b634e487b7160e01b600052603260045260246000fd5b6000608082018683526080602084015280865180835260a08501915060208801925060005b8181101561077657835180516001600160a01b0390811685526020808301518216818701526040808401511515908701526060928301519091169185019190915290930192608090920191600101610723565b50506001600160a01b038616604085015291506107909050565b82606083015295945050505050565b80820281158282048414176106a6576106a661067d565b6000826107d357634e487b7160e01b600052601260045260246000fd5b500490565b818103818111156106a6576106a661067d56fea264697066735822122002b0b394f7d4338ec94c84a83bdbc5095638411cc648eeec11309bcd9108d3c264736f6c634300081c0033",dz=e=>e.length>1;class dU extends dR{constructor(...e){dz(e)?super(...e):super(dF,d_,e[0])}getDeployTransaction(e,t,r,n,i,s){return super.getDeployTransaction(e,t,r,n,i,s||{})}deploy(e,t,r,n,i,s){return super.deploy(e,t,r,n,i,s||{})}connect(e){return super.connect(e)}static{this.bytecode=d_}static{this.abi=dF}static createInterface(){return new hV(dF)}static connect(e,t){return new dL(e,dF,t)}}function d$(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent))}function dB(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function dV(e){let t=null;return()=>(null==t&&(t=e()),t)}let dq=dV(function(){return dB(/^Mac/i)}),dW=dV(function(){return dB(/^iPhone/i)}),dH=dV(function(){return dB(/^iPad/i)||dq()&&navigator.maxTouchPoints>1}),dG=dV(function(){return dW()||dH()});dV(function(){return dq()||dG()}),dV(function(){return d$(/AppleWebKit/i)&&!dY()});let dY=dV(function(){return d$(/Chrome/i)}),dQ=dV(function(){return d$(/Android/i)});function dZ(e){return 0===e.mozInputSource&&!!e.isTrusted||(dQ()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}dV(function(){return d$(/Firefox/i)});let dK=e=>{var t;return null!==(t=null==e?void 0:e.ownerDocument)&&void 0!==t?t:document},dX=e=>e&&"window"in e&&e.window===e?e:dK(e).defaultView||window,dJ=null,d0=new Set,d1=new Map,d2=!1,d5=!1,d6={Tab:!0,Escape:!0};function d4(e,t){for(let r of d0)r(e,t)}function d3(e){return!(e.metaKey||!dq()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}function d8(e){d2=!0,d3(e)&&(dJ="keyboard",d4("keyboard",e))}function d9(e){dJ="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(d2=!0,d4("pointer",e))}function d7(e){dZ(e)&&(d2=!0,dJ="virtual")}function fe(e){e.target!==window&&e.target!==document&&(d2||d5||(dJ="virtual",d4("virtual",e)),d2=!1,d5=!1)}function ft(){d2=!1,d5=!0}function fr(e){if("undefined"==typeof window||d1.get(dX(e)))return;let t=dX(e),r=dK(e),n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){d2=!0,n.apply(this,arguments)},r.addEventListener("keydown",d8,!0),r.addEventListener("keyup",d8,!0),r.addEventListener("click",d7,!0),t.addEventListener("focus",fe,!0),t.addEventListener("blur",ft,!1),"undefined"!=typeof PointerEvent?(r.addEventListener("pointerdown",d9,!0),r.addEventListener("pointermove",d9,!0),r.addEventListener("pointerup",d9,!0)):(r.addEventListener("mousedown",d9,!0),r.addEventListener("mousemove",d9,!0),r.addEventListener("mouseup",d9,!0)),t.addEventListener("beforeunload",()=>{fn(e)},{once:!0}),d1.set(t,{focus:n})}let fn=(e,t)=>{let r=dX(e),n=dK(e);t&&n.removeEventListener("DOMContentLoaded",t),d1.has(r)&&(r.HTMLElement.prototype.focus=d1.get(r).focus,n.removeEventListener("keydown",d8,!0),n.removeEventListener("keyup",d8,!0),n.removeEventListener("click",d7,!0),r.removeEventListener("focus",fe,!0),r.removeEventListener("blur",ft,!1),"undefined"!=typeof PointerEvent?(n.removeEventListener("pointerdown",d9,!0),n.removeEventListener("pointermove",d9,!0),n.removeEventListener("pointerup",d9,!0)):(n.removeEventListener("mousedown",d9,!0),n.removeEventListener("mousemove",d9,!0),n.removeEventListener("mouseup",d9,!0)),d1.delete(r))};function fi(e){let t;let r=dK(e);return"loading"!==r.readyState?fr(e):(t=()=>{fr(e)},r.addEventListener("DOMContentLoaded",t)),()=>fn(e,t)}function fs(){return"pointer"!==dJ}"undefined"!=typeof document&&fi();let fo=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fa(e,t,r){var n;let i="undefined"!=typeof window?dX(null==r?void 0:r.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?dX(null==r?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o="undefined"!=typeof window?dX(null==r?void 0:r.target).HTMLElement:HTMLElement,a="undefined"!=typeof window?dX(null==r?void 0:r.target).KeyboardEvent:KeyboardEvent;return!((e=e||(null==r?void 0:r.target)instanceof i&&!fo.has(null==r?void 0:null===(n=r.target)||void 0===n?void 0:n.type)||(null==r?void 0:r.target)instanceof s||(null==r?void 0:r.target)instanceof o&&(null==r?void 0:r.target.isContentEditable))&&"keyboard"===t&&r instanceof a&&!d6[r.key])}function fl(e,t,r){fr(),(0,iO.useEffect)(()=>{let t=(t,n)=>{fa(!!(null==r?void 0:r.isTextInput),t,n)&&e(fs())};return d0.add(t),()=>{d0.delete(t)}},t)}let fu="undefined"!=typeof document?iO.useLayoutEffect:()=>{};function fc(e){let t=(0,iO.useRef)(null);return fu(()=>{t.current=e},[e]),(0,iO.useCallback)((...e)=>{let r=t.current;return null==r?void 0:r(...e)},[])}class fh{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function fd(e){let t=(0,iO.useRef)({isFocused:!1,observer:null});fu(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let r=fc(t=>{null==e||e(t)});return(0,iO.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=e.target,i=e=>{t.current.isFocused=!1,n.disabled&&r(new fh("blur",e)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&n.disabled){var e;null===(e=t.current.observer)||void 0===e||e.disconnect();let r=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function ff(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e,s=(0,iO.useCallback)(e=>{if(e.target===e.currentTarget)return n&&n(e),i&&i(!1),!0},[n,i]),o=fd(s),a=(0,iO.useCallback)(e=>{let t=dK(e.target);e.target===e.currentTarget&&t.activeElement===e.target&&(r&&r(e),i&&i(!0),o(e))},[i,r,o]);return{focusProps:{onFocus:!t&&(r||i||n)?a:void 0,onBlur:!t&&(n||i)?s:void 0}}}function fp(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,s=(0,iO.useRef)({isFocusWithin:!1}),o=(0,iO.useCallback)(e=>{s.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(s.current.isFocusWithin=!1,r&&r(e),i&&i(!1))},[r,i,s]),a=fd(o),l=(0,iO.useCallback)(e=>{s.current.isFocusWithin||document.activeElement!==e.target||(n&&n(e),i&&i(!0),s.current.isFocusWithin=!0,a(e))},[n,i,a]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:o}}}function fm(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,i=(0,iO.useRef)({isFocused:!1,isFocusVisible:t||fs()}),[s,o]=(0,iO.useState)(!1),[a,l]=(0,iO.useState)(()=>i.current.isFocused&&i.current.isFocusVisible),u=(0,iO.useCallback)(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),c=(0,iO.useCallback)(e=>{i.current.isFocused=e,o(e),u()},[u]);fl(e=>{i.current.isFocusVisible=e,u()},[],{isTextInput:r});let{focusProps:h}=ff({isDisabled:n,onFocusChange:c}),{focusWithinProps:d}=fp({isDisabled:!n,onFocusWithinChange:c});return{isFocused:s,isFocusVisible:a,focusProps:n?d:h}}let fg=!1,fy=0;function fv(){fg=!0,setTimeout(()=>{fg=!1},50)}function fb(e){"touch"===e.pointerType&&fv()}function fw(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent?document.addEventListener("pointerup",fb):document.addEventListener("touchend",fv),fy++,()=>{--fy>0||("undefined"!=typeof PointerEvent?document.removeEventListener("pointerup",fb):document.removeEventListener("touchend",fv))}}function fx(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[s,o]=(0,iO.useState)(!1),a=(0,iO.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,iO.useEffect)(fw,[]);let{hoverProps:l,triggerHoverEnd:u}=(0,iO.useMemo)(()=>{let e=(e,n)=>{if(a.pointerType=n,i||"touch"===n||a.isHovered||!e.currentTarget.contains(e.target))return;a.isHovered=!0;let s=e.currentTarget;a.target=s,t&&t({type:"hoverstart",target:s,pointerType:n}),r&&r(!0),o(!0)},s=(e,t)=>{if(a.pointerType="",a.target=null,"touch"===t||!a.isHovered)return;a.isHovered=!1;let i=e.currentTarget;n&&n({type:"hoverend",target:i,pointerType:t}),r&&r(!1),o(!1)},l={};return"undefined"!=typeof PointerEvent?(l.onPointerEnter=t=>{fg&&"mouse"===t.pointerType||e(t,t.pointerType)},l.onPointerLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,e.pointerType)}):(l.onTouchStart=()=>{a.ignoreEmulatedMouseEvents=!0},l.onMouseEnter=t=>{a.ignoreEmulatedMouseEvents||fg||e(t,"mouse"),a.ignoreEmulatedMouseEvents=!1},l.onMouseLeave=e=>{!i&&e.currentTarget.contains(e.target)&&s(e,"mouse")}),{hoverProps:l,triggerHoverEnd:s}},[t,r,n,i,a]);return(0,iO.useEffect)(()=>{i&&u({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:l,isHovered:s}}var fM=Object.defineProperty,fE=(e,t,r)=>t in e?fM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fA=(e,t,r)=>(fE(e,"symbol"!=typeof t?t+"":t,r),r);class fN{constructor(){fA(this,"current",this.detect()),fA(this,"handoffState","pending"),fA(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"server"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let fI=new fN;function fT(e){return fI.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function fS(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function fk(){let e=[],t={addEventListener:(e,r,n,i)=>(e.addEventListener(r,n,i),t.add(()=>e.removeEventListener(r,n,i))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return fS(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=fk();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function fj(){let[e]=(0,iO.useState)(fk);return e}let fP=(e,t)=>{fI.isServer?(0,iO.useEffect)(e,t):(0,iO.useLayoutEffect)(e,t)};function fO(e){let t=(0,iO.useRef)(e);return fP(()=>{t.current=e},[e]),t}let fD=function(e){let t=fO(e);return iO.useCallback((...e)=>t.current(...e),[t])};function fC(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function fL(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function fR({disabled:e=!1}={}){let t=(0,iO.useRef)(null),[r,n]=(0,iO.useState)(!1),i=fj(),s=fD(()=>{t.current=null,n(!1),i.dispose()}),o=fD(e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,n(!0);{let r=fT(e.currentTarget);i.addEventListener(r,"pointerup",s,!1),i.addEventListener(r,"pointermove",e=>{t.current&&n(fL(fC(e),t.current.getBoundingClientRect()))},!1),i.addEventListener(r,"pointercancel",s,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function fF(e,t,r){let[n,i]=(0,iO.useState)(r),s=void 0!==e,o=(0,iO.useRef)(s),a=(0,iO.useRef)(!1),l=(0,iO.useRef)(!1);return!s||o.current||a.current?s||!o.current||l.current||(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[s?e:n,fD(e=>(s||i(e),null==t?void 0:t(e)))]}function f_(e){let[t]=(0,iO.useState)(e);return t}function fz(e,t){return(0,iO.useMemo)(()=>{var r;if(e.type)return e.type;let n=null!=(r=e.as)?r:"button";if("string"==typeof n&&"button"===n.toLowerCase()||(null==t?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}let fU=Symbol();function f$(...e){let t=(0,iO.useRef)(e),r=fD(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[fU]))?void 0:r}let fB=(0,iO.createContext)(void 0);function fV(){return(0,iO.useContext)(fB)}function fq(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))fH(r,fW(t,n),i);return r}function fW(e,t){return e?e+"["+t+"]":t}function fH(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())fH(e,fW(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):"boolean"==typeof r?e.push([t,r?"1":"0"]):"string"==typeof r?e.push([t,r]):"number"==typeof r?e.push([t,`${r}`]):null==r?e.push([t,""]):fq(r,t,e)}function fG(e){var t,r;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n){for(let t of n.elements)if(t!==e&&("INPUT"===t.tagName&&"submit"===t.type||"BUTTON"===t.tagName&&"submit"===t.type||"INPUT"===t.nodeName&&"image"===t.type)){t.click();return}null==(r=n.requestSubmit)||r.call(n)}}function fY(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function fQ(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fQ),n}var fZ=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(fZ||{}),fK=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(fK||{});function fX(){let e=f1();return(0,iO.useCallback)(t=>fJ({mergeRefs:e,...t}),[e])}function fJ({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=null!=a?a:f2;let l=f5(t,e);if(s)return f0(l,r,n,o,a);let u=null!=i?i:0;if(2&u){let{static:e=!1,...t}=l;if(e)return f0(t,r,n,o,a)}if(1&u){let{unmount:e=!0,...t}=l;return fQ(e?0:1,{0:()=>null,1:()=>f0({...t,hidden:!0,style:{display:"none"}},r,n,o,a)})}return f0(l,r,n,o,a)}function f0(e,t={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=f8(e,["unmount","static"]),u=void 0!==e.ref?{[a]:e.ref}:{},c="function"==typeof o?o(t):o;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e)for(let e of(h["data-headlessui-state"]=r.join(" "),r))h[`data-${e}`]=""}if(s===iO.Fragment&&(Object.keys(f3(l)).length>0||Object.keys(f3(h)).length>0)){if(!(0,iO.isValidElement)(c)||Array.isArray(c)&&c.length>1){if(Object.keys(f3(l)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(f3(l)).concat(Object.keys(f3(h))).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`))}else{let e=c.props,t=null==e?void 0:e.className,r="function"==typeof t?(...e)=>fY(t(...e),l.className):fY(t,l.className),n=r?{className:r}:{},s=f5(c.props,f3(f8(l,["ref"])));for(let e in h)e in s&&delete h[e];return(0,iO.cloneElement)(c,Object.assign({},s,h,u,{ref:i(f9(c),u.ref)},n))}}return(0,iO.createElement)(s,Object.assign({},f8(l,["ref"]),s!==iO.Fragment&&u,s!==iO.Fragment&&h),c)}function f1(){let e=(0,iO.useRef)([]),t=(0,iO.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]);return(...r)=>{if(!r.every(e=>null==e))return e.current=r,t}}function f2(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function f5(...e){var t;if(0===e.length)return{};if(1===e.length)return e[0];let r={},n={};for(let i of e)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=(t=n[e])||(n[e]=[]),n[e].push(i[e])):r[e]=i[e];if(r.disabled||r["aria-disabled"])for(let e in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(n[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in n)Object.assign(r,{[e](t,...r){for(let i of n[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...r)}}});return r}function f6(...e){var t;if(0===e.length)return{};if(1===e.length)return e[0];let r={},n={};for(let i of e)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=(t=n[e])||(n[e]=[]),n[e].push(i[e])):r[e]=i[e];for(let e in n)Object.assign(r,{[e](...t){for(let r of n[e])null==r||r(...t)}});return r}function f4(e){var t;return Object.assign((0,iO.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function f3(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function f8(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}function f9(e){return iO.version.split(".")[0]>="19"?e.props.ref:e.ref}let f7="span";var pe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(pe||{});let pt=f4(function(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return fX()({ourProps:s,theirProps:i,slot:{},defaultTag:f7,name:"Hidden"})}),pr=(0,iO.createContext)(null);function pn({children:e}){let t=(0,iO.useContext)(pr);if(!t)return iO.createElement(iO.Fragment,null,e);let{target:r}=t;return r?(0,lW.createPortal)(iO.createElement(iO.Fragment,null,e),r):null}function pi({data:e,form:t,disabled:r,onReset:n,overrides:i}){let[s,o]=(0,iO.useState)(null);return fj(),iO.createElement(pn,null,iO.createElement(ps,{setForm:o,formId:t}),fq(e).map(([e,n])=>iO.createElement(pt,{features:pe.Hidden,...f3({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:e,value:n,...i})})))}function ps({setForm:e,formId:t}){return t?null:iO.createElement(pt,{features:pe.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&e(r)}})}let po=(0,iO.createContext)(void 0);function pa(){return(0,iO.useContext)(po)}function pl(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=(null==t?void 0:t.getAttribute("disabled"))==="";return!(n&&pu(r))&&n}function pu(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let pc=(0,iO.createContext)(null);function ph(){let e=(0,iO.useContext)(pc);if(null===e){let e=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ph),e}return e}function pd(){var e,t;return null!=(t=null==(e=(0,iO.useContext)(pc))?void 0:e.value)?t:void 0}function pf(){let[e,t]=(0,iO.useState)([]);return[e.length>0?e.join(" "):void 0,(0,iO.useMemo)(()=>function(e){let r=fD(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,iO.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return iO.createElement(pc.Provider,{value:n},e.children)},[t])]}pc.displayName="DescriptionContext";let pp="p",pm=Object.assign(f4(function(e,t){let r=(0,iO.useId)(),n=fV(),{id:i=`headlessui-description-${r}`,...s}=e,o=ph(),a=f$(t);fP(()=>o.register(i),[i,o.register]);let l=n||!1,u=(0,iO.useMemo)(()=>({...o.slot,disabled:l}),[o.slot,l]),c={ref:a,...o.props,id:i};return fX()({ourProps:c,theirProps:s,slot:u,defaultTag:pp,name:o.name||"Description"})}),{});var pg=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(pg||{});let py=(0,iO.createContext)(null);function pv(){let e=(0,iO.useContext)(py);if(null===e){let e=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,pv),e}return e}function pb(e){var t,r,n;let i=null!=(r=null==(t=(0,iO.useContext)(py))?void 0:t.value)?r:void 0;return(null!=(n=null==e?void 0:e.length)?n:0)>0?[i,...e].filter(Boolean).join(" "):i}function pw({inherit:e=!1}={}){let t=pb(),[r,n]=(0,iO.useState)([]),i=e?[t,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,(0,iO.useMemo)(()=>function(e){let t=fD(e=>(n(t=>[...t,e]),()=>n(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),r=(0,iO.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return iO.createElement(py.Provider,{value:r},e.children)},[n])]}py.displayName="LabelContext";let px="label",pM=Object.assign(f4(function(e,t){var r;let n=(0,iO.useId)(),i=pv(),s=pa(),o=fV(),{id:a=`headlessui-label-${n}`,htmlFor:l=null!=s?s:null==(r=i.props)?void 0:r.htmlFor,passive:u=!1,...c}=e,h=f$(t);fP(()=>i.register(a),[a,i.register]);let d=fD(e=>{let t=e.currentTarget;if(t instanceof HTMLLabelElement&&e.preventDefault(),i.props&&"onClick"in i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),t instanceof HTMLLabelElement){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(e instanceof HTMLInputElement&&("radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),f=o||!1,p=(0,iO.useMemo)(()=>({...i.slot,disabled:f}),[i.slot,f]),m={ref:h,...i.props,id:a,htmlFor:l,onClick:d};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in c&&delete c.onClick),fX()({ourProps:m,theirProps:c,slot:p,defaultTag:l?px:"div",name:i.name||"Label"})}),{}),pE=(0,iO.createContext)(null);pE.displayName="GroupContext";let pA=iO.Fragment;function pN(e){var t;let[r,n]=(0,iO.useState)(null),[i,s]=pw(),[o,a]=pf(),l=(0,iO.useMemo)(()=>({switch:r,setSwitch:n}),[r,n]),u={},c=e,h=fX();return iO.createElement(a,{name:"Switch.Description",value:o},iO.createElement(s,{name:"Switch.Label",value:i,props:{htmlFor:null==(t=l.switch)?void 0:t.id,onClick(e){r&&(e.currentTarget instanceof HTMLLabelElement&&e.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},iO.createElement(pE.Provider,{value:l},h({ourProps:u,theirProps:c,slot:{},defaultTag:pA,name:"Switch.Group"}))))}let pI="button",pT=Object.assign(f4(function(e,t){var r;let n=(0,iO.useId)(),i=pa(),s=fV(),{id:o=i||`headlessui-switch-${n}`,disabled:a=s||!1,checked:l,defaultChecked:u,onChange:c,name:h,value:d,form:f,autoFocus:p=!1,...m}=e,g=(0,iO.useContext)(pE),[y,v]=(0,iO.useState)(null),b=f$((0,iO.useRef)(null),t,null===g?null:g.setSwitch,v),w=f_(u),[x,M]=fF(l,c,null!=w&&w),E=fj(),[A,N]=(0,iO.useState)(!1),I=fD(()=>{N(!0),null==M||M(!x),E.nextFrame(()=>{N(!1)})}),T=fD(e=>{if(pl(e.currentTarget))return e.preventDefault();e.preventDefault(),I()}),S=fD(e=>{e.key===pg.Space?(e.preventDefault(),I()):e.key===pg.Enter&&fG(e.currentTarget)}),k=fD(e=>e.preventDefault()),j=pb(),P=pd(),{isFocusVisible:O,focusProps:D}=fm({autoFocus:p}),{isHovered:C,hoverProps:L}=fx({isDisabled:a}),{pressed:R,pressProps:F}=fR({disabled:a}),_=(0,iO.useMemo)(()=>({checked:x,disabled:a,hover:C,focus:O,active:R,autofocus:p,changing:A}),[x,C,O,R,a,A,p]),z=f6({id:o,ref:b,role:"switch",type:fz(e,y),tabIndex:-1===e.tabIndex?0:null!=(r=e.tabIndex)?r:0,"aria-checked":x,"aria-labelledby":j,"aria-describedby":P,disabled:a||void 0,autoFocus:p,onClick:T,onKeyUp:S,onKeyPress:k},D,L,F),U=(0,iO.useCallback)(()=>{if(void 0!==w)return null==M?void 0:M(w)},[M,w]),$=fX();return iO.createElement(iO.Fragment,null,null!=h&&iO.createElement(pi,{disabled:a,data:{[h]:d||"on"},overrides:{type:"checkbox",checked:x},form:f,onReset:U}),$({ourProps:z,theirProps:m,slot:_,defaultTag:pI,name:"Switch"}))}),{Group:pN,Label:pM,Description:pm}),pS=async e=>({price:"1000000000000000",sessionId:"example-session-id"}),pk=process.env.NEXT_PUBLIC_ETHEREUM_CONTRACT_ADDRESS,pj=({messages:e,queryNewMessages:t,showOnlyUserMessages:r,setShowOnlyUserMessages:n,isGameEnded:i})=>{let[s,o]=(0,iO.useState)(null),[l,u]=(0,iO.useState)("idle"),[c,h]=(0,iO.useState)(""),[d,f]=(0,iO.useState)(!1),{address:p,isConnected:m}=(0,a2.F)(),g=(0,iO.useRef)(null),y=(0,iO.useRef)(null),v=(0,iO.useRef)(null),[b,w]=(0,iO.useState)(null),x=(0,iO.useRef)(null),M=(0,iO.useRef)([]),E={address:pk,abi:dU.abi},A=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});x.current=new MediaRecorder(e),M.current=[],x.current.ondataavailable=e=>{M.current.push(e.data)},x.current.onstop=async()=>{let e=new Blob(M.current,{type:"audio/wav"});o(e),I(e)},x.current.start(),f(!0)}catch(e){console.error("Error accessing microphone:",e),h("Error accessing microphone. Please check permissions.")}},N=()=>{x.current&&"recording"===x.current.state&&(x.current.stop(),x.current.stream.getTracks().forEach(e=>e.stop()),f(!1))},I=async e=>{try{if(!m){h("Please connect your wallet first");return}if(!p){h("No wallet address found");return}u("pending"),h("");let{price:r,sessionId:n}=await pS(p),i=await e.arrayBuffer(),s=await crypto.subtle.digest("SHA-256",i),a=Array.from(new Uint8Array(s)),l="0x"+a.map(e=>e.toString(16).padStart(2,"0")).join(""),c=await lv(lA.$W,{...E,functionName:"buyIn",args:[l],value:BigInt(r)}),d=new FormData;d.append("audio",e),d.append("sessionId",n),d.append("hash",c),d.append("address",p),await a1(n,c.toString(),p,l),await lE(lA.$W,{hash:c});let f=await a0(c);f.success?(await t(),u("idle"),o(null)):h(f.error??"Something went wrong")}catch(e){console.error("Error in handleSend:",e),u("error"),h(e instanceof Error?e.message:"Something went wrong")}},T=()=>{g.current&&(g.current.scrollIntoView({behavior:"auto",block:"end"}),setTimeout(()=>{g.current?.scrollIntoView({behavior:"smooth",block:"end"})},100))};(0,iO.useEffect)(()=>{T(),e.length>0&&(v.current=e[e.length-1].content)},[]),(0,iO.useEffect)(()=>{if(e.length>0){let t=e[e.length-1];t.content!==v.current&&(T(),y.current=t.id),v.current=t.content}},[e]),(0,iO.useEffect)(()=>{t()},[r,t]);let S=e=>{n(e)},k=()=>b?(0,lW.createPortal)((0,a.jsx)(lq,{txHash:b,onClose:()=>w(null)}),document.body):null;return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"flex items-center justify-end",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-xs font-normal text-gray-700",children:"Show My Messages Only"}),(0,a.jsx)(pT,{checked:r,onChange:S,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 ease-in-out ${r?"bg-blue-600":"bg-gray-200"}`,children:(0,a.jsx)("span",{className:`${r?"translate-x-[18px] bg-white":"translate-x-[2px] bg-white"} inline-block h-4 w-4 transform rounded-full shadow-sm transition-transform duration-200 ease-in-out`})})]})})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto scroll-smooth",children:(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[e.map(t=>{let r=`${t.id}-${t.content}`;return t===e[e.length-1]?(0,a.jsx)(aU,{children:(0,a.jsx)(lB,{message:t,onSelect:e=>{w(e.txHash)}})},`anim-${r}`):(0,a.jsx)(lB,{message:t,onSelect:e=>{w(e.txHash)}},r)}),(0,a.jsx)("div",{ref:g,className:"h-1"})]})}),!i&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto relative",children:[c&&(0,a.jsx)("div",{className:"w-full mb-2 px-4 py-2 bg-red-100 text-red-600 rounded-lg text-sm",children:c}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("button",{onMouseDown:A,onMouseUp:N,onMouseLeave:N,disabled:"pending"===l,className:`
                  relative
                  overflow-hidden
                  bg-stone-800
                  text-white
                  text-sm
                  transition-all
                  duration-500
                  ease-in-out
                  transform
                  hover:bg-stone-900
                  focus:outline-none
                  focus:ring-2
                  focus:ring-stone-600
                  focus:ring-offset-2
                  disabled:opacity-70
                  h-14
                  w-14
                  rounded-full
                  flex
                  items-center
                  justify-center
                  ${d?"bg-red-500 hover:bg-red-600":""}
                `,children:"pending"===l?(0,a.jsx)(aX,{className:"w-6 h-6 animate-spin"}):(0,a.jsx)(aJ,{className:`w-6 h-6 ${d?"animate-pulse":""}`})})})]})}),k()]})},pP=async()=>({uniqueWallets:0,messagesCount:0,isGameEnded:!1}),pO=async()=>0,pD=e=>{let[t,r]=(0,iO.useState)(),[n,i]=(0,iO.useState)(e.messages),[s,o]=(0,iO.useState)(e.gameState),[l,u]=(0,iO.useState)(null),[c,h]=(0,iO.useState)(!1),{address:d,isConnected:f}=(0,a2.F)(),p=(0,iO.useCallback)(async()=>{i(await a$(c&&f?d:void 0)),o(await pP())},[c,d,f]);return(0,iO.useEffect)(()=>{let e=setInterval(p,5e3);return()=>clearInterval(e)},[p]),(0,iO.useEffect)(()=>{l&&(console.log("Selected Message State:",l),console.log("Has fullConversation:","fullConversation"in l))},[l]),(0,iO.useEffect)(()=>{(async()=>{r(await pO())})()},[]),(0,a.jsxs)("div",{className:"h-screen flex flex-col overflow-hidden",children:[(0,a.jsx)(aK,{gameState:s,prizeFund:t??0}),(0,a.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,a.jsxs)(aw.div,{className:"hidden lg:block w-1/4 min-w-[300px] max-w-[400px] overflow-y-auto",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.8,delay:3.5,ease:[.23,1,.32,1]},children:[(0,a.jsx)(aQ.W,{}),(0,a.jsx)(aY.U,{totalParticipants:s.uniqueWallets,totalMessages:s.messagesCount,prizeFund:t??0,endgameTime:s.endgameTime,className:"mt-8",isGameEnded:s.isGameEnded})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden px-4 lg:px-8",children:[(0,a.jsxs)(aw.div,{className:"flex-shrink-0 text-center pb-4 lg:pb-8 max-w-3xl mx-auto w-full",initial:{y:"50vh",translateY:"-50%"},animate:{y:0,translateY:0},transition:{duration:.5,delay:2.5,ease:[.23,1,.32,1]},children:[(0,a.jsx)(az,{className:"mb-4 lg:mb-8 text-2xl lg:text-3xl",prizeFund:t}),(0,a.jsxs)("div",{className:"relative inline-flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center flex-shrink-0 shadow-[0_2px_10px_rgba(0,0,0,0.06)]",children:(0,a.jsx)(lU.default,{src:"/freysa.png",alt:"Freysa",height:48,width:48,className:"rounded-full"})}),(0,a.jsx)("div",{className:"relative inline-block",children:(0,a.jsxs)("div",{className:"bg-white rounded-[2rem] px-8 flex items-center h-[4.5rem] py-10 shadow-[0_2px_10px_rgba(0,0,0,0.06)]",children:[(0,a.jsx)(a_,{}),(0,a.jsx)("div",{className:"absolute left-[-12px] top-1/2 -translate-y-1/2",style:{width:"20px",height:"20px",background:"white",clipPath:"polygon(100% 0, 0 50%, 100% 100%, 100% 55%, 100% 45%)"},children:(0,a.jsx)("div",{className:"w-full h-full bg-white"})})]})})]})]}),(0,a.jsx)("div",{className:"flex-1 pb-8 min-h-0 flex justify-center",children:(0,a.jsx)(aw.div,{className:"h-full rounded-3xl overflow-hidden max-w-3xl w-full",initial:{opacity:0,scale:1.02},animate:{opacity:1,scale:1},transition:{duration:1,delay:3,ease:[.23,1,.32,1]},children:(0,a.jsx)(pj,{messages:n,queryNewMessages:p,showOnlyUserMessages:c,setShowOnlyUserMessages:h,isGameEnded:s.isGameEnded})})})]}),(0,a.jsx)("div",{className:"hidden lg:block w-1/4 min-w-[300px] max-w-[400px] overflow-y-auto"})]}),(0,a.jsx)(aT,{children:l&&(0,a.jsx)(lq,{txHash:l.txHash,onClose:()=>u(null)})})]})}},35336:(e,t,r)=>{"use strict";r.d(t,{$W:()=>s});var n=r(17513),i=r(62219);let s=(0,n.Y8)({appName:"Freysa",projectId:"e7df0e7277ec915bd5625c2cce004386",chains:[i.E],ssr:!0})},43358:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>c});var n=r(45512);r(58009);var i=r(87166),s=r(64186),o=r(81358),a=r(17513),l=r(35336);let u=new i.E;function c({children:e}){return(0,n.jsx)(o.x,{config:l.$W,children:(0,n.jsx)(s.Ht,{client:u,children:(0,n.jsx)(a.qL,{children:e})})})}},59462:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var n=r(82281),i=r(94805);function s(...e){return(0,i.QP)((0,n.$)(e))}},37568:function(e,t,r){!function(t,n){e.exports=n(r(58009))}(0,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){e.exports=r(2)},function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.r(t);var i=r(0),s=r.n(i),o=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return Math.abs(t)},a=function(e,t){return Math.floor(e/Math.pow(10,t)%10)},l=function(e,t){return!(a(e,t)%2)},u=function(e,t,r){var n=e%t;return r&&a(e,r)%2==0?-n:n},c=function(e,t,r){return t[e%r]},h=function(e){var t=e.name,r=e.colors,s=e.title,a=e.square,l=e.size,h=n(e,["name","colors","title","square","size"]),d=function(e,t){var r=o(e),n=t&&t.length;return Array.from({length:3},function(e,i){return{color:c(r+i,t,n),translateX:u(r*(i+1),8,1),translateY:u(r*(i+1),8,2),scale:1.2+u(r*(i+1),4)/10,rotate:u(r*(i+1),360,1)}})}(t,r),f=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:l,height:l},h),s&&i.createElement("title",null,t),i.createElement("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:a?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(f,")")},i.createElement("rect",{width:80,height:80,fill:d[0].color}),i.createElement("path",{filter:"url(#filter_".concat(f,")"),d:"M32.414 59.35L50.376 70.5H72.5v-71H33.728L26.5 13.381l19.057 27.08L32.414 59.35z",fill:d[1].color,transform:"translate("+d[1].translateX+" "+d[1].translateY+") rotate("+d[1].rotate+" 40 40) scale("+d[2].scale+")"}),i.createElement("path",{filter:"url(#filter_".concat(f,")"),style:{mixBlendMode:"overlay"},d:"M22.216 24L0 46.75l14.108 38.129L78 86l-3.081-59.276-22.378 4.005 12.972 20.186-23.35 27.395L22.215 24z",fill:d[2].color,transform:"translate("+d[2].translateX+" "+d[2].translateY+") rotate("+d[2].rotate+" 40 40) scale("+d[2].scale+")"})),i.createElement("defs",null,i.createElement("filter",{id:"filter_".concat(f),filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:7,result:"effect1_foregroundBlur"}))))},d={pixel:function(e){var t=e.name,r=e.colors,s=e.title,a=e.square,l=e.size,u=n(e,["name","colors","title","square","size"]),h=function(e,t){var r=o(e),n=t&&t.length;return Array.from({length:64},function(e,i){return c(r%(i+1),t,n)})}(t,r),d=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:l,height:l},u),s&&i.createElement("title",null,t),i.createElement("mask",{id:d,"mask-type":"alpha",maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:a?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(d,")")},i.createElement("rect",{width:10,height:10,fill:h[0]}),i.createElement("rect",{x:20,width:10,height:10,fill:h[1]}),i.createElement("rect",{x:40,width:10,height:10,fill:h[2]}),i.createElement("rect",{x:60,width:10,height:10,fill:h[3]}),i.createElement("rect",{x:10,width:10,height:10,fill:h[4]}),i.createElement("rect",{x:30,width:10,height:10,fill:h[5]}),i.createElement("rect",{x:50,width:10,height:10,fill:h[6]}),i.createElement("rect",{x:70,width:10,height:10,fill:h[7]}),i.createElement("rect",{y:10,width:10,height:10,fill:h[8]}),i.createElement("rect",{y:20,width:10,height:10,fill:h[9]}),i.createElement("rect",{y:30,width:10,height:10,fill:h[10]}),i.createElement("rect",{y:40,width:10,height:10,fill:h[11]}),i.createElement("rect",{y:50,width:10,height:10,fill:h[12]}),i.createElement("rect",{y:60,width:10,height:10,fill:h[13]}),i.createElement("rect",{y:70,width:10,height:10,fill:h[14]}),i.createElement("rect",{x:20,y:10,width:10,height:10,fill:h[15]}),i.createElement("rect",{x:20,y:20,width:10,height:10,fill:h[16]}),i.createElement("rect",{x:20,y:30,width:10,height:10,fill:h[17]}),i.createElement("rect",{x:20,y:40,width:10,height:10,fill:h[18]}),i.createElement("rect",{x:20,y:50,width:10,height:10,fill:h[19]}),i.createElement("rect",{x:20,y:60,width:10,height:10,fill:h[20]}),i.createElement("rect",{x:20,y:70,width:10,height:10,fill:h[21]}),i.createElement("rect",{x:40,y:10,width:10,height:10,fill:h[22]}),i.createElement("rect",{x:40,y:20,width:10,height:10,fill:h[23]}),i.createElement("rect",{x:40,y:30,width:10,height:10,fill:h[24]}),i.createElement("rect",{x:40,y:40,width:10,height:10,fill:h[25]}),i.createElement("rect",{x:40,y:50,width:10,height:10,fill:h[26]}),i.createElement("rect",{x:40,y:60,width:10,height:10,fill:h[27]}),i.createElement("rect",{x:40,y:70,width:10,height:10,fill:h[28]}),i.createElement("rect",{x:60,y:10,width:10,height:10,fill:h[29]}),i.createElement("rect",{x:60,y:20,width:10,height:10,fill:h[30]}),i.createElement("rect",{x:60,y:30,width:10,height:10,fill:h[31]}),i.createElement("rect",{x:60,y:40,width:10,height:10,fill:h[32]}),i.createElement("rect",{x:60,y:50,width:10,height:10,fill:h[33]}),i.createElement("rect",{x:60,y:60,width:10,height:10,fill:h[34]}),i.createElement("rect",{x:60,y:70,width:10,height:10,fill:h[35]}),i.createElement("rect",{x:10,y:10,width:10,height:10,fill:h[36]}),i.createElement("rect",{x:10,y:20,width:10,height:10,fill:h[37]}),i.createElement("rect",{x:10,y:30,width:10,height:10,fill:h[38]}),i.createElement("rect",{x:10,y:40,width:10,height:10,fill:h[39]}),i.createElement("rect",{x:10,y:50,width:10,height:10,fill:h[40]}),i.createElement("rect",{x:10,y:60,width:10,height:10,fill:h[41]}),i.createElement("rect",{x:10,y:70,width:10,height:10,fill:h[42]}),i.createElement("rect",{x:30,y:10,width:10,height:10,fill:h[43]}),i.createElement("rect",{x:30,y:20,width:10,height:10,fill:h[44]}),i.createElement("rect",{x:30,y:30,width:10,height:10,fill:h[45]}),i.createElement("rect",{x:30,y:40,width:10,height:10,fill:h[46]}),i.createElement("rect",{x:30,y:50,width:10,height:10,fill:h[47]}),i.createElement("rect",{x:30,y:60,width:10,height:10,fill:h[48]}),i.createElement("rect",{x:30,y:70,width:10,height:10,fill:h[49]}),i.createElement("rect",{x:50,y:10,width:10,height:10,fill:h[50]}),i.createElement("rect",{x:50,y:20,width:10,height:10,fill:h[51]}),i.createElement("rect",{x:50,y:30,width:10,height:10,fill:h[52]}),i.createElement("rect",{x:50,y:40,width:10,height:10,fill:h[53]}),i.createElement("rect",{x:50,y:50,width:10,height:10,fill:h[54]}),i.createElement("rect",{x:50,y:60,width:10,height:10,fill:h[55]}),i.createElement("rect",{x:50,y:70,width:10,height:10,fill:h[56]}),i.createElement("rect",{x:70,y:10,width:10,height:10,fill:h[57]}),i.createElement("rect",{x:70,y:20,width:10,height:10,fill:h[58]}),i.createElement("rect",{x:70,y:30,width:10,height:10,fill:h[59]}),i.createElement("rect",{x:70,y:40,width:10,height:10,fill:h[60]}),i.createElement("rect",{x:70,y:50,width:10,height:10,fill:h[61]}),i.createElement("rect",{x:70,y:60,width:10,height:10,fill:h[62]}),i.createElement("rect",{x:70,y:70,width:10,height:10,fill:h[63]})))},bauhaus:function(e){var t=e.name,r=e.colors,s=e.title,a=e.square,h=e.size,d=n(e,["name","colors","title","square","size"]),f=function(e,t){var r=o(e),n=t&&t.length;return Array.from({length:4},function(e,i){return{color:c(r+i,t,n),translateX:u(r*(i+1),40-(i+17),1),translateY:u(r*(i+1),40-(i+17),2),rotate:u(r*(i+1),360),isSquare:l(r,2)}})}(t,r),p=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},d),s&&i.createElement("title",null,t),i.createElement("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:a?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(p,")")},i.createElement("rect",{width:80,height:80,fill:f[0].color}),i.createElement("rect",{x:10,y:30,width:80,height:f[1].isSquare?80:10,fill:f[1].color,transform:"translate("+f[1].translateX+" "+f[1].translateY+") rotate("+f[1].rotate+" 40 40)"}),i.createElement("circle",{cx:40,cy:40,fill:f[2].color,r:16,transform:"translate("+f[2].translateX+" "+f[2].translateY+")"}),i.createElement("line",{x1:0,y1:40,x2:80,y2:40,strokeWidth:2,stroke:f[3].color,transform:"translate("+f[3].translateX+" "+f[3].translateY+") rotate("+f[3].rotate+" 40 40)"})))},ring:function(e){var t=e.name,r=e.colors,i=e.title,a=e.square,l=e.size,u=n(e,["name","colors","title","square","size"]),h=function(e,t){var r=o(t),n=e&&e.length,i=Array.from({length:5},function(t,i){return c(r+i,e,n)}),s=[];return s[0]=i[0],s[1]=i[1],s[2]=i[1],s[3]=i[2],s[4]=i[2],s[5]=i[3],s[6]=i[3],s[7]=i[0],s[8]=i[4],s}(r,t),d=s.a.useId();return s.a.createElement("svg",Object.assign({viewBox:"0 0 90 90",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:l,height:l},u),i&&s.a.createElement("title",null,t),s.a.createElement("mask",{id:d,maskUnits:"userSpaceOnUse",x:0,y:0,width:90,height:90},s.a.createElement("rect",{width:90,height:90,rx:a?void 0:180,fill:"#FFFFFF"})),s.a.createElement("g",{mask:"url(#".concat(d,")")},s.a.createElement("path",{d:"M0 0h90v45H0z",fill:h[0]}),s.a.createElement("path",{d:"M0 45h90v45H0z",fill:h[1]}),s.a.createElement("path",{d:"M83 45a38 38 0 00-76 0h76z",fill:h[2]}),s.a.createElement("path",{d:"M83 45a38 38 0 01-76 0h76z",fill:h[3]}),s.a.createElement("path",{d:"M77 45a32 32 0 10-64 0h64z",fill:h[4]}),s.a.createElement("path",{d:"M77 45a32 32 0 11-64 0h64z",fill:h[5]}),s.a.createElement("path",{d:"M71 45a26 26 0 00-52 0h52z",fill:h[6]}),s.a.createElement("path",{d:"M71 45a26 26 0 01-52 0h52z",fill:h[7]}),s.a.createElement("circle",{cx:45,cy:45,r:23,fill:h[8]})))},beam:function(e){var t=e.name,r=e.colors,s=e.title,a=e.square,h=e.size,d=n(e,["name","colors","title","square","size"]),f=function(e,t){var r,n=o(e),i=t&&t.length,s=c(n,t,i),a=u(n,10,1),h=a<5?a+4:a,d=u(n,10,2),f=d<5?d+4:d;return{wrapperColor:s,faceColor:("#"===(r=s).slice(0,1)&&(r=r.slice(1)),(299*parseInt(r.substr(0,2),16)+587*parseInt(r.substr(2,2),16)+114*parseInt(r.substr(4,2),16))/1e3>=128?"#000000":"#FFFFFF"),backgroundColor:c(n+13,t,i),wrapperTranslateX:h,wrapperTranslateY:f,wrapperRotate:u(n,360),wrapperScale:1+u(n,3)/10,isMouthOpen:l(n,2),isCircle:l(n,1),eyeSpread:u(n,5),mouthSpread:u(n,3),faceRotate:u(n,10,3),faceTranslateX:h>6?h/2:u(n,8,1),faceTranslateY:f>6?f/2:u(n,7,2)}}(t,r),p=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 36 36",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:h,height:h},d),s&&i.createElement("title",null,t),i.createElement("mask",{id:p,maskUnits:"userSpaceOnUse",x:0,y:0,width:36,height:36},i.createElement("rect",{width:36,height:36,rx:a?void 0:72,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(p,")")},i.createElement("rect",{width:36,height:36,fill:f.backgroundColor}),i.createElement("rect",{x:"0",y:"0",width:36,height:36,transform:"translate("+f.wrapperTranslateX+" "+f.wrapperTranslateY+") rotate("+f.wrapperRotate+" 18 18) scale("+f.wrapperScale+")",fill:f.wrapperColor,rx:f.isCircle?36:6}),i.createElement("g",{transform:"translate("+f.faceTranslateX+" "+f.faceTranslateY+") rotate("+f.faceRotate+" 18 18)"},f.isMouthOpen?i.createElement("path",{d:"M15 "+(19+f.mouthSpread)+"c2 1 4 1 6 0",stroke:f.faceColor,fill:"none",strokeLinecap:"round"}):i.createElement("path",{d:"M13,"+(19+f.mouthSpread)+" a1,0.75 0 0,0 10,0",fill:f.faceColor}),i.createElement("rect",{x:14-f.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:f.faceColor}),i.createElement("rect",{x:20+f.eyeSpread,y:14,width:1.5,height:2,rx:1,stroke:"none",fill:f.faceColor}))))},sunset:function(e){var t=e.name,r=e.colors,s=e.title,a=e.square,l=e.size,u=n(e,["name","colors","title","square","size"]),h=function(e,t){var r=o(e),n=t&&t.length;return Array.from({length:4},function(e,i){return c(r+i,t,n)})}(t,r),d=t.replace(/\s/g,""),f=i.useId();return i.createElement("svg",Object.assign({viewBox:"0 0 80 80",fill:"none",role:"img",xmlns:"http://www.w3.org/2000/svg",width:l,height:l},u),s&&i.createElement("title",null,t),i.createElement("mask",{id:f,maskUnits:"userSpaceOnUse",x:0,y:0,width:80,height:80},i.createElement("rect",{width:80,height:80,rx:a?void 0:160,fill:"#FFFFFF"})),i.createElement("g",{mask:"url(#".concat(f,")")},i.createElement("path",{fill:"url(#gradient_paint0_linear_"+d+")",d:"M0 0h80v40H0z"}),i.createElement("path",{fill:"url(#gradient_paint1_linear_"+d+")",d:"M0 40h80v40H0z"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"gradient_paint0_linear_"+d,x1:40,y1:0,x2:40,y2:40,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:h[0]}),i.createElement("stop",{offset:1,stopColor:h[1]})),i.createElement("linearGradient",{id:"gradient_paint1_linear_"+d,x1:40,y1:40,x2:40,y2:80,gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:h[2]}),i.createElement("stop",{offset:1,stopColor:h[3]}))))},marble:h},f={geometric:"beam",abstract:"bauhaus"},p=function(e){var t=e.variant,r=void 0===t?"marble":t,i=e.colors,o=void 0===i?["#92A1C6","#146A7C","#F0AB3D","#C271B4","#C20D90"]:i,a=e.name,l=void 0===a?"Clara Barton":a,u=e.title,c=void 0!==u&&u,p=e.size,m=e.square,g=void 0!==m&&m,y=n(e,["variant","colors","name","title","size","square"]),v=d[f[r]||r]||h;return s.a.createElement(v,Object.assign({colors:o,name:l,title:c,size:p,square:g},y))};t.default=p}])})},17376:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});let n=async()=>({uniqueWallets:0,messagesCount:0,isGameEnded:!1})},32477:(e,t,r)=>{"use strict";r.d(t,{Main:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Main() from the server but Main is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/andy/freysa2/app/home/components/Main.tsx","Main")},19611:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>u});var n=r(62740),i=r(24311),s=r.n(i),o=r(3128),a=r.n(o);r(82704),r(35809);var l=r(99034);let u={title:"Freysa.ai",description:"World's first adversarial agent game"};function c({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:`${s().variable} ${a().variable} antialiased`,children:(0,n.jsx)(l.Providers,{children:e})})})}},78200:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(62740),i=r(17376);let s=async(e,t)=>[];var o=r(32477);async function a(){let e=await s(void 0,100),t=await (0,i.c)();return console.log(t),(0,n.jsx)(o.Main,{messages:e,gameState:t})}},99034:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/andy/freysa2/components/providers.tsx","Providers")},82704:()=>{},87787:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";let src_url_equal_anchor,current_component;function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return 0===Object.keys(e).length}function null_to_empty(e){return null==e?"":e}function append(e,t){e.appendChild(t)}function append_styles(e,t,r){let n=get_root_for_style(e);if(!n.getElementById(t)){let e=element("style");e.id=t,e.textContent=r,append_stylesheet(n,e)}}function get_root_for_style(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_stylesheet(e,t){append(e.head||e,t)}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function listen(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function attr(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}__webpack_require__.d(__webpack_exports__,{N:()=>connect});let dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve(),update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}let seen_callbacks=new Set,flushidx=0;function flush(){let e=current_component;do{for(;flushidx<dirty_components.length;){let e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){let t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}let outroing=new Set;function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function mount_component(e,t,r,n){let{fragment:i,on_mount:s,on_destroy:o,after_update:a}=e.$$;i&&i.m(t,r),n||add_render_callback(()=>{let t=s.map(run).filter(is_function);o?o.push(...t):run_all(t),e.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(e,t){let r=e.$$;null!==r.fragment&&(run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init$1(e,t,r,n,i,s,o,a=[-1]){let l=current_component;set_current_component(e);let u=e.$$={fragment:null,ctx:null,props:s,update:noop,not_equal:i,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=r?r(e,t.props||{},(t,r,...n)=>{let s=n.length?n[0]:r;return u.ctx&&i(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),c&&make_dirty(e,t)),r}):[],u.update(),c=!0,run_all(u.before_update),u.fragment=!!n&&n(u.ctx),t.target){if(t.hydrate){let e=children(t.target);u.fragment&&u.fragment.l(e),e.forEach(detach)}else u.fragment&&u.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function add_css(e){append_styles(e,"svelte-1mtuslq",`.sr-only.svelte-1mtuslq.svelte-1mtuslq{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.fixed.svelte-1mtuslq.svelte-1mtuslq{position:fixed}.inset-0.svelte-1mtuslq.svelte-1mtuslq{top:0px;right:0px;bottom:0px;left:0px}.z-40.svelte-1mtuslq.svelte-1mtuslq{z-index:40}.z-50.svelte-1mtuslq.svelte-1mtuslq{z-index:50}.mx-6.svelte-1mtuslq.svelte-1mtuslq{margin-left:1.5rem;margin-right:1.5rem}.mb-4.svelte-1mtuslq.svelte-1mtuslq{margin-bottom:1rem}.flex.svelte-1mtuslq.svelte-1mtuslq{display:flex}.h-8.svelte-1mtuslq.svelte-1mtuslq{height:2rem}.w-full.svelte-1mtuslq.svelte-1mtuslq{width:100%}.w-8.svelte-1mtuslq.svelte-1mtuslq{width:2rem}.max-w-\\[500px\\].svelte-1mtuslq.svelte-1mtuslq{max-width:500px}@keyframes svelte-1mtuslq-spin{to{transform:rotate(360deg)}}.animate-spin.svelte-1mtuslq.svelte-1mtuslq{animation:svelte-1mtuslq-spin 1s linear infinite}.cursor-pointer.svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.flex-col.svelte-1mtuslq.svelte-1mtuslq{flex-direction:column}.items-center.svelte-1mtuslq.svelte-1mtuslq{align-items:center}.justify-center.svelte-1mtuslq.svelte-1mtuslq{justify-content:center}.justify-between.svelte-1mtuslq.svelte-1mtuslq{justify-content:space-between}.gap-3.svelte-1mtuslq.svelte-1mtuslq{gap:0.75rem}.rounded-md.svelte-1mtuslq.svelte-1mtuslq{border-radius:0.375rem}.rounded-full.svelte-1mtuslq.svelte-1mtuslq{border-radius:9999px}.bg-black\\/25.svelte-1mtuslq.svelte-1mtuslq{background-color:rgb(0 0 0 / 0.25)}.bg-slate-50.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity))}.bg-slate-100.svelte-1mtuslq.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.fill-neutral-600.svelte-1mtuslq.svelte-1mtuslq{fill:#525252}.p-4.svelte-1mtuslq.svelte-1mtuslq{padding:1rem}.p-3.svelte-1mtuslq.svelte-1mtuslq{padding:0.75rem}.text-center.svelte-1mtuslq.svelte-1mtuslq{text-align:center}.text-xl.svelte-1mtuslq.svelte-1mtuslq{font-size:1.25rem;line-height:1.75rem}.text-neutral-300.svelte-1mtuslq.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(212 212 212 / var(--tw-text-opacity))}.antialiased.svelte-1mtuslq.svelte-1mtuslq{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.shadow.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.filter.svelte-1mtuslq.svelte-1mtuslq{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm.svelte-1mtuslq.svelte-1mtuslq{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors.svelte-1mtuslq.svelte-1mtuslq{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-content:''}h1.svelte-1mtuslq.svelte-1mtuslq{font-size:inherit;font-weight:inherit}a.svelte-1mtuslq.svelte-1mtuslq{color:inherit;text-decoration:inherit}.svelte-1mtuslq.svelte-1mtuslq:-moz-focusring{outline:auto}.svelte-1mtuslq.svelte-1mtuslq:-moz-ui-invalid{box-shadow:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-inner-spin-button,.svelte-1mtuslq.svelte-1mtuslq::-webkit-outer-spin-button{height:auto}.svelte-1mtuslq.svelte-1mtuslq::-webkit-search-decoration{-webkit-appearance:none}.svelte-1mtuslq.svelte-1mtuslq::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h1.svelte-1mtuslq.svelte-1mtuslq{margin:0}ul.svelte-1mtuslq.svelte-1mtuslq{list-style:none;margin:0;padding:0}[role="button"].svelte-1mtuslq.svelte-1mtuslq{cursor:pointer}.svelte-1mtuslq.svelte-1mtuslq:disabled{cursor:default}img.svelte-1mtuslq.svelte-1mtuslq,svg.svelte-1mtuslq.svelte-1mtuslq{display:block;vertical-align:middle}img.svelte-1mtuslq.svelte-1mtuslq{max-width:100%;height:auto}.svelte-1mtuslq.svelte-1mtuslq,.svelte-1mtuslq.svelte-1mtuslq::before,.svelte-1mtuslq.svelte-1mtuslq::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x:  ;--tw-pan-y:  ;--tw-pinch-zoom:  ;--tw-scroll-snap-strictness:proximity;--tw-ordinal:  ;--tw-slashed-zero:  ;--tw-numeric-figure:  ;--tw-numeric-spacing:  ;--tw-numeric-fraction:  ;--tw-ring-inset:  ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur:  ;--tw-brightness:  ;--tw-contrast:  ;--tw-grayscale:  ;--tw-hue-rotate:  ;--tw-invert:  ;--tw-saturate:  ;--tw-sepia:  ;--tw-drop-shadow:  ;--tw-backdrop-blur:  ;--tw-backdrop-brightness:  ;--tw-backdrop-contrast:  ;--tw-backdrop-grayscale:  ;--tw-backdrop-hue-rotate:  ;--tw-backdrop-invert:  ;--tw-backdrop-opacity:  ;--tw-backdrop-saturate:  ;--tw-backdrop-sepia:  }.svelte-1mtuslq.svelte-1mtuslq{font-family:Nunito, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto,
      Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,
      sans-serif;-webkit-font-smoothing:antialiased}.hover\\:bg-slate-200.svelte-1mtuslq.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:border-neutral-600.svelte-1mtuslq{--tw-border-opacity:1;border-color:rgb(82 82 82 / var(--tw-border-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-900.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(23 23 23 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:bg-neutral-800.svelte-1mtuslq{--tw-bg-opacity:1;background-color:rgb(38 38 38 / var(--tw-bg-opacity))}.dark.svelte-1mtuslq .dark\\:fill-neutral-300.svelte-1mtuslq{fill:#d4d4d4}.dark.svelte-1mtuslq .dark\\:text-white.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:text-neutral-600.svelte-1mtuslq{--tw-text-opacity:1;color:rgb(82 82 82 / var(--tw-text-opacity))}.dark.svelte-1mtuslq .dark\\:hover\\:bg-neutral-700.svelte-1mtuslq:hover{--tw-bg-opacity:1;background-color:rgb(64 64 64 / var(--tw-bg-opacity))}`)}function get_each_context(e,t,r){let n=e.slice();return n[20]=t[r],n}function get_each_context_1(e,t,r){let n=e.slice();return n[23]=t[r],n}function create_else_block(e){let t,r;return{c(){attr(t=element("img"),"alt",e[23].name),src_url_equal(t.src,r=e[23].icon)||attr(t,"src",r),attr(t,"class","w-8 h-8 rounded-full svelte-1mtuslq")},m(e,r){insert(e,t,r)},p:noop,d(e){e&&detach(t)}}}function create_if_block(e){let t;return{c(){(t=element("div")).innerHTML=`<svg aria-hidden="true" class="w-8 h-8 text-neutral-300 animate-spin dark:text-neutral-600 fill-neutral-600 dark:fill-neutral-300 svelte-1mtuslq" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor" class="svelte-1mtuslq"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill" class="svelte-1mtuslq"></path></svg> 
              <span class="sr-only svelte-1mtuslq">Loading...</span>`,attr(t,"role","status"),attr(t,"class","svelte-1mtuslq")},m(e,r){insert(e,t,r)},p:noop,d(e){e&&detach(t)}}}function create_each_block_1(e){let t,r=e[23].name+"",n,i,s,o;function a(e,t){return e[1]===e[23].id?create_if_block:create_else_block}let l=a(e),u=l(e);function c(){return e[12](e[23])}function h(...t){return e[13](e[23],...t)}return{c(){t=element("li"),n=text(r),i=space(),u.c(),attr(t,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md cursor-pointer shadow-sm hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq")},m(e,r){insert(e,t,r),append(t,n),append(t,i),u.m(t,null),s||(o=[listen(t,"click",c),listen(t,"keyup",h)],s=!0)},p(r,n){l===(l=a(e=r))&&u?u.p(e,n):(u.d(1),(u=l(e))&&(u.c(),u.m(t,null)))},d(e){e&&detach(t),u.d(),s=!1,run_all(o)}}}function create_each_block(e){let t,r,n=e[20].name+"",i,s,o,a,l,u,c,h,d,f;return{c(){t=element("a"),r=element("li"),i=text(n),s=space(),o=element("img"),u=space(),attr(o,"alt",a=e[20].name),src_url_equal(o.src,l=e[20].icon)||attr(o,"src",l),attr(o,"class","w-8 h-8 rounded-full svelte-1mtuslq"),attr(r,"class","flex justify-between items-center p-3 bg-slate-100 rounded-md shadow-sm cursor-pointer hover:bg-slate-200 transition-colors dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:border-neutral-600 dark:text-white svelte-1mtuslq"),attr(t,"alt",c=e[20].name+" download link"),attr(t,"href",h=e[20].download),attr(t,"target","_blank"),attr(t,"rel","noopener noreferrer"),attr(t,"class","svelte-1mtuslq")},m(n,a){insert(n,t,a),append(t,r),append(r,i),append(r,s),append(r,o),append(t,u),d||(f=[listen(r,"click",e[14]),listen(r,"keyup",e[15])],d=!0)},p(e,r){1&r&&n!==(n=e[20].name+"")&&set_data(i,n),1&r&&a!==(a=e[20].name)&&attr(o,"alt",a),1&r&&!src_url_equal(o.src,l=e[20].icon)&&attr(o,"src",l),1&r&&c!==(c=e[20].name+" download link")&&attr(t,"alt",c),1&r&&h!==(h=e[20].download)&&attr(t,"href",h)},d(e){e&&detach(t),d=!1,run_all(f)}}}function create_fragment(e){let t,r,n,i,s,o,a,l,u,c,h,d,f=e[4],p=[];for(let t=0;t<f.length;t+=1)p[t]=create_each_block_1(get_each_context_1(e,f,t));let m=e[0],g=[];for(let t=0;t<m.length;t+=1)g[t]=create_each_block(get_each_context(e,m,t));return{c(){t=element("div"),r=element("main"),n=element("header"),(i=element("h1")).textContent="Connect a wallet",s=space(),(o=element("span")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" width="24px" viewBox="0 0 24 24" fill="currentColor" class="svelte-1mtuslq"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" class="svelte-1mtuslq"></path></svg>',a=space(),l=element("ul");for(let e=0;e<p.length;e+=1)p[e].c();u=space();for(let e=0;e<g.length;e+=1)g[e].c();attr(i,"class","text-xl svelte-1mtuslq"),attr(o,"role","button"),attr(o,"alt","Close"),attr(o,"class","cursor-pointer svelte-1mtuslq"),attr(n,"class","flex items-center justify-between mb-4 svelte-1mtuslq"),attr(l,"class","flex flex-col gap-3 svelte-1mtuslq"),attr(r,"role","dialog"),attr(r,"class",null_to_empty("bg-slate-50 rounded-md shadow w-full max-w-[500px] mx-6 p-4 text-center z-50 dark:bg-neutral-900 dark:text-white")+" svelte-1mtuslq"),attr(t,"class",c=null_to_empty("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+e[2])+" svelte-1mtuslq")},m(c,f){insert(c,t,f),append(t,r),append(r,n),append(n,i),append(n,s),append(n,o),append(r,a),append(r,l);for(let e=0;e<p.length;e+=1)p[e].m(l,null);append(l,u);for(let e=0;e<g.length;e+=1)g[e].m(l,null);h||(d=[listen(o,"click",e[10]),listen(o,"keyup",e[11]),listen(r,"click",click_handler_3),listen(r,"keyup",keyup_handler_3),listen(t,"click",e[16]),listen(t,"keyup",e[17])],h=!0)},p(e,[r]){if(26&r){let t;for(t=0,f=e[4];t<f.length;t+=1){let n=get_each_context_1(e,f,t);p[t]?p[t].p(n,r):(p[t]=create_each_block_1(n),p[t].c(),p[t].m(l,u))}for(;t<p.length;t+=1)p[t].d(1);p.length=f.length}if(9&r){let t;for(t=0,m=e[0];t<m.length;t+=1){let n=get_each_context(e,m,t);g[t]?g[t].p(n,r):(g[t]=create_each_block(n),g[t].c(),g[t].m(l,null))}for(;t<g.length;t+=1)g[t].d(1);g.length=m.length}4&r&&c!==(c=null_to_empty("backdrop-blur-sm fixed inset-0 flex items-center justify-center bg-black/25 z-40 "+e[2])+" svelte-1mtuslq")&&attr(t,"class",c)},i:noop,o:noop,d(e){e&&detach(t),destroy_each(p,e),destroy_each(g,e),h=!1,run_all(d)}}}let click_handler_3=e=>e.stopPropagation(),keyup_handler_3=e=>e.stopPropagation();function instance(e,t,r){let n="u">typeof window?window:null,{lastWallet:i=null}=t,{installedWallets:s=[]}=t,{preAuthorizedWallets:o=[]}=t,{discoveryWallets:a=[]}=t,{callback:l=async()=>{}}=t,{theme:u=null}=t,c=!1,h=async e=>{var t;r(1,c=null!=(t=null==e?void 0:e.id)&&t),await l(e).catch(()=>{}),r(1,c=!1)},d="";d="dark"===u||null===u&&(null==n?void 0:n.matchMedia("(prefers-color-scheme: dark)").matches)?"dark":"";let f=e=>{r(2,d=e.matches?"dark":"")};onMount(()=>{if(null===u)return null==n||n.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",f),()=>{null==n||n.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",f)}});let p=[i,...o,...s].filter(Boolean),m=()=>h(null),g=e=>{"Enter"===e.key&&h(null)},y=e=>h(e),v=(e,t)=>{"Enter"===t.key&&h(e)},b=()=>h(null),w=e=>{"Enter"===e.key&&h(null)},x=()=>h(null),M=e=>{"Escape"===e.key&&h(null)};return e.$$set=e=>{"lastWallet"in e&&r(5,i=e.lastWallet),"installedWallets"in e&&r(6,s=e.installedWallets),"preAuthorizedWallets"in e&&r(7,o=e.preAuthorizedWallets),"discoveryWallets"in e&&r(0,a=e.discoveryWallets),"callback"in e&&r(8,l=e.callback),"theme"in e&&r(9,u=e.theme)},[a,c,d,h,p,i,s,o,l,u,m,g,y,v,b,w,x,M]}class Modal extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{lastWallet:5,installedWallets:6,preAuthorizedWallets:7,discoveryWallets:0,callback:8,theme:9},add_css)}}function excludeWallets(e,t){return e.filter(e=>!t.some(t=>t.id===e.id))}async function show({discoveryWallets:e,installedWallets:t,lastWallet:r,preAuthorizedWallets:n,enable:i,modalOptions:s}){return new Promise(o=>{var a;let l=[r].filter(Boolean);n=excludeWallets(n,l),t=excludeWallets(t,[...l,...n]),e=excludeWallets(e,[...l,...t,...n]);let u=new Modal({target:document.body,props:{callback:async e=>{var t;let r=null!=(t=await (null==i?void 0:i(e)))?t:e;u.$destroy(),o(r)},lastWallet:r,installedWallets:t,preAuthorizedWallets:n,discoveryWallets:e,theme:(null==s?void 0:s.theme)==="system"?null:null!=(a=null==s?void 0:s.theme)?a:null}})})}let BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Utils{static getFirstMatch(e,t){let r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){let r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){let t=e.split(".").splice(0,2).map(e=>parseInt(e,10)||0);if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){let t=e.split(".").splice(0,2).map(e=>parseInt(e,10)||0);if(t.push(0),!(1===t[0]&&t[1]<5)){if(1===t[0]&&t[1]<6)return"Cupcake";if(1===t[0]&&t[1]>=6)return"Donut";if(2===t[0]&&t[1]<2)return"Eclair";if(2===t[0]&&2===t[1])return"Froyo";if(2===t[0]&&t[1]>2)return"Gingerbread";if(3===t[0])return"Honeycomb";if(4===t[0]&&t[1]<1)return"Ice Cream Sandwich";if(4===t[0]&&t[1]<4)return"Jelly Bean";if(4===t[0]&&t[1]>=4)return"KitKat";if(5===t[0])return"Lollipop";if(6===t[0])return"Marshmallow";if(7===t[0])return"Nougat";if(8===t[0])return"Oreo";if(9===t[0])return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){let n=Utils.getVersionPrecision(e),i=Utils.getVersionPrecision(t),s=Math.max(n,i),o=0,a=Utils.map([e,t],e=>{let t=s-Utils.getVersionPrecision(e),r=e+Array(t+1).join(".0");return Utils.map(r.split("."),e=>Array(20-e.length).join("0")+e).reverse()});for(r&&(o=s-Math.min(n,i)),s-=1;s>=o;){if(a[0][s]>a[1][s])return 1;if(a[0][s]===a[1][s]){if(s===o)return 0;s-=1}else if(a[0][s]<a[1][s])return -1}}static map(e,t){let r;let n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){let n=e[r];if(t(n,r))return n}}static assign(e,...t){let r,n;let i=e;if(Object.assign)return Object.assign(e,...t);for(r=0,n=t.length;r<n;r+=1){let e=t[r];"object"==typeof e&&null!==e&&Object.keys(e).forEach(t=>{i[t]=e[t]})}return e}static getBrowserAlias(e){return BROWSER_ALIASES_MAP[e]}static getBrowserTypeByAlias(e){return BROWSER_MAP[e]||""}}let commonVersionIdentifier=/version\/(\d+(\.?_?\d+)+)/i,browsersList=[{test:[/googlebot/i],describe(e){let t={name:"Googlebot"},r=Utils.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){let t={name:"Opera"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){let t={name:"Opera"},r=Utils.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){let t={name:"Samsung Internet for Android"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){let t={name:"NAVER Whale Browser"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){let t={name:"MZ Browser"},r=Utils.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){let t={name:"Focus"},r=Utils.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){let t={name:"Swing"},r=Utils.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){let t={name:"Opera Coast"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){let t={name:"Opera Touch"},r=Utils.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){let t={name:"Yandex Browser"},r=Utils.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){let t={name:"UC Browser"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){let t={name:"Maxthon"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){let t={name:"Epiphany"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){let t={name:"Puffin"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){let t={name:"Sleipnir"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){let t={name:"K-Meleon"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){let t={name:"WeChat"},r=Utils.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){let t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=Utils.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){let t={name:"Internet Explorer"},r=Utils.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){let t={name:"Microsoft Edge"},r=Utils.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){let t={name:"Microsoft Edge"},r=Utils.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){let t={name:"Vivaldi"},r=Utils.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){let t={name:"SeaMonkey"},r=Utils.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){let t={name:"Sailfish"},r=Utils.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){let t={name:"Amazon Silk"},r=Utils.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){let t={name:"PhantomJS"},r=Utils.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){let t={name:"SlimerJS"},r=Utils.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){let t={name:"BlackBerry"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){let t={name:"WebOS Browser"},r=Utils.getFirstMatch(commonVersionIdentifier,e)||Utils.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){let t={name:"Bada"},r=Utils.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){let t={name:"Tizen"},r=Utils.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){let t={name:"QupZilla"},r=Utils.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){let t={name:"Firefox"},r=Utils.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){let t={name:"Electron"},r=Utils.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){let t={name:"Miui"},r=Utils.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){let t={name:"Chromium"},r=Utils.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){let t={name:"Chrome"},r=Utils.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){let t={name:"Google Search"},r=Utils.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){let t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){let t={name:"Android Browser"},r=Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){let t={name:"PlayStation 4"},r=Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){let t={name:"Safari"},r=Utils.getFirstMatch(commonVersionIdentifier,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){let t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,n=-1!==e.search("\\(")?r:t;return{name:Utils.getFirstMatch(n,e),version:Utils.getSecondMatch(n,e)}}}],osParsersList=[{test:[/Roku\/DVP/],describe(e){let t=Utils.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe(e){let t=Utils.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){let t=Utils.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=Utils.getWindowsVersionName(t);return{name:OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){let t={name:OS_MAP.iOS},r=Utils.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){let t=Utils.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=Utils.getMacOSVersionName(t),n={name:OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){let t=Utils.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:OS_MAP.iOS,version:t}}},{test(e){let t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){let t=Utils.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=Utils.getAndroidVersionName(t),n={name:OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){let t=Utils.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){let t=Utils.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Utils.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Utils.getFirstMatch(/\bbb(\d+)/i,e);return{name:OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe(e){let t=Utils.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe(e){let t=Utils.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:OS_MAP.Linux})},{test:[/CrOS/],describe:()=>({name:OS_MAP.ChromeOS})},{test:[/PlayStation 4/],describe(e){let t=Utils.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:OS_MAP.PlayStation4,version:t}}}],platformParsersList=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){let t=Utils.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:PLATFORMS_MAP.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:PLATFORMS_MAP.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:PLATFORMS_MAP.tablet})},{test(e){let t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){let t=Utils.getFirstMatch(/(ipod|iphone)/i,e);return{type:PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:PLATFORMS_MAP.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:PLATFORMS_MAP.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:PLATFORMS_MAP.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:PLATFORMS_MAP.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:PLATFORMS_MAP.mobile,vendor:"Microsoft"})},{test(e){let t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:PLATFORMS_MAP.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:PLATFORMS_MAP.tv})}],enginesParsersList=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:ENGINE_MAP.Blink};let t=Utils.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){let t={name:ENGINE_MAP.Trident},r=Utils.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){let t={name:ENGINE_MAP.Presto},r=Utils.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){let t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){let t={name:ENGINE_MAP.Gecko},r=Utils.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:ENGINE_MAP.Blink})},{test:[/(apple)?webkit/i],describe(e){let t={name:ENGINE_MAP.WebKit},r=Utils.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Parser{constructor(e,t=!1){if(null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let e=Utils.find(browsersList,e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some(e=>this.test(e));throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let e=Utils.find(osParsersList,e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some(e=>this.test(e));throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){let{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){let{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};let e=Utils.find(platformParsersList,e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some(e=>this.test(e));throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let e=Utils.find(enginesParsersList,e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some(e=>this.test(e));throw Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Utils.assign({},this.parsedResult)}satisfies(e){let t={},r=0,n={},i=0;if(Object.keys(e).forEach(s=>{let o=e[s];"string"==typeof o?(n[s]=o,i+=1):"object"==typeof o&&(t[s]=o,r+=1)}),r>0){let e=Object.keys(t),r=Utils.find(e,e=>this.isOS(e));if(r){let e=this.satisfies(t[r]);if(void 0!==e)return e}let n=Utils.find(e,e=>this.isPlatform(e));if(n){let e=this.satisfies(t[n]);if(void 0!==e)return e}}if(i>0){let e=Object.keys(n),t=Utils.find(e,e=>this.isBrowser(e,!0));if(void 0!==t)return this.compareVersion(n[t])}}isBrowser(e,t=!1){let r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=Utils.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r}compareVersion(e){let t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(Utils.compareVersions(i,r,n))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(e=>this.is(e))}}class Bowser{static getParser(e,t=!1){if("string"!=typeof e)throw Error("UserAgent should be a string");return new Parser(e,t)}static parse(e){return new Parser(e).getResult()}static get BROWSER_MAP(){return BROWSER_MAP}static get ENGINE_MAP(){return ENGINE_MAP}static get OS_MAP(){return OS_MAP}static get PLATFORMS_MAP(){return PLATFORMS_MAP}}var Z=Object.defineProperty,X=(e,t,r)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t,r)=>(X(e,"symbol"!=typeof t?t+"":t,r),r),B=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},N=(e,t,r)=>(B(e,t,"read from private field"),r?r.call(e):t.get(e)),L=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$=(e,t,r,n)=>(B(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),P=(e,t,r)=>(B(e,t,"access private method"),r);let generateUID=()=>`${Date.now()}-${Math.floor(0x82f79cd8fff*Math.random())+1e12}`,shuffle=e=>{for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e};function pipe$1(...e){return t=>e.reduce((e,t)=>e.then(t),Promise.resolve(t))}let ssrSafeWindow="u">typeof window?window:null,wallets=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x",edge:"https://microsoftedge.microsoft.com/addons/detail/argent-x/ajcicjlkibolbeaaagejfhnofogocgcj"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc",ios:`https://link.braavos.app/dapp/${null==(Y=null==ssrSafeWindow?void 0:ssrSafeWindow.location)?void 0:Y.host}`,android:`https://link.braavos.app/dapp/${null==(V=null==ssrSafeWindow?void 0:ssrSafeWindow.location)?void 0:V.host}`}},{id:"okxwallet",name:"OKX Wallet",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",downloads:{chrome:"https://chrome.google.com/webstore/detail/mcohilncbfahbmgdjkbpemcciiolgcge",firefox:"https://addons.mozilla.org/en-US/firefox/addon/okexwallet",edge:"https://microsoftedge.microsoft.com/addons/detail/%E6%AC%A7%E6%98%93-web3-%E9%92%B1%E5%8C%85/pbpjkcldjiffchgbbndmhojiacbgflha",safari:"https://apps.apple.com/us/app/okx-wallet/id6463797825"}},{id:"metamask",name:"MetaMask",icon:"data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTIiIGhlaWdodD0iMTg5IiB2aWV3Qm94PSIwIDAgMjEyIDE4OSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cG9seWdvbiBmaWxsPSIjQ0RCREIyIiBwb2ludHM9IjYwLjc1IDE3My4yNSA4OC4zMTMgMTgwLjU2MyA4OC4zMTMgMTcxIDkwLjU2MyAxNjguNzUgMTA2LjMxMyAxNjguNzUgMTA2LjMxMyAxODAgMTA2LjMxMyAxODcuODc1IDg5LjQzOCAxODcuODc1IDY4LjYyNSAxNzguODc1Ii8+PHBvbHlnb24gZmlsbD0iI0NEQkRCMiIgcG9pbnRzPSIxMDUuNzUgMTczLjI1IDEzMi43NSAxODAuNTYzIDEzMi43NSAxNzEgMTM1IDE2OC43NSAxNTAuNzUgMTY4Ljc1IDE1MC43NSAxODAgMTUwLjc1IDE4Ny44NzUgMTMzLjg3NSAxODcuODc1IDExMy4wNjMgMTc4Ljg3NSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjU2LjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzEgOTEuMTI1IDE2OC43NSAxMjAuMzc1IDE2OC43NSAxMjMuNzUgMTcxIDEyMS41IDE1Mi40MzggMTE3IDE0OS42MjUgOTQuNSAxNTAuMTg4Ii8+PHBvbHlnb24gZmlsbD0iI0Y4OUMzNSIgcG9pbnRzPSI3NS4zNzUgMjcgODguODc1IDU4LjUgOTUuMDYzIDE1MC4xODggMTE3IDE1MC4xODggMTIzLjc1IDU4LjUgMTM2LjEyNSAyNyIvPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MC41NjMgMTUyLjQzOCIvPjxwb2x5Z29uIGZpbGw9IiNFQThFM0EiIHBvaW50cz0iOTIuMjUgMTAyLjM3NSA5NS4wNjMgMTUwLjE4OCA4Ni42MjUgMTI1LjcxOSIvPjxwb2x5Z29uIGZpbGw9IiNEODdDMzAiIHBvaW50cz0iMzkuMzc1IDEzOC45MzggNjUuMjUgMTM4LjM3NSA2MC43NSAxNzMuMjUiLz48cG9seWdvbiBmaWxsPSIjRUI4RjM1IiBwb2ludHM9IjEyLjkzOCAxODguNDM4IDYwLjc1IDE3My4yNSAzOS4zNzUgMTM4LjkzOCAuNTYzIDE0MS43NSIvPjxwb2x5Z29uIGZpbGw9IiNFODgyMUUiIHBvaW50cz0iODguODc1IDU4LjUgNjQuNjg4IDc4Ljc1IDQ2LjEyNSAxMDEuMjUgOTIuMjUgMTAyLjkzOCIvPjxwb2x5Z29uIGZpbGw9IiNERkNFQzMiIHBvaW50cz0iNjAuNzUgMTczLjI1IDkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzAuNDM4IDg4LjMxMyAxODAuNTYzIDY4LjA2MyAxNzYuNjI1Ii8+PHBvbHlnb24gZmlsbD0iI0RGQ0VDMyIgcG9pbnRzPSIxMjEuNSAxNzMuMjUgMTUwLjc1IDE1Mi40MzggMTQ4LjUgMTcwLjQzOCAxNDguNSAxODAuNTYzIDEyOC4yNSAxNzYuNjI1IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAyNzIuMjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjExLjUgMCkiPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MCAxNTMiLz48cG9seWdvbiBmaWxsPSIjRUE4RTNBIiBwb2ludHM9IjkyLjI1IDEwMi4zNzUgOTUuMDYzIDE1MC4xODggODYuNjI1IDEyNS43MTkiLz48cG9seWdvbiBmaWxsPSIjRDg3QzMwIiBwb2ludHM9IjM5LjM3NSAxMzguOTM4IDY1LjI1IDEzOC4zNzUgNjAuNzUgMTczLjI1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSIxMi45MzggMTg4LjQzOCA2MC43NSAxNzMuMjUgMzkuMzc1IDEzOC45MzggLjU2MyAxNDEuNzUiLz48cG9seWdvbiBmaWxsPSIjRTg4MjFFIiBwb2ludHM9Ijg4Ljg3NSA1OC41IDY0LjY4OCA3OC43NSA0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi45MzgiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PC9nPjwvZz48L3N2Zz4=",downloads:{chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",firefox:"https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm?hl=en-US"}}];class LocalStorageWrapper{constructor(e){L(this,H),L(this,C),L(this,T,!1),L(this,j,void 0),L(this,x,void 0),F(this,"value"),$(this,x,e),P(this,C,G).call(this)}set(e){return!!(N(this,T)||P(this,C,G).call(this))&&(this.delete(),this.value=e,e&&($(this,j,`${N(this,x)}-${generateUID()}`),localStorage.setItem(N(this,j),e)),!0)}get(){return P(this,H,Q).call(this),this.value}delete(){return!!(N(this,T)||P(this,C,G).call(this))&&(this.value=null,N(this,j)&&localStorage.removeItem(N(this,j)),!0)}}function filterBy(e,t){var r,n;if(null!=(r=null==t?void 0:t.include)&&r.length){let r=new Set(t.include);return e.filter(e=>r.has(e.id))}if(null!=(n=null==t?void 0:t.exclude)&&n.length){let r=new Set(t.exclude);return e.filter(e=>!r.has(e.id))}return e}T=new WeakMap,j=new WeakMap,x=new WeakMap,H=new WeakSet,Q=function(){this.value&&this.set(this.value)},C=new WeakSet,G=function(){try{!N(this,T)&&"u">typeof window&&($(this,j,Object.keys(localStorage).find(e=>e.startsWith(N(this,x)))),$(this,T,!0),N(this,j)&&this.set(localStorage.getItem(N(this,j))))}catch(e){console.warn(e)}return N(this,T)};let filterByPreAuthorized=async e=>{let t=await Promise.all(e.map(e=>e.isPreauthorized().catch(()=>!1)));return e.filter((e,r)=>t[r])},isWalletObj=e=>{try{return e&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(t=>t in e)}catch{}return!1};function getBuilderId(){return"u">typeof FEDERATION_BUILD_IDENTIFIER?FEDERATION_BUILD_IDENTIFIER:""}function isDebugMode$1(){return!1}function isBrowserEnv$1(){return"u">typeof window}let LOG_CATEGORY$1="[ Federation Runtime ]";function assert(e,t){e||error(t)}function error(e){throw e instanceof Error?(e.message=`${LOG_CATEGORY$1}: ${e.message}`,e):Error(`${LOG_CATEGORY$1}: ${e}`)}function warn$1(e){e instanceof Error?(e.message=`${LOG_CATEGORY$1}: ${e.message}`,console.warn(e)):console.warn(`${LOG_CATEGORY$1}: ${e}`)}function addUniqueItem(e,t){return -1===e.findIndex(e=>e===t)&&e.push(t),e}function getFMId(e){return"version"in e&&e.version?`${e.name}:${e.version}`:"entry"in e&&e.entry?`${e.name}:${e.entry}`:`${e.name}`}function isRemoteInfoWithEntry(e){return"u">typeof e.entry}function isPureRemoteEntry(e){return!e.entry.includes(".json")&&e.entry.includes(".js")}function safeToString$1(e){try{return JSON.stringify(e,null,2)}catch{return""}}function isObject(e){return e&&"object"==typeof e}let objectToString=Object.prototype.toString;function isPlainObject(e){return"[object Object]"===objectToString.call(e)}function _extends$1$1(){return(_extends$1$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _object_without_properties_loose$1(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}let nativeGlobal=(()=>{try{return Function("return this")()}catch{return globalThis}})(),Global=nativeGlobal;function definePropertyGlobalVal(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!1,writable:!0})}function includeOwnProperty(e,t){return Object.hasOwnProperty.call(e,t)}includeOwnProperty(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__")||definePropertyGlobalVal(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});let globalLoading=globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;function setGlobalDefaultVal(e){var t,r,n,i,s,o;includeOwnProperty(e,"__VMOK__")&&!includeOwnProperty(e,"__FEDERATION__")&&definePropertyGlobalVal(e,"__FEDERATION__",e.__VMOK__),includeOwnProperty(e,"__FEDERATION__")||(definePropertyGlobalVal(e,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),definePropertyGlobalVal(e,"__VMOK__",e.__FEDERATION__)),null!=(t=e.__FEDERATION__).__GLOBAL_PLUGIN__||(t.__GLOBAL_PLUGIN__=[]),null!=(r=e.__FEDERATION__).__INSTANCES__||(r.__INSTANCES__=[]),null!=(n=e.__FEDERATION__).moduleInfo||(n.moduleInfo={}),null!=(i=e.__FEDERATION__).__SHARE__||(i.__SHARE__={}),null!=(s=e.__FEDERATION__).__MANIFEST_LOADING__||(s.__MANIFEST_LOADING__={}),null!=(o=e.__FEDERATION__).__PRELOADED_MAP__||(o.__PRELOADED_MAP__=new Map)}function getGlobalFederationInstance(e,t){let r=getBuilderId();return globalThis.__FEDERATION__.__INSTANCES__.find(n=>!!(r&&n.options.id===getBuilderId()||n.options.name===e&&!n.options.version&&!t||n.options.name===e&&t&&n.options.version===t))}function setGlobalFederationInstance(e){globalThis.__FEDERATION__.__INSTANCES__.push(e)}function getGlobalFederationConstructor(){return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function setGlobalFederationConstructor(e,t=isDebugMode$1()){t&&(globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__=e,globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.1.2")}function getInfoWithoutType(e,t){if("string"==typeof t){if(e[t])return{value:e[t],key:t};for(let r of Object.keys(e)){let[n,i]=r.split(":"),s=`${n}:${t}`,o=e[s];if(o)return{value:o,key:s}}return{value:void 0,key:t}}throw Error("key must be string")}setGlobalDefaultVal(globalThis),setGlobalDefaultVal(nativeGlobal);let getGlobalSnapshot=()=>nativeGlobal.__FEDERATION__.moduleInfo,getTargetSnapshotInfoByModuleInfo=(e,t)=>{let r=getInfoWithoutType(t,getFMId(e)).value;if(r&&!r.version&&"version"in e&&e.version&&(r.version=e.version),r)return r;if("version"in e&&e.version){let{version:t}=e,r=getFMId(_object_without_properties_loose$1(e,["version"])),n=getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo,r).value;if((null==n?void 0:n.version)===t)return n}},getGlobalSnapshotInfoByModuleInfo=e=>getTargetSnapshotInfoByModuleInfo(e,nativeGlobal.__FEDERATION__.moduleInfo),setGlobalSnapshotInfoByModuleInfo=(e,t)=>{let r=getFMId(e);return nativeGlobal.__FEDERATION__.moduleInfo[r]=t,nativeGlobal.__FEDERATION__.moduleInfo},addGlobalSnapshot=e=>(nativeGlobal.__FEDERATION__.moduleInfo=_extends$1$1({},nativeGlobal.__FEDERATION__.moduleInfo,e),()=>{for(let t of Object.keys(e))delete nativeGlobal.__FEDERATION__.moduleInfo[t]}),getRemoteEntryExports=(e,t)=>{let r=t||`__FEDERATION_${e}:custom__`,n=globalThis[r];return{remoteEntryKey:r,entryExports:n}},getGlobalHostPlugins=()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__,getPreloaded=e=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(e),setPreloaded=e=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(e,!0),DEFAULT_SCOPE="default",DEFAULT_REMOTE_TYPE="global",buildIdentifier="[0-9A-Za-z-]+",build=`(?:\\+(${buildIdentifier}(?:\\.${buildIdentifier})*))`,numericIdentifier="0|[1-9]\\d*",numericIdentifierLoose="[0-9]+",nonNumericIdentifier="\\d*[a-zA-Z-][a-zA-Z0-9-]*",preReleaseIdentifierLoose=`(?:${numericIdentifierLoose}|${nonNumericIdentifier})`,preReleaseLoose=`(?:-?(${preReleaseIdentifierLoose}(?:\\.${preReleaseIdentifierLoose})*))`,preReleaseIdentifier=`(?:${numericIdentifier}|${nonNumericIdentifier})`,preRelease=`(?:-(${preReleaseIdentifier}(?:\\.${preReleaseIdentifier})*))`,xRangeIdentifier=`${numericIdentifier}|x|X|\\*`,xRangePlain=`[v=\\s]*(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`,hyphenRange=`^\\s*(${xRangePlain})\\s+-\\s+(${xRangePlain})\\s*$`,mainVersionLoose=`(${numericIdentifierLoose})\\.(${numericIdentifierLoose})\\.(${numericIdentifierLoose})`,loosePlain=`[v=\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`,gtlt="((?:<|>)?=?)",comparatorTrim=`(\\s*)${gtlt}\\s*(${loosePlain}|${xRangePlain})`,loneTilde="(?:~>?)",tildeTrim=`(\\s*)${loneTilde}\\s+`,loneCaret="(?:\\^)",caretTrim=`(\\s*)${loneCaret}\\s+`,star="(<|>)?=?\\s*\\*",caret=`^${loneCaret}${xRangePlain}$`,mainVersion=`(${numericIdentifier})\\.(${numericIdentifier})\\.(${numericIdentifier})`,fullPlain=`v?${mainVersion}${preRelease}?${build}?`,tilde=`^${loneTilde}${xRangePlain}$`,xRange=`^${gtlt}\\s*${xRangePlain}$`,comparator=`^${gtlt}\\s*(${fullPlain})$|^$`,gte0="^\\s*>=\\s*0.0.0\\s*$";function parseRegex(e){return new RegExp(e)}function isXVersion(e){return!e||"x"===e.toLowerCase()||"*"===e}function pipe(...e){return t=>e.reduce((e,t)=>t(e),t)}function extractComparator(e){return e.match(parseRegex(comparator))}function combineVersion(e,t,r,n){let i=`${e}.${t}.${r}`;return n?`${i}-${n}`:i}function parseHyphen(e){return e.replace(parseRegex(hyphenRange),(e,t,r,n,i,s,o,a,l,u,c,h)=>(t=isXVersion(r)?"":isXVersion(n)?`>=${r}.0.0`:isXVersion(i)?`>=${r}.${n}.0`:`>=${t}`,a=isXVersion(l)?"":isXVersion(u)?`<${Number(l)+1}.0.0-0`:isXVersion(c)?`<${l}.${Number(u)+1}.0-0`:h?`<=${l}.${u}.${c}-${h}`:`<=${a}`,`${t} ${a}`.trim()))}function parseComparatorTrim(e){return e.replace(parseRegex(comparatorTrim),"$1$2$3")}function parseTildeTrim(e){return e.replace(parseRegex(tildeTrim),"$1~")}function parseCaretTrim(e){return e.replace(parseRegex(caretTrim),"$1^")}function parseCarets(e){return e.trim().split(/\s+/).map(e=>e.replace(parseRegex(caret),(e,t,r,n,i)=>isXVersion(t)?"":isXVersion(r)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:isXVersion(n)?"0"===t?`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.0 <${Number(t)+1}.0.0-0`:i?"0"===t?"0"===r?`>=${t}.${r}.${n}-${i} <${t}.${r}.${Number(n)+1}-0`:`>=${t}.${r}.${n}-${i} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n}-${i} <${Number(t)+1}.0.0-0`:"0"===t?"0"===r?`>=${t}.${r}.${n} <${t}.${r}.${Number(n)+1}-0`:`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n} <${Number(t)+1}.0.0-0`)).join(" ")}function parseTildes(e){return e.trim().split(/\s+/).map(e=>e.replace(parseRegex(tilde),(e,t,r,n,i)=>isXVersion(t)?"":isXVersion(r)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:isXVersion(n)?`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`:i?`>=${t}.${r}.${n}-${i} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`)).join(" ")}function parseXRanges(e){return e.split(/\s+/).map(e=>e.trim().replace(parseRegex(xRange),(e,t,r,n,i,s)=>{let o=isXVersion(r),a=o||isXVersion(n),l=a||isXVersion(i);return"="===t&&l&&(t=""),s="",o?">"===t||"<"===t?"<0.0.0-0":"*":t&&l?(a&&(n=0),i=0,">"===t?(t=">=",a?(r=Number(r)+1,n=0):n=Number(n)+1,i=0):"<="===t&&(t="<",a?r=Number(r)+1:n=Number(n)+1),"<"===t&&(s="-0"),`${t+r}.${n}.${i}${s}`):a?`>=${r}.0.0${s} <${Number(r)+1}.0.0-0`:l?`>=${r}.${n}.0${s} <${r}.${Number(n)+1}.0-0`:e})).join(" ")}function parseStar(e){return e.trim().replace(parseRegex(star),"")}function parseGTE0(e){return e.trim().replace(parseRegex(gte0),"")}function compareAtom(e,t){return(e=Number(e)||e)>(t=Number(t)||t)?1:e===t?0:-1}function comparePreRelease(e,t){let{preRelease:r}=e,{preRelease:n}=t;if(void 0===r&&n)return 1;if(r&&void 0===n)return -1;if(void 0===r&&void 0===n)return 0;for(let e=0,t=r.length;e<=t;e++){let t=r[e],i=n[e];if(t!==i)return void 0===t&&void 0===i?0:t?i?compareAtom(t,i):-1:1}return 0}function compareVersion(e,t){return compareAtom(e.major,t.major)||compareAtom(e.minor,t.minor)||compareAtom(e.patch,t.patch)||comparePreRelease(e,t)}function eq(e,t){return e.version===t.version}function compare(e,t){switch(e.operator){case"":case"=":return eq(e,t);case">":return 0>compareVersion(e,t);case">=":return eq(e,t)||0>compareVersion(e,t);case"<":return compareVersion(e,t)>0;case"<=":return eq(e,t)||compareVersion(e,t)>0;case void 0:return!0;default:return!1}}function parseComparatorString(e){return pipe(parseCarets,parseTildes,parseXRanges,parseStar)(e)}function parseRange(e){return pipe(parseHyphen,parseComparatorTrim,parseTildeTrim,parseCaretTrim)(e.trim()).split(/\s+/).join(" ")}function satisfy(e,t){if(!e)return!1;let r=parseRange(t).split(" ").map(e=>parseComparatorString(e)).join(" ").split(/\s+/).map(e=>parseGTE0(e)),n=extractComparator(e);if(!n)return!1;let[,i,,s,o,a,l]=n,u={operator:i,version:combineVersion(s,o,a,l),major:s,minor:o,patch:a,preRelease:null==l?void 0:l.split(".")};for(let e of r){let t=extractComparator(e);if(!t)return!1;let[,r,,n,i,s,o]=t;if(!compare({operator:r,version:combineVersion(n,i,s,o),major:n,minor:i,patch:s,preRelease:null==o?void 0:o.split(".")},u))return!1}return!0}function _extends$6(){return(_extends$6=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function formatShare(e,t){let r;return r="get"in e?e.get:()=>Promise.resolve(e.lib),_extends$6({deps:[],useIn:[],from:t,loading:null},e,{shareConfig:_extends$6({requiredVersion:`^${e.version}`,singleton:!1,eager:!1,strictVersion:!1},e.shareConfig),get:r,loaded:"lib"in e||void 0,scope:Array.isArray(e.scope)?e.scope:["default"],strategy:e.strategy||"version-first"})}function formatShareConfigs(e,t){return e?Object.keys(e).reduce((r,n)=>(r[n]=formatShare(e[n],t),r),{}):{}}function versionLt(e,t){let r=e=>{if(!Number.isNaN(Number(e))){let t=e.split("."),r=e;for(let e=0;e<3-t.length;e++)r+=".0";return r}return e};return!!satisfy(r(e),`<=${r(t)}`)}let findVersion=(e,t,r,n)=>{let i=e[t][r],s=n||function(e,t){return versionLt(e,t)};return Object.keys(i).reduce((e,t)=>!e||s(e,t)||"0"===e?t:e,0)},isLoaded=e=>!!e.loaded||"function"==typeof e.lib;function findSingletonVersionOrderByVersion(e,t,r){let n=e[t][r];return findVersion(e,t,r,function(e,t){return!isLoaded(n[e])&&versionLt(e,t)})}function findSingletonVersionOrderByLoaded(e,t,r){let n=e[t][r];return findVersion(e,t,r,function(e,t){return isLoaded(n[t])?!isLoaded(n[e])||!!versionLt(e,t):!isLoaded(n[e])&&versionLt(e,t)})}function getFindShareFunction(e){return"loaded-first"===e?findSingletonVersionOrderByLoaded:findSingletonVersionOrderByVersion}function getRegisteredShare(e,t,r,n){if(!e)return;let{shareConfig:i,scope:s=DEFAULT_SCOPE,strategy:o}=r;for(let a of Array.isArray(s)?s:[s])if(i&&e[a]&&e[a][t]){let{requiredVersion:s}=i,l=getFindShareFunction(o)(e,a,t),u=()=>{if(i.singleton){if("string"==typeof s&&!satisfy(l,s)){let n=`Version ${l} from ${l&&e[a][t][l].from} of shared singleton module ${t} does not satisfy the requirement of ${r.from} which needs ${s})`;i.strictVersion?error(n):warn$1(n)}return e[a][t][l]}if(!1===s||"*"===s||satisfy(l,s))return e[a][t][l];for(let[r,n]of Object.entries(e[a][t]))if(satisfy(r,s))return n},c={shareScopeMap:e,scope:a,pkgName:t,version:l,GlobalFederation:Global.__FEDERATION__,resolver:u};return(n.emit(c)||c).resolver()}}function getGlobalShareScope(){return Global.__FEDERATION__.__SHARE__}function _define_property$3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Y,V,T,j,x,H,Q,C,G,_obj,_obj1,MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",BROWSER_LOG_VALUE="1",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},NameTransformMap=(_obj={},_define_property$3(_obj,NameTransformSymbol.AT,"scope_"),_define_property$3(_obj,NameTransformSymbol.HYPHEN,"_"),_define_property$3(_obj,NameTransformSymbol.SLASH,"__"),_obj);_obj1={},_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.AT],NameTransformSymbol.AT),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.HYPHEN],NameTransformSymbol.HYPHEN),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.SLASH],NameTransformSymbol.SLASH);var SEPARATOR=":";function isBrowserEnv(){return"u">typeof window}function isDebugMode(){return"u">typeof process&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:"u">typeof FEDERATION_DEBUG&&!!FEDERATION_DEBUG}function _array_like_to_array$2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _array_without_holes(e){if(Array.isArray(e))return _array_like_to_array$2(e)}function _class_call_check(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _create_class(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _define_property$2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _iterable_to_array$1(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _non_iterable_spread(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(e){return _array_without_holes(e)||_iterable_to_array$1(e)||_unsupported_iterable_to_array$2(e)||_non_iterable_spread()}function _unsupported_iterable_to_array$2(e,t){if(e){if("string"==typeof e)return _array_like_to_array$2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _array_like_to_array$2(e,t)}}function safeToString(e){try{return JSON.stringify(e,null,2)}catch{return""}}var DEBUG_LOG="[ FEDERATION DEBUG ]";function safeGetLocalStorageItem(){try{if("u">typeof window&&window.localStorage)return localStorage.getItem(BROWSER_LOG_KEY)===BROWSER_LOG_VALUE}catch{return"u">typeof document}return!1}var Logger=function(){function e(t){_class_call_check(this,e),_define_property$2(this,"enable",!1),_define_property$2(this,"identifier",void 0),this.identifier=t||DEBUG_LOG,isBrowserEnv()&&safeGetLocalStorageItem()?this.enable=!0:isDebugMode()&&(this.enable=!0)}return _create_class(e,[{key:"info",value:function(e,t){if(this.enable){var r=safeToString(t)||"";isBrowserEnv()?console.info("%c ".concat(this.identifier,": ").concat(e," ").concat(r),"color:#3300CC"):console.info("\x1b[34m%s","".concat(this.identifier,": ").concat(e," ").concat(r?`
`.concat(r):""))}}},{key:"logOriginalInfo",value:function(){for(var e,t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];this.enable&&(isBrowserEnv()?(console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(e=console).log.apply(e,_to_consumable_array(n))):(console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(t=console).log.apply(t,_to_consumable_array(n))))}}]),e}(),LOG_CATEGORY="[ Federation Runtime ]";new Logger;var composeKeyWithSeparator=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length?t.reduce(function(e,t){return t?e?"".concat(e).concat(SEPARATOR).concat(t):t:e},""):""},getResourceUrl=function(e,t){if(!("getPublicPath"in e))return"publicPath"in e?"".concat(e.publicPath).concat(t):(console.warn("Can not get resource url, if in debug mode, please ignore",e,t),"");var r=Function(e.getPublicPath)();return"".concat(r).concat(t)},warn=function(e){console.warn("".concat(LOG_CATEGORY,": ").concat(e))};function _define_property$1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _object_spread$1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){_define_property$1(e,t,r[t])})}return e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _object_spread_props(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var simpleJoinRemoteEntry=function(e,t){if(!e)return t;var r=function(e){if("."===e)return"";if(e.startsWith("./"))return e.replace("./","");if(e.startsWith("/")){var t=e.slice(1);return t.endsWith("/")?t.slice(0,-1):t}return e}(e);return r?r.endsWith("/")?"".concat(r).concat(t):"".concat(r,"/").concat(t):t};function generateSnapshotFromManifest(e){var t,r,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.remotes,o=void 0===s?{}:s,a=i.overrides,l=void 0===a?{}:a,u=i.version,c=function(){return"publicPath"in e.metaData?e.metaData.publicPath:e.metaData.getPublicPath},h=Object.keys(l),d={};Object.keys(o).length||(d=(null===(t=e.remotes)||void 0===t?void 0:t.reduce(function(e,t){var r,n=t.federationContainerName;return r=h.includes(n)?l[n]:"version"in t?t.version:t.entry,e[n]={matchedVersion:r},e},{}))||{}),Object.keys(o).forEach(function(e){return d[e]={matchedVersion:h.includes(e)?l[e]:o[e]}});var f=e.metaData,p=f.remoteEntry,m=p.path,g=p.name,y=p.type,v=f.types,b=f.buildInfo.buildVersion,w=f.globalName,x=e.exposes,M={version:u||"",buildVersion:b,globalName:w,remoteEntry:simpleJoinRemoteEntry(m,g),remoteEntryType:y,remoteTypes:simpleJoinRemoteEntry(v.path,v.name),remoteTypesZip:v.zip||"",remoteTypesAPI:v.api||"",remotesInfo:d,shared:null==e?void 0:e.shared.map(function(e){return{assets:e.assets,sharedName:e.name}}),modules:null==x?void 0:x.map(function(e){return{moduleName:e.name,modulePath:e.path,assets:e.assets}})};if(!(null===(r=e.metaData)||void 0===r)&&r.prefetchInterface){var E=e.metaData.prefetchInterface;M=_object_spread_props(_object_spread$1({},M),{prefetchInterface:E})}if(!(null===(n=e.metaData)||void 0===n)&&n.prefetchEntry){var A=e.metaData.prefetchEntry,N=A.path,I=A.name,T=A.type;M=_object_spread_props(_object_spread$1({},M),{prefetchEntry:simpleJoinRemoteEntry(N,I),prefetchEntryType:T})}return"publicPath"in e.metaData?_object_spread_props(_object_spread$1({},M),{publicPath:c()}):_object_spread_props(_object_spread$1({},M),{getPublicPath:c()})}function isManifestProvider(e){return!!("remoteEntry"in e&&e.remoteEntry.includes(MANIFEST_EXT))}function asyncGeneratorStep$1(e,t,r,n,i,s,o){try{var a=e[s](o),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,i)}function _async_to_generator$1(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){asyncGeneratorStep$1(s,n,i,o,a,"next",e)}function a(e){asyncGeneratorStep$1(s,n,i,o,a,"throw",e)}o(void 0)})}}function _instanceof(e,t){return null!=t&&"u">typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _ts_generator$1(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function safeWrapper(e,t){return _safeWrapper.apply(this,arguments)}function _safeWrapper(){return(_safeWrapper=_async_to_generator$1(function(e,t){var r;return _ts_generator$1(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:return r=n.sent(),t||warn(r),[2];case 3:return[2]}})})).apply(this,arguments)}function isStaticResourcesEqual(e,t){var r=/^(https?:)?\/\//i;return e.replace(r,"").replace(/\/$/,"")===t.replace(r,"").replace(/\/$/,"")}function createScript(e,t,r,n){for(var i=null,s=!0,o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var l=o[a],u=l.getAttribute("src");if(u&&isStaticResourcesEqual(u,e)){i=l,s=!1;break}}if(!i&&((i=document.createElement("script")).type="text/javascript",i.src=e,n)){var c=n(e);_instanceof(c,HTMLScriptElement)&&(i=c)}r&&Object.keys(r).forEach(function(e){i&&("async"===e||"defer"===e?i[e]=r[e]:i.setAttribute(e,r[e]))});var h=function(e,r){if(i&&(i.onerror=null,i.onload=null,safeWrapper(function(){null!=i&&i.parentNode&&i.parentNode.removeChild(i)}),e)){var n=e(r);return t(),n}t()};return i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),{script:i,needAttach:s}}function createLink(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=null,s=!0,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var l=o[a],u=l.getAttribute("href"),c=l.getAttribute("ref");if(u&&isStaticResourcesEqual(u,e)&&c===r.ref){i=l,s=!1;break}}if(!i&&((i=document.createElement("link")).setAttribute("href",e),n)){var h=n(e);_instanceof(h,HTMLLinkElement)&&(i=h)}r&&Object.keys(r).forEach(function(e){i&&i.setAttribute(e,r[e])});var d=function(e,r){if(i&&(i.onerror=null,i.onload=null,safeWrapper(function(){null!=i&&i.parentNode&&i.parentNode.removeChild(i)}),e)){var n=e(r);return t(),n}t()};return i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),{link:i,needAttach:s}}function loadScript(e,t){var r=t.attrs,n=t.createScriptHook;return new Promise(function(t,i){var s=createScript(e,t,r,n),o=s.script;s.needAttach&&document.getElementsByTagName("head")[0].appendChild(o)})}function _array_like_to_array(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _array_with_holes(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,r,n,i,s,o){try{var a=e[s](o),l=a.value}catch(e){r(e);return}a.done?t(l):Promise.resolve(l).then(n,i)}function _async_to_generator(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var s=e.apply(t,r);function o(e){asyncGeneratorStep(s,n,i,o,a,"next",e)}function a(e){asyncGeneratorStep(s,n,i,o,a,"throw",e)}o(void 0)})}}function _iterable_to_array_limit(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,s=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!(t&&s.length===t));o=!0);}catch(e){a=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw i}}return s}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(e,t){return _array_with_holes(e)||_iterable_to_array_limit(e,t)||_unsupported_iterable_to_array(e,t)||_non_iterable_rest()}function _unsupported_iterable_to_array(e,t){if(e){if("string"==typeof e)return _array_like_to_array(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _array_like_to_array(e,t)}}function _ts_generator(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function importNodeModule(e){if(!e)throw Error("import specifier is required");return Function("name","return import(name)")(e).then(function(e){return e.default}).catch(function(t){throw console.error("Error importing module ".concat(e,":"),t),t})}function createScriptNode(url,cb,attrs,createScriptHook){if(createScriptHook){var urlObj,hookResult=createScriptHook(url);hookResult&&"object"==typeof hookResult&&"url"in hookResult&&(url=hookResult.url)}try{urlObj=new URL(url)}catch(t){console.error("Error constructing URL:",t),cb(Error("Invalid URL: ".concat(t)));return}var getFetch=function(){var e=_async_to_generator(function(){var e;return _ts_generator(this,function(t){switch(t.label){case 0:return typeof fetch>"u"?[4,importNodeModule("node-fetch")]:[3,2];case 1:return[2,(null==(e=t.sent())?void 0:e.default)||e];case 2:return[2,fetch];case 3:return[2]}})});return function(){return e.apply(this,arguments)}}();console.log("fetching",urlObj.href),getFetch().then(function(f){f(urlObj.href).then(function(e){return e.text()}).then(function(){var _ref=_async_to_generator(function(data){var _ref,path,vm,scriptContext,urlDirname,filename,script,exportedInterface,container;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Promise.all([importNodeModule("path"),importNodeModule("vm")])];case 1:_ref=_sliced_to_array.apply(void 0,[_state.sent(),2]),path=_ref[0],vm=_ref[1],scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);try{if(script=new vm.Script("(function(exports, module, require, __dirname, __filename) {".concat(data,`
})`),filename),script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename),exportedInterface=scriptContext.module.exports||scriptContext.exports,attrs&&exportedInterface&&attrs.globalName)return container=exportedInterface[attrs.globalName]||exportedInterface,cb(void 0,container),[2];cb(void 0,exportedInterface)}catch(t){cb(Error("Script execution error: ".concat(t)))}return[2]}})});return function(e){return _ref.apply(this,arguments)}}()).catch(function(e){cb(e)})})}function loadScriptNode(e,t){return new Promise(function(r,n){createScriptNode(e,function(e,i){if(e)n(e);else{var s,o,a=(null==t||null===(s=t.attrs)||void 0===s?void 0:s.globalName)||"__FEDERATION_".concat(null==t||null===(o=t.attrs)||void 0===o?void 0:o.name,":custom__");r(globalThis[a]=i)}},t.attrs,t.createScriptHook)})}function matchRemoteWithNameAndExpose(e,t){for(let r of e){let e=t.startsWith(r.name),n=t.replace(r.name,"");if(e){if(n.startsWith("/"))return{pkgNameOrAlias:r.name,expose:n=`.${n}`,remote:r};if(""===n)return{pkgNameOrAlias:r.name,expose:".",remote:r}}let i=r.alias&&t.startsWith(r.alias),s=r.alias&&t.replace(r.alias,"");if(r.alias&&i){if(s&&s.startsWith("/"))return{pkgNameOrAlias:r.alias,expose:s=`.${s}`,remote:r};if(""===s)return{pkgNameOrAlias:r.alias,expose:".",remote:r}}}}function matchRemote(e,t){for(let r of e)if(t===r.name||r.alias&&t===r.alias)return r}function registerPlugins(e,t){let r=getGlobalHostPlugins();r.length>0&&r.forEach(t=>{null!=e&&e.find(e=>e.name!==t.name)&&e.push(t)}),e&&e.length>0&&e.forEach(e=>{t.forEach(t=>{t.applyPlugin(e)})})}function _extends$5(){return(_extends$5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}async function loadEsmEntry({entry:e,remoteEntryExports:t}){return new Promise((r,n)=>{try{t?r(t):Function("callbacks",`import("${e}").then(callbacks[0]).catch(callbacks[1])`)([r,n])}catch(e){n(e)}})}async function loadEntryScript({name:e,globalName:t,entry:r,createScriptHook:n}){let{entryExports:i}=getRemoteEntryExports(e,t);return i||(typeof document>"u"?loadScriptNode(r,{attrs:{name:e,globalName:t},createScriptHook:n}).then(()=>{let{remoteEntryKey:n,entryExports:i}=getRemoteEntryExports(e,t);return assert(i,`
        Unable to use the ${e}'s '${r}' URL with ${n}'s globalName to get remoteEntry exports.
        Possible reasons could be:

        1. '${r}' is not the correct URL, or the remoteEntry resource or name is incorrect.

        2. ${n} cannot be used to get remoteEntry exports in the window object.
      `),i}).catch(e=>e):loadScript(r,{attrs:{},createScriptHook:n}).then(()=>{let{remoteEntryKey:n,entryExports:i}=getRemoteEntryExports(e,t);return assert(i,`
      Unable to use the ${e}'s '${r}' URL with ${n}'s globalName to get remoteEntry exports.
      Possible reasons could be:

      1. '${r}' is not the correct URL, or the remoteEntry resource or name is incorrect.

      2. ${n} cannot be used to get remoteEntry exports in the window object.
    `),i}).catch(e=>e))}function getRemoteEntryUniqueKey(e){let{entry:t,name:r}=e;return composeKeyWithSeparator(r,t)}async function getRemoteEntry({remoteEntryExports:e,remoteInfo:t,createScriptHook:r}){let{entry:n,name:i,type:s,entryGlobalName:o}=t,a=getRemoteEntryUniqueKey(t);return e||(globalLoading[a]||("esm"===s?globalLoading[a]=loadEsmEntry({entry:n,remoteEntryExports:e}):globalLoading[a]=loadEntryScript({name:i,globalName:o,entry:n,createScriptHook:r})),globalLoading[a])}function getRemoteInfo(e){return _extends$5({},e,{entry:"entry"in e?e.entry:"",type:e.type||DEFAULT_REMOTE_TYPE,entryGlobalName:e.entryGlobalName||e.name,shareScope:e.shareScope||DEFAULT_SCOPE})}function _extends$4(){return(_extends$4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let Module=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;let e=await getRemoteEntry({remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,createScriptHook:e=>{let t=this.host.loaderHook.lifecycle.createScript.emit({url:e});if(typeof document>"u"||t instanceof HTMLScriptElement)return t}});return assert(e,`remoteEntryExports is undefined 
 ${safeToString$1(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,t){let{loadFactory:r=!0}=t||{loadFactory:!0},n=await this.getEntry();if(!this.inited){let e=this.host.shareScopeMap,t=this.remoteInfo.shareScope||"default";e[t]||(e[t]={});let r=e[t],i=[],s={version:this.remoteInfo.version||""};Object.defineProperty(s,"hostId",{value:this.host.options.id||this.host.name,enumerable:!1});let o=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:r,remoteEntryInitOptions:s,initScope:i,remoteInfo:this.remoteInfo,origin:this.host});await n.init(o.shareScope,o.initScope,o.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(_extends$4({},o,{remoteEntryExports:n}))}this.lib=n,this.inited=!0;let i=await n.get(e);return assert(i,`${getFMId(this.remoteInfo)} remote don't export ${e}.`),r?await i():i}constructor({remoteInfo:e,host:t}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=t}};class SyncHook{on(e){"function"==typeof e&&this.listeners.add(e)}once(e){let t=this;this.on(function r(...n){return t.remove(r),e.apply(null,n)})}emit(...e){let t;return this.listeners.size>0&&this.listeners.forEach(r=>{t=r(...e)}),t}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}}class AsyncHook extends SyncHook{emit(...e){let t;let r=Array.from(this.listeners);if(r.length>0){let n=0,i=t=>!1!==t&&(n<r.length?Promise.resolve(r[n++].apply(null,e)).then(i):t);t=i()}return Promise.resolve(t)}}function checkReturnData(e,t){if(!isObject(t))return!1;if(e!==t){for(let r in e)if(!(r in t))return!1}return!0}class SyncWaterfallHook extends SyncHook{emit(e){for(let t of(isObject(e)||error(`The data for the "${this.type}" hook should be an object.`),this.listeners))try{let r=t(e);if(checkReturnData(e,r))e=r;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(e){warn$1(e),this.onerror(e)}return e}constructor(e){super(),this.onerror=error,this.type=e}}class AsyncWaterfallHook extends SyncHook{emit(e){isObject(e)||error(`The response data for the "${this.type}" hook must be an object.`);let t=Array.from(this.listeners);if(t.length>0){let r=0,n=t=>(warn$1(t),this.onerror(t),e),i=s=>{if(checkReturnData(e,s)){if(e=s,r<t.length)try{return Promise.resolve(t[r++](e)).then(i,n)}catch(e){return n(e)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(i(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=error,this.type=e}}class PluginSystem{applyPlugin(e){assert(isPlainObject(e),"Plugin configuration is invalid.");let t=e.name;assert(t,"A name must be provided by the plugin."),this.registerPlugins[t]||(this.registerPlugins[t]=e,Object.keys(this.lifecycle).forEach(t=>{let r=e[t];r&&this.lifecycle[t].on(r)}))}removePlugin(e){assert(e,"A name is required.");let t=this.registerPlugins[e];assert(t,`The plugin "${e}" is not registered.`),Object.keys(t).forEach(e=>{"name"!==e&&this.lifecycle[e].remove(t[e])})}inherit({lifecycle:e,registerPlugins:t}){Object.keys(e).forEach(t=>{assert(!this.lifecycle[t],`The hook "${t}" has a conflict and cannot be inherited.`),this.lifecycle[t]=e[t]}),Object.keys(t).forEach(e=>{assert(!this.registerPlugins[e],`The plugin "${e}" has a conflict and cannot be inherited.`),this.applyPlugin(t[e])})}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}}function _extends$3(){return(_extends$3=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function defaultPreloadArgs(e){return _extends$3({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},e)}function formatPreloadArgs(e,t){return t.map(t=>{let r=matchRemote(e,t.nameOrAlias);return assert(r,`Unable to preload ${t.nameOrAlias} as it is not included in ${!r&&safeToString$1({remoteInfo:r,remotes:e})}`),{remote:r,preloadConfig:defaultPreloadArgs(t)}})}function normalizePreloadExposes(e){return e?e.map(e=>"."===e?e:e.startsWith("./")?e.replace("./",""):e):[]}function preloadAssets(e,t,r){let{cssAssets:n,jsAssetsWithoutEntry:i,entryAssets:s}=r;if(t.options.inBrowser){s.forEach(r=>{let{moduleInfo:n}=r,i=t.moduleCache.get(e.name);getRemoteEntry(i?{remoteInfo:n,remoteEntryExports:i.remoteEntryExports,createScriptHook:e=>{let r=t.loaderHook.lifecycle.createScript.emit({url:e});if(r instanceof HTMLScriptElement)return r}}:{remoteInfo:n,remoteEntryExports:void 0,createScriptHook:e=>{let r=t.loaderHook.lifecycle.createScript.emit({url:e});if(r instanceof HTMLScriptElement)return r}})});let r=document.createDocumentFragment();n.forEach(e=>{let{link:n,needAttach:i}=createLink(e,()=>{},{rel:"preload",as:"style"},e=>{let r=t.loaderHook.lifecycle.createLink.emit({url:e});if(r instanceof HTMLLinkElement)return r});i&&r.appendChild(n)}),i.forEach(e=>{let{link:r,needAttach:n}=createLink(e,()=>{},{rel:"preload",as:"script"},e=>{let r=t.loaderHook.lifecycle.createLink.emit({url:e});if(r instanceof HTMLLinkElement)return r});n&&document.head.appendChild(r)}),document.head.appendChild(r)}}function _extends$2(){return(_extends$2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function assignRemoteInfo(e,t){"remoteEntry"in t&&t.remoteEntry||error(`The attribute remoteEntry of ${name} must not be undefined.`);let{remoteEntry:r}=t,n=getResourceUrl(t,r);e.type=t.remoteEntryType,e.entryGlobalName=t.globalName,e.entry=n,e.version=t.version,e.buildVersion=t.buildVersion}function snapshotPlugin(){return{name:"snapshot-plugin",async afterResolve(e){let{remote:t,pkgNameOrAlias:r,expose:n,origin:i,remoteInfo:s}=e;if(!isRemoteInfoWithEntry(t)||!isPureRemoteEntry(t)){let{remoteSnapshot:o,globalSnapshot:a}=await i.snapshotHandler.loadRemoteSnapshotInfo(t);assignRemoteInfo(s,o);let l={remote:t,preloadConfig:{nameOrAlias:r,exposes:[n],resourceCategory:"sync",share:!1,depsRemote:!1}},u=await i.hooks.lifecycle.generatePreloadAssets.emit({origin:i,preloadOptions:l,remoteInfo:s,remote:t,remoteSnapshot:o,globalSnapshot:a});return u&&preloadAssets(s,i,u),_extends$2({},e,{remoteSnapshot:o})}return e}}}function splitId(e){let t=e.split(":");return 1===t.length?{name:t[0],version:void 0}:2===t.length?{name:t[0],version:t[1]}:{name:t[1],version:t[2]}}function traverseModuleInfo(e,t,r,n,i={},s){let{value:o}=getInfoWithoutType(e,getFMId(t)),a=s||o;if(a&&!isManifestProvider(a)&&(r(a,t,n),a.remotesInfo))for(let t of Object.keys(a.remotesInfo)){if(i[t])continue;i[t]=!0;let n=splitId(t),s=a.remotesInfo[t];traverseModuleInfo(e,{name:n.name,version:s.matchedVersion},r,!1,i,void 0)}}function generatePreloadAssets(e,t,r,n,i){let s=[],o=[],a=[],l=new Set,u=new Set,{options:c}=e,{preloadConfig:h}=t,{depsRemote:d}=h;traverseModuleInfo(n,r,(t,r,n)=>{let i;if(n)i=h;else if(Array.isArray(d)){let e=d.find(e=>e.nameOrAlias===r.name||e.nameOrAlias===r.alias);if(!e)return;i=defaultPreloadArgs(e)}else{if(!0!==d)return;i=h}let l=getResourceUrl(t,"remoteEntry"in t?t.remoteEntry:"");l&&a.push({name:r.name,moduleInfo:{name:r.name,entry:l,type:"remoteEntryType"in t?t.remoteEntryType:"global",entryGlobalName:"globalName"in t?t.globalName:r.name,shareScope:"",version:"version"in t?t.version:void 0},url:l});let u="modules"in t?t.modules:[],c=normalizePreloadExposes(i.exposes);if(c.length&&"modules"in t){var f;u=null==t||null==(f=t.modules)?void 0:f.reduce((e,t)=>((null==c?void 0:c.indexOf(t.moduleName))!==-1&&e.push(t),e),[])}function p(e){let r=e.map(e=>getResourceUrl(t,e));return i.filter?r.filter(i.filter):r}if(u){let n=u.length;for(let a=0;a<n;a++){let n=u[a],l=`${r.name}/${n.moduleName}`;e.hooks.lifecycle.handlePreloadModule.emit({id:"."===n.moduleName?r.name:l,name:r.name,remoteSnapshot:t,preloadConfig:i,remote:r,origin:e}),getPreloaded(l)||("all"===i.resourceCategory?(s.push(...p(n.assets.css.async)),s.push(...p(n.assets.css.sync)),o.push(...p(n.assets.js.async))):(i.resourceCategory="sync",s.push(...p(n.assets.css.sync))),o.push(...p(n.assets.js.sync)),setPreloaded(l))}}},!0,{},i),i.shared&&i.shared.forEach(t=>{var r;let n=null==(r=c.shared)?void 0:r[t.sharedName];if(!n)return;let i=getRegisteredShare(e.shareScopeMap,t.sharedName,n,e.hooks.lifecycle.resolveShare);i&&"function"==typeof i.lib&&(t.assets.js.sync.forEach(e=>{l.add(e)}),t.assets.css.sync.forEach(e=>{u.add(e)}))});let f=o.filter(e=>!l.has(e));return{cssAssets:s.filter(e=>!u.has(e)),jsAssetsWithoutEntry:f,entryAssets:a}}let generatePreloadAssetsPlugin=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(e){let{origin:t,preloadOptions:r,remoteInfo:n,remote:i,globalSnapshot:s,remoteSnapshot:o}=e;return isRemoteInfoWithEntry(i)&&isPureRemoteEntry(i)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:i.name,url:i.entry,moduleInfo:{name:n.name,entry:i.entry,type:"global",entryGlobalName:"",shareScope:""}}]}:(assignRemoteInfo(n,o),generatePreloadAssets(t,r,n,s,o))}}};function _extends$1(){return(_extends$1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}class SnapshotHandler{async loadSnapshot(e){let{options:t}=this.HostInstance,{hostGlobalSnapshot:r,remoteSnapshot:n,globalSnapshot:i}=this.getGlobalRemoteInfo(e),{remoteSnapshot:s,globalSnapshot:o}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:r,remoteSnapshot:n,globalSnapshot:i});return{remoteSnapshot:s,globalSnapshot:o}}async loadRemoteSnapshotInfo(e){let{options:t}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:t,moduleInfo:e});let r=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version});r||(r={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},addGlobalSnapshot({[this.HostInstance.options.name]:r})),r&&"remotesInfo"in r&&!getInfoWithoutType(r.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(r.remotesInfo=_extends$1({},null==r?void 0:r.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));let{hostGlobalSnapshot:n,remoteSnapshot:i,globalSnapshot:s}=this.getGlobalRemoteInfo(e),{remoteSnapshot:o,globalSnapshot:a}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:n,remoteSnapshot:i,globalSnapshot:s});if(o){if(isManifestProvider(o)){let t=await this.getManifestJson(o.remoteEntry,e,{}),r=setGlobalSnapshotInfoByModuleInfo(_extends$1({},e,{entry:o.remoteEntry}),t);return{remoteSnapshot:t,globalSnapshot:r}}{let{remoteSnapshot:t}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:o,from:"global"});return{remoteSnapshot:t,globalSnapshot:a}}}if(isRemoteInfoWithEntry(e)){let t=await this.getManifestJson(e.entry,e,{}),r=setGlobalSnapshotInfoByModuleInfo(e,t),{remoteSnapshot:n}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:t,from:"global"});return{remoteSnapshot:n,globalSnapshot:r}}error(`
          Cannot get remoteSnapshot with the name: '${e.name}', version: '${e.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:

          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.

          2. The remote '${e.name}' version '${e.version}' is not released.

          The transformed module info: ${JSON.stringify(a)}
        `)}getGlobalRemoteInfo(e){let t=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version}),r=t&&"remotesInfo"in t&&t.remotesInfo&&getInfoWithoutType(t.remotesInfo,e.name).value;return r&&r.matchedVersion?{hostGlobalSnapshot:t,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:e.name,version:r.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:e.name,version:"version"in e?e.version:void 0})}}async getManifestJson(e,t,r){let n=async()=>{let r=this.manifestCache.get(e);if(r)return r;try{let t=await this.loaderHook.lifecycle.fetch.emit(e,{});return t&&t instanceof Response||(t=await fetch(e,{})),r=await t.json(),assert(r.metaData&&r.exposes&&r.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,r),r}catch(r){error(`Failed to get manifestJson for ${t.name}. The manifest URL is ${e}. Please ensure that the manifestUrl is accessible.
          
 Error message:
          
 ${r}`)}},i=async()=>{let r=await n(),i=generateSnapshotFromManifest(r,{version:e}),{remoteSnapshot:s}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:t,manifestJson:r,remoteSnapshot:i,manifestUrl:e,from:"manifest"});return s};return this.manifestLoading[e]||(this.manifestLoading[e]=i().then(e=>e)),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new PluginSystem({beforeLoadRemoteSnapshot:new AsyncHook("beforeLoadRemoteSnapshot"),loadSnapshot:new AsyncWaterfallHook("loadGlobalSnapshot"),loadRemoteSnapshot:new AsyncWaterfallHook("loadRemoteSnapshot")}),this.manifestLoading=Global.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _object_without_properties_loose(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}class FederationHost{_setGlobalShareScopeMap(){let e=getGlobalShareScope(),t=this.options.id||this.options.name;t&&!e[t]&&(e[t]=this.shareScopeMap)}initOptions(e){this.registerPlugins(e.plugins);let t=this.formatOptions(this.options,e);return this.options=t,t}async loadShare(e,t){var r;let n=Object.assign({},null==(r=this.options.shared)?void 0:r[e],t);null!=n&&n.scope&&await Promise.all(n.scope.map(async e=>{await Promise.all(this.initializeSharing(e,n.strategy))}));let{shareInfo:i}=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:n,shared:this.options.shared,origin:this});assert(i,`Cannot find ${e} Share in the ${this.options.name}. Please ensure that the ${e} Share parameters have been injected`);let s=getRegisteredShare(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare),o=e=>{e.useIn||(e.useIn=[]),addUniqueItem(e.useIn,this.options.name)};if(s&&s.lib)return o(s),s.lib;if(s&&s.loading&&!s.loaded){let e=await s.loading;return s.loaded=!0,s.lib||(s.lib=e),o(s),e}if(s){let t=(async()=>{let t=await s.get();i.lib=t,i.loaded=!0,o(i);let r=getRegisteredShare(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return r&&(r.lib=t,r.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:s,from:this.options.name,lib:null,loading:t}),t}{if(t)return!1;let r=(async()=>{let t=await i.get();i.lib=t,i.loaded=!0,o(i);let r=getRegisteredShare(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return r&&(r.lib=t,r.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:i,from:this.options.name,lib:null,loading:r}),r}}loadShareSync(e,t){var r;let n=Object.assign({},null==(r=this.options.shared)?void 0:r[e],t);null!=n&&n.scope&&n.scope.forEach(e=>{this.initializeSharing(e,n.strategy)});let i=getRegisteredShare(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare),s=e=>{e.useIn||(e.useIn=[]),addUniqueItem(e.useIn,this.options.name)};if(i){if("function"==typeof i.lib)return s(i),i.loaded||(i.loaded=!0,i.from===this.options.name&&(n.loaded=!0)),i.lib;if("function"==typeof i.get){let t=i.get();if(!(t instanceof Promise))return s(i),this.setShared({pkgName:e,loaded:!0,from:this.options.name,lib:t,shared:i}),t}}if(n.lib)return n.loaded||(n.loaded=!0),n.lib;if(n.get){let t=n.get();if(t instanceof Promise)throw Error(`
        The loadShareSync function was unable to load ${e}. The ${e} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${e} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${e} share was not registered with the 'lib' attribute.

      `);return n.lib=t,this.setShared({pkgName:e,loaded:!0,from:this.options.name,lib:n.lib,shared:n}),n.lib}throw Error(`
        The loadShareSync function was unable to load ${e}. The ${e} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${e} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${e} share was not registered with the 'lib' attribute.

      `)}initRawContainer(e,t,r){let n=new Module({host:this,remoteInfo:getRemoteInfo({name:e,entry:t})});return n.remoteEntryExports=r,this.moduleCache.set(e,n),n}async _getRemoteModuleAndOptions(e){let{id:t}=await this.hooks.lifecycle.beforeRequest.emit({id:e,options:this.options,origin:this}),r=matchRemoteWithNameAndExpose(this.options.remotes,t);assert(r,`
        Unable to locate ${t} in ${this.options.name}. Potential reasons for failure include:

        1. ${t} was not included in the 'remotes' parameter of ${this.options.name||"the host"}.

        2. ${t} could not be found in the 'remotes' of ${this.options.name} with either 'name' or 'alias' attributes.
        3. ${t} is not online, injected, or loaded.
        4. ${t}  cannot be accessed on the expected.
        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${t}.
      `);let{remote:n}=r,i=getRemoteInfo(n),s=await this.hooks.lifecycle.afterResolve.emit(_extends({id:t},r,{options:this.options,origin:this,remoteInfo:i})),{remote:o,expose:a}=s;assert(o&&a,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${t}.`);let l=this.moduleCache.get(o.name),u={host:this,remoteInfo:i};return l||(l=new Module(u),this.moduleCache.set(o.name,l)),{module:l,moduleOptions:u,remoteMatchInfo:s}}async loadRemote(e,t){try{let{loadFactory:r=!0}=t||{loadFactory:!0},{module:n,moduleOptions:i,remoteMatchInfo:s}=await this._getRemoteModuleAndOptions(e),{pkgNameOrAlias:o,remote:a,expose:l,id:u}=s,c=await n.get(l,t),h=await this.hooks.lifecycle.onLoad.emit({id:u,pkgNameOrAlias:o,expose:l,exposeModule:r?c:void 0,exposeModuleFactory:r?void 0:c,remote:a,options:i,moduleInstance:n,origin:this});return"function"==typeof h?h:c}catch(i){let{from:r="runtime"}=t||{from:"runtime"},n=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:i,from:r,origin:this});if(!n)throw i;return n}}async preloadRemote(e){await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOptions:e,options:this.options,origin:this});let t=formatPreloadArgs(this.options.remotes,e);await Promise.all(t.map(async e=>{let{remote:t}=e,r=getRemoteInfo(t),{globalSnapshot:n,remoteSnapshot:i}=await this.snapshotHandler.loadRemoteSnapshotInfo(t),s=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:this,preloadOptions:e,remote:t,remoteInfo:r,globalSnapshot:n,remoteSnapshot:i});s&&preloadAssets(r,this,s)}))}initializeSharing(e=DEFAULT_SCOPE,t){let r=this.shareScopeMap,n=this.options.name;r[e]||(r[e]={});let i=r[e],s=(e,t)=>{var r;let{version:s,eager:o}=t;i[e]=i[e]||{};let a=i[e],l=a[s],u=!!(l&&(l.eager||(null==(r=l.shareConfig)?void 0:r.eager)));(!l||"loaded-first"!==l.strategy&&!l.loaded&&(!o!=!u?o:n>l.from))&&(a[s]=t)},o=[],a=t=>t&&t.init&&t.init(r[e]),l=async e=>{let{module:t}=await this._getRemoteModuleAndOptions(e);if(t.getEntry){let e=await t.getEntry();t.inited||(a(e),t.inited=!0)}};return Object.keys(this.options.shared).forEach(t=>{let r=this.options.shared[t];r.scope.includes(e)&&s(t,r)}),"version-first"===t&&this.options.remotes.forEach(t=>{t.shareScope===e&&o.push(l(t.name))}),o}initShareScopeMap(e,t){this.shareScopeMap[e]=t,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:t,options:this.options,origin:this})}formatOptions(e,t){let r=formatShareConfigs(t.shared||{},t.name),n=_extends({},e.shared,r),{userOptions:i,options:s}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:t,options:e,shareInfo:n}),o=(i.remotes||[]).reduce((e,t)=>(this.registerRemote(t,e,{force:!1}),e),s.remotes);Object.keys(r).forEach(e=>{let n=r[e];!getRegisteredShare(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare)&&n&&n.lib&&this.setShared({pkgName:e,lib:n.lib,get:n.get,loaded:!0,shared:n,from:t.name})});let a=[...s.plugins];i.plugins&&i.plugins.forEach(e=>{a.includes(e)||a.push(e)});let l=_extends({},e,t,{plugins:a,remotes:o,shared:n});return this.hooks.lifecycle.init.emit({origin:this,options:l}),l}registerPlugins(e){registerPlugins(e,[this.hooks,this.snapshotHandler.hooks,this.loaderHook])}setShared({pkgName:e,shared:t,from:r,lib:n,loading:i,loaded:s,get:o}){let{version:a,scope:l="default"}=t,u=_object_without_properties_loose(t,["version","scope"]);(Array.isArray(l)?l:[l]).forEach(t=>{this.shareScopeMap[t]||(this.shareScopeMap[t]={}),this.shareScopeMap[t][e]||(this.shareScopeMap[t][e]={}),!this.shareScopeMap[t][e][a]&&(this.shareScopeMap[t][e][a]=_extends({version:a,scope:["default"]},u,{lib:n,loaded:s,loading:i}),o&&(this.shareScopeMap[t][e][a].get=o))})}removeRemote(e){let{name:t}=e,r=this.options.remotes.findIndex(e=>e.name===t);-1!==r&&this.options.remotes.splice(r,1);let n=this.moduleCache.get(e.name);if(n){let t=n.remoteInfo.entryGlobalName;globalThis[t]&&delete globalThis[t];let r=getRemoteEntryUniqueKey(n.remoteInfo);globalLoading[r]&&delete globalLoading[r],this.moduleCache.delete(e.name)}}registerRemote(e,t,r){let n=()=>{if(e.alias){let r=t.find(t=>{var r;return e.alias&&(t.name.startsWith(e.alias)||(null==(r=t.alias)?void 0:r.startsWith(e.alias)))});assert(!r,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${r&&r.name} name or alias`)}"entry"in e&&isBrowserEnv$1()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=DEFAULT_SCOPE),e.type||(e.type=DEFAULT_REMOTE_TYPE)},i=t.find(t=>t.name===e.name);if(i){let s=[`The remote "${e.name}" is already registered.`,null!=r&&r.force?"Hope you have known that OVERRIDE it may have some unexpected errors":'If you want to merge the remote, you can set "force: true".'];null!=r&&r.force&&(this.removeRemote(i),n(),t.push(e)),warn$1(s.join(" "))}else n(),t.push(e)}registerRemotes(e,t){e.forEach(e=>{this.registerRemote(e,this.options.remotes,{force:null==t?void 0:t.force})})}constructor(e){this.hooks=new PluginSystem({beforeInit:new SyncWaterfallHook("beforeInit"),init:new SyncHook,beforeRequest:new AsyncWaterfallHook("beforeRequest"),afterResolve:new AsyncWaterfallHook("afterResolve"),beforeInitContainer:new AsyncWaterfallHook("beforeInitContainer"),initContainerShareScopeMap:new AsyncWaterfallHook("initContainer"),initContainer:new AsyncWaterfallHook("initContainer"),onLoad:new AsyncHook("onLoad"),handlePreloadModule:new SyncHook("handlePreloadModule"),errorLoadRemote:new AsyncHook("errorLoadRemote"),beforeLoadShare:new AsyncWaterfallHook("beforeLoadShare"),loadShare:new AsyncHook,resolveShare:new SyncWaterfallHook("resolveShare"),beforePreloadRemote:new AsyncHook,generatePreloadAssets:new AsyncHook("generatePreloadAssets"),afterPreloadRemote:new AsyncHook}),this.version="0.1.2",this.moduleCache=new Map,this.loaderHook=new PluginSystem({getModuleInfo:new SyncHook,createScript:new SyncHook,createLink:new SyncHook,fetch:new AsyncHook("fetch")});let t={id:getBuilderId(),name:e.name,plugins:[snapshotPlugin(),generatePreloadAssetsPlugin()],remotes:[],shared:{},inBrowser:isBrowserEnv$1()};this.name=e.name,this.options=t,this.shareScopeMap={},this._setGlobalShareScopeMap(),this.snapshotHandler=new SnapshotHandler(this),this.registerPlugins([...t.plugins,...e.plugins||[]]),this.options=this.formatOptions(t,e)}}let FederationInstance=null;function init(e){let t=getGlobalFederationInstance(e.name,e.version);return t?(t.initOptions(e),FederationInstance||(FederationInstance=t),t):(setGlobalFederationInstance(FederationInstance=new(getGlobalFederationConstructor()||FederationHost)(e)),FederationInstance)}function loadRemote(...e){return assert(FederationInstance,"Please call init first"),FederationInstance.loadRemote.apply(FederationInstance,e)}function isMetaMaskProvider(e){return null!==e&&"object"==typeof e&&e.hasOwnProperty("isMetaMask")&&e.hasOwnProperty("request")}function detectMetaMaskProvider(e,{timeout:t=3e3}={}){let r=!1;return new Promise(n=>{let i=e=>{let{info:t,provider:i}=e.detail;["io.metamask","io.metamask.flask"].includes(t.rdns)&&isMetaMaskProvider(i)&&(n(i),r=!0)};"function"==typeof e.addEventListener&&e.addEventListener("eip6963:announceProvider",i),setTimeout(()=>{r||n(null)},t),"function"==typeof e.dispatchEvent&&e.dispatchEvent(new Event("eip6963:requestProvider"))})}async function waitForMetaMaskProvider(e,{timeout:t=3e3,retries:r=0}={}){return detectMetaMaskProvider(e,{timeout:t}).catch(function(){return null}).then(function(n){return n||0===r?n:waitForMetaMaskProvider(e,{timeout:t,retries:r-1})})}async function detectMetamaskSupport(e){return await waitForMetaMaskProvider(e,{retries:3})}async function fetchMetaMaskSnapWallet(e){await init({name:"MetaMaskStarknetSnapWallet",remotes:[{name:"MetaMaskStarknetSnapWallet",alias:"MetaMaskStarknetSnapWallet",entry:"https://snaps.consensys.io/starknet/get-starknet/v1/remoteEntry.js"}]});let{MetaMaskSnapWallet:t}=await loadRemote("MetaMaskStarknetSnapWallet/index");return new t(e,"*")}function createMetaMaskProviderWrapper(e,t){let r,n;return{id:e.id,name:e.name,icon:e.icon,get version(){var i;return null!=(i=null==r?void 0:r.version)?i:"0.0.0"},get isConnected(){var s;return null!=(s=null==r?void 0:r.isConnected)&&s},get provider(){return null==r?void 0:r.provider},get account(){return null==r?void 0:r.account},get selectedAddress(){return null==r?void 0:r.selectedAddress},get chainId(){return null==r?void 0:r.chainId},request(e){if(!r)throw Error("Wallet not enabled");return r.request(e)},enable:async()=>(r||(n=n||fetchMetaMaskSnapWallet(t),r=await n),await r.enable()),isPreauthorized(){var e;return null!=(e=null==r?void 0:r.isPreauthorized())?e:Promise.resolve(!1)},on(e,t){if(!r)throw Error("Wallet not enabled");return r.on(e,t)},off(e,t){if(!r)throw Error("Wallet not enabled");return r.off(e,t)}}}async function injectMetamaskBridge(e){if(e.hasOwnProperty("starknet_metamask"))return;let t=wallets.find(e=>"metamask"===e.id);if(!t)return;let r=await detectMetamaskSupport(e);r&&(e.starknet_metamask=createMetaMaskProviderWrapper(t,r))}function scanObjectForWallets(e,t){return Object.values(Object.getOwnPropertyNames(e).reduce((r,n)=>{if(n.startsWith("starknet")){let i=e[n];t(i)&&!r[i.id]&&(r[i.id]=i)}return r},{}))}setGlobalFederationConstructor(FederationHost);let sortBy=(e,t)=>{if(!(t&&Array.isArray(t)))return shuffle(e);{e.sort((e,r)=>t.indexOf(e.id)-t.indexOf(r.id));let r=e.length-t.length;return[...e.slice(r),...shuffle(e.slice(0,r))]}},defaultOptions={windowObject:null!=ssrSafeWindow?ssrSafeWindow:{},isWalletObject:isWalletObj,storageFactoryImplementation:e=>new LocalStorageWrapper(e)};function getStarknet(e={}){let{storageFactoryImplementation:t,windowObject:r,isWalletObject:n}={...defaultOptions,...e},i=t("gsw-last");return injectMetamaskBridge(r),{getAvailableWallets:async(e={})=>{let t=scanObjectForWallets(r,n);return pipe$1(t=>filterBy(t,e),t=>sortBy(t,e.sort))(t)},getPreAuthorizedWallets:async(e={})=>{let t=scanObjectForWallets(r,n);return pipe$1(e=>filterByPreAuthorized(e),t=>filterBy(t,e),t=>sortBy(t,e.sort))(t)},getDiscoveryWallets:async(e={})=>pipe$1(t=>filterBy(t,e),t=>sortBy(t,e.sort))(wallets),getLastConnectedWallet:async()=>{let e=i.get(),t=scanObjectForWallets(r,n).find(t=>t.id===e),[s]=await filterByPreAuthorized(t?[t]:[]);return s||(i.delete(),null)},enable:async(e,t)=>{if(await e.enable(null!=t?t:{starknetVersion:"v5"}),!e.isConnected)throw Error("Failed to connect to wallet");return i.set(e.id),e},disconnect:async({clearLastWallet:e}={})=>{e&&i.delete()}}}let main=getStarknet();function getBrowserStoreVersionFromBrowser(){var e;switch(null==(e=Bowser.getParser(null==ssrSafeWindow?void 0:ssrSafeWindow.navigator.userAgent).getBrowserName())?void 0:e.toLowerCase()){case"firefox":return"firefox";case"microsoft edge":return"edge";case"android browser":case"chrome":case"chromium":case"electron":case"opera":case"vivaldi":return"chrome";case"safari":return"safari";default:return null}}function getOperatingSystemStoreVersionFromBrowser(){var e,t,r;let n=null!=(r=null==(t=null==(e=Bowser.getParser(null==ssrSafeWindow?void 0:ssrSafeWindow.navigator.userAgent).getOS())?void 0:e.name)?void 0:t.toLowerCase())?r:null;switch(n){case"ios":case"android":return n;default:return null}}let enableWithVersion=async e=>e?main.enable(e,{starknetVersion:"v5"}).catch(()=>null):null,connect=async({modalMode:e="canAsk",storeVersion:t=getBrowserStoreVersionFromBrowser(),osVersion:r=getOperatingSystemStoreVersionFromBrowser(),modalTheme:n,...i}={})=>{var s,o;let a=await main.getPreAuthorizedWallets({...i}),l=await main.getLastConnectedWallet();if("neverAsk"===e)return enableWithVersion(null!=(s=a.find(e=>e.id===(null==l?void 0:l.id)))?s:a[0]);let u=await main.getAvailableWallets(i);if("canAsk"===e&&l){let e=null!=(o=a.find(e=>e.id===(null==l?void 0:l.id)))?o:1===u.length?u[0]:void 0;if(e)return enableWithVersion(e)}return show({lastWallet:l,preAuthorizedWallets:a,installedWallets:u,discoveryWallets:(await main.getDiscoveryWallets(i)).reduce((e,n)=>{let i=n.downloads[r]||n.downloads[t];if(i){let t=Object.keys(n.downloads).find(e=>n.downloads[e]===i),r="android"===t||"ios"===t?`${n.name} Mobile`:`Install ${n.name}`;e.push({...n,name:r,download:i})}return e},[]),enable:enableWithVersion,modalOptions:{theme:n}})};function disconnect(e={}){return main.disconnect(e)}}};var __webpack_require__=require("../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=e=>__webpack_require__(__webpack_require__.s=e),__webpack_exports__=__webpack_require__.X(0,[3418,3467],()=>__webpack_exec__(96967));module.exports=__webpack_exports__})();